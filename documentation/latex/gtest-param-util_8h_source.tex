\hypertarget{gtest-param-util_8h_source}{}\doxysection{gtest-\/param-\/util.h}
\label{gtest-param-util_8h_source}\index{build/\_deps/googletest-\/src/googletest/include/gtest/internal/gtest-\/param-\/util.h@{build/\_deps/googletest-\/src/googletest/include/gtest/internal/gtest-\/param-\/util.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// Copyright 2008 Google Inc.}}
\DoxyCodeLine{2 \textcolor{comment}{// All Rights Reserved.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{// Redistribution and use in source and binary forms, with or without}}
\DoxyCodeLine{5 \textcolor{comment}{// modification, are permitted provided that the following conditions are}}
\DoxyCodeLine{6 \textcolor{comment}{// met:}}
\DoxyCodeLine{7 \textcolor{comment}{//}}
\DoxyCodeLine{8 \textcolor{comment}{//     * Redistributions of source code must retain the above copyright}}
\DoxyCodeLine{9 \textcolor{comment}{// notice, this list of conditions and the following disclaimer.}}
\DoxyCodeLine{10 \textcolor{comment}{//     * Redistributions in binary form must reproduce the above}}
\DoxyCodeLine{11 \textcolor{comment}{// copyright notice, this list of conditions and the following disclaimer}}
\DoxyCodeLine{12 \textcolor{comment}{// in the documentation and/or other materials provided with the}}
\DoxyCodeLine{13 \textcolor{comment}{// distribution.}}
\DoxyCodeLine{14 \textcolor{comment}{//     * Neither the name of Google Inc. nor the names of its}}
\DoxyCodeLine{15 \textcolor{comment}{// contributors may be used to endorse or promote products derived from}}
\DoxyCodeLine{16 \textcolor{comment}{// this software without specific prior written permission.}}
\DoxyCodeLine{17 \textcolor{comment}{//}}
\DoxyCodeLine{18 \textcolor{comment}{// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS}}
\DoxyCodeLine{19 \textcolor{comment}{// "{}AS IS"{} AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT}}
\DoxyCodeLine{20 \textcolor{comment}{// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR}}
\DoxyCodeLine{21 \textcolor{comment}{// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT}}
\DoxyCodeLine{22 \textcolor{comment}{// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,}}
\DoxyCodeLine{23 \textcolor{comment}{// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT}}
\DoxyCodeLine{24 \textcolor{comment}{// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,}}
\DoxyCodeLine{25 \textcolor{comment}{// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY}}
\DoxyCodeLine{26 \textcolor{comment}{// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT}}
\DoxyCodeLine{27 \textcolor{comment}{// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE}}
\DoxyCodeLine{28 \textcolor{comment}{// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{comment}{// Type and function utilities for implementing parameterized tests.}}
\DoxyCodeLine{31 }
\DoxyCodeLine{32 \textcolor{comment}{// IWYU pragma: private, include "{}gtest/gtest.h"{}}}
\DoxyCodeLine{33 \textcolor{comment}{// IWYU pragma: friend gtest/.*}}
\DoxyCodeLine{34 \textcolor{comment}{// IWYU pragma: friend gmock/.*}}
\DoxyCodeLine{35 }
\DoxyCodeLine{36 \textcolor{preprocessor}{\#ifndef GOOGLETEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PARAM\_UTIL\_H\_}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#define GOOGLETEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PARAM\_UTIL\_H\_}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \textcolor{preprocessor}{\#include <ctype.h>}}
\DoxyCodeLine{40 }
\DoxyCodeLine{41 \textcolor{preprocessor}{\#include <cassert>}}
\DoxyCodeLine{42 \textcolor{preprocessor}{\#include <iterator>}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#include <set>}}
\DoxyCodeLine{45 \textcolor{preprocessor}{\#include <tuple>}}
\DoxyCodeLine{46 \textcolor{preprocessor}{\#include <type\_traits>}}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#include <utility>}}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \textcolor{preprocessor}{\#include "{}gtest/gtest-\/printers.h"{}}}
\DoxyCodeLine{51 \textcolor{preprocessor}{\#include "{}gtest/gtest-\/test-\/part.h"{}}}
\DoxyCodeLine{52 \textcolor{preprocessor}{\#include "{}gtest/internal/gtest-\/internal.h"{}}}
\DoxyCodeLine{53 \textcolor{preprocessor}{\#include "{}gtest/internal/gtest-\/port.h"{}}}
\DoxyCodeLine{54 }
\DoxyCodeLine{55 \textcolor{keyword}{namespace }testing \{}
\DoxyCodeLine{56 \textcolor{comment}{// Input to a parameterized test name generator, describing a test parameter.}}
\DoxyCodeLine{57 \textcolor{comment}{// Consists of the parameter value and the integer parameter index.}}
\DoxyCodeLine{58 \textcolor{keyword}{template} <\textcolor{keyword}{class} ParamType>}
\DoxyCodeLine{59 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1TestParamInfo}{TestParamInfo}} \{}
\DoxyCodeLine{60   \mbox{\hyperlink{structtesting_1_1TestParamInfo}{TestParamInfo}}(\textcolor{keyword}{const} ParamType\& a\_param, \textcolor{keywordtype}{size\_t} an\_index)}
\DoxyCodeLine{61       : param(a\_param), index(an\_index) \{\}}
\DoxyCodeLine{62   ParamType param;}
\DoxyCodeLine{63   \textcolor{keywordtype}{size\_t} index;}
\DoxyCodeLine{64 \};}
\DoxyCodeLine{65 }
\DoxyCodeLine{66 \textcolor{comment}{// A builtin parameterized test name generator which returns the result of}}
\DoxyCodeLine{67 \textcolor{comment}{// testing::PrintToString.}}
\DoxyCodeLine{68 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1PrintToStringParamName}{PrintToStringParamName}} \{}
\DoxyCodeLine{69   \textcolor{keyword}{template} <\textcolor{keyword}{class} ParamType>}
\DoxyCodeLine{70   std::string operator()(\textcolor{keyword}{const} \mbox{\hyperlink{structtesting_1_1TestParamInfo}{TestParamInfo<ParamType>}}\& info)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{71     \textcolor{keywordflow}{return} PrintToString(info.param);}
\DoxyCodeLine{72   \}}
\DoxyCodeLine{73 \};}
\DoxyCodeLine{74 }
\DoxyCodeLine{75 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{76 }
\DoxyCodeLine{77 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE IN USER CODE.}}
\DoxyCodeLine{78 \textcolor{comment}{// Utility Functions}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{comment}{// Outputs a message explaining invalid registration of different}}
\DoxyCodeLine{81 \textcolor{comment}{// fixture class for the same test suite. This may happen when}}
\DoxyCodeLine{82 \textcolor{comment}{// TEST\_P macro is used to define two tests with the same name}}
\DoxyCodeLine{83 \textcolor{comment}{// but in different namespaces.}}
\DoxyCodeLine{84 GTEST\_API\_ \textcolor{keywordtype}{void} ReportInvalidTestSuiteType(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* test\_suite\_name,}
\DoxyCodeLine{85                                            CodeLocation code\_location);}
\DoxyCodeLine{86 }
\DoxyCodeLine{87 \textcolor{keyword}{template} <\textcolor{keyword}{typename}>}
\DoxyCodeLine{88 \textcolor{keyword}{class }ParamGeneratorInterface;}
\DoxyCodeLine{89 \textcolor{keyword}{template} <\textcolor{keyword}{typename}>}
\DoxyCodeLine{90 \textcolor{keyword}{class }ParamGenerator;}
\DoxyCodeLine{91 }
\DoxyCodeLine{92 \textcolor{comment}{// Interface for iterating over elements provided by an implementation}}
\DoxyCodeLine{93 \textcolor{comment}{// of ParamGeneratorInterface<T>.}}
\DoxyCodeLine{94 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{95 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface}} \{}
\DoxyCodeLine{96  \textcolor{keyword}{public}:}
\DoxyCodeLine{97   \textcolor{keyword}{virtual} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{\string~ParamIteratorInterface}}() \{\}}
\DoxyCodeLine{98   \textcolor{comment}{// A pointer to the base generator instance.}}
\DoxyCodeLine{99   \textcolor{comment}{// Used only for the purposes of iterator comparison}}
\DoxyCodeLine{100   \textcolor{comment}{// to make sure that two iterators belong to the same generator.}}
\DoxyCodeLine{101   \textcolor{keyword}{virtual} \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface<T>}}* BaseGenerator() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{102   \textcolor{comment}{// Advances iterator to point to the next element}}
\DoxyCodeLine{103   \textcolor{comment}{// provided by the generator. The caller is responsible}}
\DoxyCodeLine{104   \textcolor{comment}{// for not calling Advance() on an iterator equal to}}
\DoxyCodeLine{105   \textcolor{comment}{// BaseGenerator()-\/>End().}}
\DoxyCodeLine{106   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Advance() = 0;}
\DoxyCodeLine{107   \textcolor{comment}{// Clones the iterator object. Used for implementing copy semantics}}
\DoxyCodeLine{108   \textcolor{comment}{// of ParamIterator<T>.}}
\DoxyCodeLine{109   \textcolor{keyword}{virtual} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface}}* Clone() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{110   \textcolor{comment}{// Dereferences the current iterator and provides (read-\/only) access}}
\DoxyCodeLine{111   \textcolor{comment}{// to the pointed value. It is the caller's responsibility not to call}}
\DoxyCodeLine{112   \textcolor{comment}{// Current() on an iterator equal to BaseGenerator()-\/>End().}}
\DoxyCodeLine{113   \textcolor{comment}{// Used for implementing ParamGenerator<T>::operator*().}}
\DoxyCodeLine{114   \textcolor{keyword}{virtual} \textcolor{keyword}{const} T* Current() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{115   \textcolor{comment}{// Determines whether the given iterator and other point to the same}}
\DoxyCodeLine{116   \textcolor{comment}{// element in the sequence generated by the generator.}}
\DoxyCodeLine{117   \textcolor{comment}{// Used for implementing ParamGenerator<T>::operator==().}}
\DoxyCodeLine{118   \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} Equals(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface}}\& other) \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{119 \};}
\DoxyCodeLine{120 }
\DoxyCodeLine{121 \textcolor{comment}{// Class iterating over elements provided by an implementation of}}
\DoxyCodeLine{122 \textcolor{comment}{// ParamGeneratorInterface<T>. It wraps ParamIteratorInterface<T>}}
\DoxyCodeLine{123 \textcolor{comment}{// and implements the const forward iterator concept.}}
\DoxyCodeLine{124 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{125 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamIterator}} \{}
\DoxyCodeLine{126  \textcolor{keyword}{public}:}
\DoxyCodeLine{127   \textcolor{keyword}{typedef} T value\_type;}
\DoxyCodeLine{128   \textcolor{keyword}{typedef} \textcolor{keyword}{const} T\& reference;}
\DoxyCodeLine{129   \textcolor{keyword}{typedef} ptrdiff\_t difference\_type;}
\DoxyCodeLine{130 }
\DoxyCodeLine{131   \textcolor{comment}{// ParamIterator assumes ownership of the impl\_ pointer.}}
\DoxyCodeLine{132   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamIterator}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamIterator}}\& other) : impl\_(other.impl\_-\/>Clone()) \{\}}
\DoxyCodeLine{133   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamIterator}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamIterator}}\& other) \{}
\DoxyCodeLine{134     \textcolor{keywordflow}{if} (\textcolor{keyword}{this} != \&other) impl\_.reset(other.impl\_-\/>Clone());}
\DoxyCodeLine{135     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{136   \}}
\DoxyCodeLine{137 }
\DoxyCodeLine{138   \textcolor{keyword}{const} T\& operator*()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *impl\_-\/>Current(); \}}
\DoxyCodeLine{139   \textcolor{keyword}{const} T* operator-\/>()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} impl\_-\/>Current(); \}}
\DoxyCodeLine{140   \textcolor{comment}{// Prefix version of operator++.}}
\DoxyCodeLine{141   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamIterator}}\& operator++() \{}
\DoxyCodeLine{142     impl\_-\/>Advance();}
\DoxyCodeLine{143     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{144   \}}
\DoxyCodeLine{145   \textcolor{comment}{// Postfix version of operator++.}}
\DoxyCodeLine{146   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamIterator}} operator++(\textcolor{keywordtype}{int} \textcolor{comment}{/*unused*/}) \{}
\DoxyCodeLine{147     \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}* clone = impl\_-\/>Clone();}
\DoxyCodeLine{148     impl\_-\/>Advance();}
\DoxyCodeLine{149     \textcolor{keywordflow}{return} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamIterator}}(clone);}
\DoxyCodeLine{150   \}}
\DoxyCodeLine{151   \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamIterator}}\& other)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{152     \textcolor{keywordflow}{return} impl\_.get() == other.impl\_.get() || impl\_-\/>Equals(*other.impl\_);}
\DoxyCodeLine{153   \}}
\DoxyCodeLine{154   \textcolor{keywordtype}{bool} operator!=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamIterator}}\& other)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{155     \textcolor{keywordflow}{return} !(*\textcolor{keyword}{this} == other);}
\DoxyCodeLine{156   \}}
\DoxyCodeLine{157 }
\DoxyCodeLine{158  \textcolor{keyword}{private}:}
\DoxyCodeLine{159   \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator}}<T>;}
\DoxyCodeLine{160   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamIterator}}(\mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}* impl) : impl\_(impl) \{\}}
\DoxyCodeLine{161   std::unique\_ptr<ParamIteratorInterface<T>> impl\_;}
\DoxyCodeLine{162 \};}
\DoxyCodeLine{163 }
\DoxyCodeLine{164 \textcolor{comment}{// ParamGeneratorInterface<T> is the binary interface to access generators}}
\DoxyCodeLine{165 \textcolor{comment}{// defined in other translation units.}}
\DoxyCodeLine{166 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{167 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface}} \{}
\DoxyCodeLine{168  \textcolor{keyword}{public}:}
\DoxyCodeLine{169   \textcolor{keyword}{typedef} T ParamType;}
\DoxyCodeLine{170 }
\DoxyCodeLine{171   \textcolor{keyword}{virtual} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{\string~ParamGeneratorInterface}}() \{\}}
\DoxyCodeLine{172 }
\DoxyCodeLine{173   \textcolor{comment}{// Generator interface definition}}
\DoxyCodeLine{174   \textcolor{keyword}{virtual} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}* Begin() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{175   \textcolor{keyword}{virtual} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}* End() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{176 \};}
\DoxyCodeLine{177 }
\DoxyCodeLine{178 \textcolor{comment}{// Wraps ParamGeneratorInterface<T> and provides general generator syntax}}
\DoxyCodeLine{179 \textcolor{comment}{// compatible with the STL Container concept.}}
\DoxyCodeLine{180 \textcolor{comment}{// This class implements copy initialization semantics and the contained}}
\DoxyCodeLine{181 \textcolor{comment}{// ParamGeneratorInterface<T> instance is shared among all copies}}
\DoxyCodeLine{182 \textcolor{comment}{// of the original object. This is possible because that instance is immutable.}}
\DoxyCodeLine{183 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{184 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator}} \{}
\DoxyCodeLine{185  \textcolor{keyword}{public}:}
\DoxyCodeLine{186   \textcolor{keyword}{typedef} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamIterator<T>}} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{iterator}};}
\DoxyCodeLine{187 }
\DoxyCodeLine{188   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator}}(\mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface<T>}}* impl) : impl\_(impl) \{\}}
\DoxyCodeLine{189   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator}}\& other) : impl\_(other.impl\_) \{\}}
\DoxyCodeLine{190 }
\DoxyCodeLine{191   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator}}\& other) \{}
\DoxyCodeLine{192     impl\_ = other.impl\_;}
\DoxyCodeLine{193     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{194   \}}
\DoxyCodeLine{195 }
\DoxyCodeLine{196   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{iterator}} begin()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{iterator}}(impl\_-\/>Begin()); \}}
\DoxyCodeLine{197   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{iterator}} end()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{iterator}}(impl\_-\/>End()); \}}
\DoxyCodeLine{198 }
\DoxyCodeLine{199  \textcolor{keyword}{private}:}
\DoxyCodeLine{200   std::shared\_ptr<const ParamGeneratorInterface<T>> impl\_;}
\DoxyCodeLine{201 \};}
\DoxyCodeLine{202 }
\DoxyCodeLine{203 \textcolor{comment}{// Generates values from a range of two comparable values. Can be used to}}
\DoxyCodeLine{204 \textcolor{comment}{// generate sequences of user-\/defined types that implement operator+() and}}
\DoxyCodeLine{205 \textcolor{comment}{// operator<().}}
\DoxyCodeLine{206 \textcolor{comment}{// This class is used in the Range() function.}}
\DoxyCodeLine{207 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename} IncrementT>}
\DoxyCodeLine{208 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1RangeGenerator}{RangeGenerator}} : \textcolor{keyword}{public} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface}}<T> \{}
\DoxyCodeLine{209  \textcolor{keyword}{public}:}
\DoxyCodeLine{210   \mbox{\hyperlink{classtesting_1_1internal_1_1RangeGenerator}{RangeGenerator}}(T begin, T end, IncrementT step)}
\DoxyCodeLine{211       : begin\_(begin),}
\DoxyCodeLine{212         end\_(end),}
\DoxyCodeLine{213         step\_(step),}
\DoxyCodeLine{214         end\_index\_(CalculateEndIndex(begin, end, step)) \{\}}
\DoxyCodeLine{215   \mbox{\hyperlink{classtesting_1_1internal_1_1RangeGenerator}{\string~RangeGenerator}}()\textcolor{keyword}{ override }\{\}}
\DoxyCodeLine{216 }
\DoxyCodeLine{217   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}* Begin()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{218     \textcolor{keywordflow}{return} \textcolor{keyword}{new} Iterator(\textcolor{keyword}{this}, begin\_, 0, step\_);}
\DoxyCodeLine{219   \}}
\DoxyCodeLine{220   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}* End()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{221     \textcolor{keywordflow}{return} \textcolor{keyword}{new} Iterator(\textcolor{keyword}{this}, end\_, end\_index\_, step\_);}
\DoxyCodeLine{222   \}}
\DoxyCodeLine{223 }
\DoxyCodeLine{224  \textcolor{keyword}{private}:}
\DoxyCodeLine{225   \textcolor{keyword}{class }Iterator : \textcolor{keyword}{public} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface}}<T> \{}
\DoxyCodeLine{226    \textcolor{keyword}{public}:}
\DoxyCodeLine{227     Iterator(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface<T>}}* base, T value, \textcolor{keywordtype}{int} index,}
\DoxyCodeLine{228              IncrementT step)}
\DoxyCodeLine{229         : base\_(base), value\_(value), index\_(index), step\_(step) \{\}}
\DoxyCodeLine{230     \string~Iterator()\textcolor{keyword}{ override }\{\}}
\DoxyCodeLine{231 }
\DoxyCodeLine{232     \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface<T>}}* BaseGenerator()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{233       \textcolor{keywordflow}{return} base\_;}
\DoxyCodeLine{234     \}}
\DoxyCodeLine{235     \textcolor{keywordtype}{void} Advance()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{236       value\_ = \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(value\_ + step\_);}
\DoxyCodeLine{237       index\_++;}
\DoxyCodeLine{238     \}}
\DoxyCodeLine{239     \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}* Clone()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{240       \textcolor{keywordflow}{return} \textcolor{keyword}{new} Iterator(*\textcolor{keyword}{this});}
\DoxyCodeLine{241     \}}
\DoxyCodeLine{242     \textcolor{keyword}{const} T* Current()\textcolor{keyword}{ const override }\{ \textcolor{keywordflow}{return} \&value\_; \}}
\DoxyCodeLine{243     \textcolor{keywordtype}{bool} Equals(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}\& other)\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{244       \textcolor{comment}{// Having the same base generator guarantees that the other}}
\DoxyCodeLine{245       \textcolor{comment}{// iterator is of the same type and we can downcast.}}
\DoxyCodeLine{246       GTEST\_CHECK\_(BaseGenerator() == other.BaseGenerator())}
\DoxyCodeLine{247           << \textcolor{stringliteral}{"{}The program attempted to compare iterators "{}}}
\DoxyCodeLine{248           << \textcolor{stringliteral}{"{}from different generators."{}} << std::endl;}
\DoxyCodeLine{249       \textcolor{keyword}{const} \textcolor{keywordtype}{int} other\_index =}
\DoxyCodeLine{250           CheckedDowncastToActualType<const Iterator>(\&other)-\/>index\_;}
\DoxyCodeLine{251       \textcolor{keywordflow}{return} index\_ == other\_index;}
\DoxyCodeLine{252     \}}
\DoxyCodeLine{253 }
\DoxyCodeLine{254    \textcolor{keyword}{private}:}
\DoxyCodeLine{255     Iterator(\textcolor{keyword}{const} Iterator\& other)}
\DoxyCodeLine{256         : \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}(),}
\DoxyCodeLine{257           base\_(other.base\_),}
\DoxyCodeLine{258           value\_(other.value\_),}
\DoxyCodeLine{259           index\_(other.index\_),}
\DoxyCodeLine{260           step\_(other.step\_) \{\}}
\DoxyCodeLine{261 }
\DoxyCodeLine{262     \textcolor{comment}{// No implementation -\/ assignment is unsupported.}}
\DoxyCodeLine{263     \textcolor{keywordtype}{void} operator=(\textcolor{keyword}{const} Iterator\& other);}
\DoxyCodeLine{264 }
\DoxyCodeLine{265     \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface<T>}}* \textcolor{keyword}{const} base\_;}
\DoxyCodeLine{266     T value\_;}
\DoxyCodeLine{267     \textcolor{keywordtype}{int} index\_;}
\DoxyCodeLine{268     \textcolor{keyword}{const} IncrementT step\_;}
\DoxyCodeLine{269   \};  \textcolor{comment}{// class RangeGenerator::Iterator}}
\DoxyCodeLine{270 }
\DoxyCodeLine{271   \textcolor{keyword}{static} \textcolor{keywordtype}{int} CalculateEndIndex(\textcolor{keyword}{const} T\& begin, \textcolor{keyword}{const} T\& end,}
\DoxyCodeLine{272                                \textcolor{keyword}{const} IncrementT\& step) \{}
\DoxyCodeLine{273     \textcolor{keywordtype}{int} end\_index = 0;}
\DoxyCodeLine{274     \textcolor{keywordflow}{for} (T i = begin; i < end; i = static\_cast<T>(i + step)) end\_index++;}
\DoxyCodeLine{275     \textcolor{keywordflow}{return} end\_index;}
\DoxyCodeLine{276   \}}
\DoxyCodeLine{277 }
\DoxyCodeLine{278   \textcolor{comment}{// No implementation -\/ assignment is unsupported.}}
\DoxyCodeLine{279   \textcolor{keywordtype}{void} operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1RangeGenerator}{RangeGenerator}}\& other);}
\DoxyCodeLine{280 }
\DoxyCodeLine{281   \textcolor{keyword}{const} T begin\_;}
\DoxyCodeLine{282   \textcolor{keyword}{const} T end\_;}
\DoxyCodeLine{283   \textcolor{keyword}{const} IncrementT step\_;}
\DoxyCodeLine{284   \textcolor{comment}{// The index for the end() iterator. All the elements in the generated}}
\DoxyCodeLine{285   \textcolor{comment}{// sequence are indexed (0-\/based) to aid iterator comparison.}}
\DoxyCodeLine{286   \textcolor{keyword}{const} \textcolor{keywordtype}{int} end\_index\_;}
\DoxyCodeLine{287 \};  \textcolor{comment}{// class RangeGenerator}}
\DoxyCodeLine{288 }
\DoxyCodeLine{289 \textcolor{comment}{// Generates values from a pair of STL-\/style iterators. Used in the}}
\DoxyCodeLine{290 \textcolor{comment}{// ValuesIn() function. The elements are copied from the source range}}
\DoxyCodeLine{291 \textcolor{comment}{// since the source can be located on the stack, and the generator}}
\DoxyCodeLine{292 \textcolor{comment}{// is likely to persist beyond that stack frame.}}
\DoxyCodeLine{293 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{294 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1ValuesInIteratorRangeGenerator}{ValuesInIteratorRangeGenerator}} : \textcolor{keyword}{public} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface}}<T> \{}
\DoxyCodeLine{295  \textcolor{keyword}{public}:}
\DoxyCodeLine{296   \textcolor{keyword}{template} <\textcolor{keyword}{typename} ForwardIterator>}
\DoxyCodeLine{297   \mbox{\hyperlink{classtesting_1_1internal_1_1ValuesInIteratorRangeGenerator}{ValuesInIteratorRangeGenerator}}(ForwardIterator begin, ForwardIterator end)}
\DoxyCodeLine{298       : container\_(begin, end) \{\}}
\DoxyCodeLine{299   \mbox{\hyperlink{classtesting_1_1internal_1_1ValuesInIteratorRangeGenerator}{\string~ValuesInIteratorRangeGenerator}}()\textcolor{keyword}{ override }\{\}}
\DoxyCodeLine{300 }
\DoxyCodeLine{301   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}* Begin()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{302     \textcolor{keywordflow}{return} \textcolor{keyword}{new} Iterator(\textcolor{keyword}{this}, container\_.begin());}
\DoxyCodeLine{303   \}}
\DoxyCodeLine{304   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}* End()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{305     \textcolor{keywordflow}{return} \textcolor{keyword}{new} Iterator(\textcolor{keyword}{this}, container\_.end());}
\DoxyCodeLine{306   \}}
\DoxyCodeLine{307 }
\DoxyCodeLine{308  \textcolor{keyword}{private}:}
\DoxyCodeLine{309   \textcolor{keyword}{typedef} typename ::std::vector<T> ContainerType;}
\DoxyCodeLine{310 }
\DoxyCodeLine{311   \textcolor{keyword}{class }Iterator : \textcolor{keyword}{public} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface}}<T> \{}
\DoxyCodeLine{312    \textcolor{keyword}{public}:}
\DoxyCodeLine{313     Iterator(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface<T>}}* base,}
\DoxyCodeLine{314              \textcolor{keyword}{typename} ContainerType::const\_iterator iterator)}
\DoxyCodeLine{315         : base\_(base), iterator\_(iterator) \{\}}
\DoxyCodeLine{316     \string~Iterator()\textcolor{keyword}{ override }\{\}}
\DoxyCodeLine{317 }
\DoxyCodeLine{318     \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface<T>}}* BaseGenerator()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{319       \textcolor{keywordflow}{return} base\_;}
\DoxyCodeLine{320     \}}
\DoxyCodeLine{321     \textcolor{keywordtype}{void} Advance()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{322       ++iterator\_;}
\DoxyCodeLine{323       value\_.reset();}
\DoxyCodeLine{324     \}}
\DoxyCodeLine{325     \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}* Clone()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{326       \textcolor{keywordflow}{return} \textcolor{keyword}{new} Iterator(*\textcolor{keyword}{this});}
\DoxyCodeLine{327     \}}
\DoxyCodeLine{328     \textcolor{comment}{// We need to use cached value referenced by iterator\_ because *iterator\_}}
\DoxyCodeLine{329     \textcolor{comment}{// can return a temporary object (and of type other then T), so just}}
\DoxyCodeLine{330     \textcolor{comment}{// having "{}return \&*iterator\_;"{} doesn't work.}}
\DoxyCodeLine{331     \textcolor{comment}{// value\_ is updated here and not in Advance() because Advance()}}
\DoxyCodeLine{332     \textcolor{comment}{// can advance iterator\_ beyond the end of the range, and we cannot}}
\DoxyCodeLine{333     \textcolor{comment}{// detect that fact. The client code, on the other hand, is}}
\DoxyCodeLine{334     \textcolor{comment}{// responsible for not calling Current() on an out-\/of-\/range iterator.}}
\DoxyCodeLine{335     \textcolor{keyword}{const} T* Current()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{336       \textcolor{keywordflow}{if} (value\_.get() == \textcolor{keyword}{nullptr}) value\_.reset(\textcolor{keyword}{new} T(*iterator\_));}
\DoxyCodeLine{337       \textcolor{keywordflow}{return} value\_.get();}
\DoxyCodeLine{338     \}}
\DoxyCodeLine{339     \textcolor{keywordtype}{bool} Equals(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}\& other)\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{340       \textcolor{comment}{// Having the same base generator guarantees that the other}}
\DoxyCodeLine{341       \textcolor{comment}{// iterator is of the same type and we can downcast.}}
\DoxyCodeLine{342       GTEST\_CHECK\_(BaseGenerator() == other.BaseGenerator())}
\DoxyCodeLine{343           << \textcolor{stringliteral}{"{}The program attempted to compare iterators "{}}}
\DoxyCodeLine{344           << \textcolor{stringliteral}{"{}from different generators."{}} << std::endl;}
\DoxyCodeLine{345       \textcolor{keywordflow}{return} iterator\_ ==}
\DoxyCodeLine{346              CheckedDowncastToActualType<const Iterator>(\&other)-\/>iterator\_;}
\DoxyCodeLine{347     \}}
\DoxyCodeLine{348 }
\DoxyCodeLine{349    \textcolor{keyword}{private}:}
\DoxyCodeLine{350     Iterator(\textcolor{keyword}{const} Iterator\& other)}
\DoxyCodeLine{351         \textcolor{comment}{// The explicit constructor call suppresses a false warning}}
\DoxyCodeLine{352         \textcolor{comment}{// emitted by gcc when supplied with the -\/Wextra option.}}
\DoxyCodeLine{353         : \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<T>}}(),}
\DoxyCodeLine{354           base\_(other.base\_),}
\DoxyCodeLine{355           iterator\_(other.iterator\_) \{\}}
\DoxyCodeLine{356 }
\DoxyCodeLine{357     \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface<T>}}* \textcolor{keyword}{const} base\_;}
\DoxyCodeLine{358     \textcolor{keyword}{typename} ContainerType::const\_iterator iterator\_;}
\DoxyCodeLine{359     \textcolor{comment}{// A cached value of *iterator\_. We keep it here to allow access by}}
\DoxyCodeLine{360     \textcolor{comment}{// pointer in the wrapping iterator's operator-\/>().}}
\DoxyCodeLine{361     \textcolor{comment}{// value\_ needs to be mutable to be accessed in Current().}}
\DoxyCodeLine{362     \textcolor{comment}{// Use of std::unique\_ptr helps manage cached value's lifetime,}}
\DoxyCodeLine{363     \textcolor{comment}{// which is bound by the lifespan of the iterator itself.}}
\DoxyCodeLine{364     \textcolor{keyword}{mutable} std::unique\_ptr<const T> value\_;}
\DoxyCodeLine{365   \};  \textcolor{comment}{// class ValuesInIteratorRangeGenerator::Iterator}}
\DoxyCodeLine{366 }
\DoxyCodeLine{367   \textcolor{comment}{// No implementation -\/ assignment is unsupported.}}
\DoxyCodeLine{368   \textcolor{keywordtype}{void} operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ValuesInIteratorRangeGenerator}{ValuesInIteratorRangeGenerator}}\& other);}
\DoxyCodeLine{369 }
\DoxyCodeLine{370   \textcolor{keyword}{const} ContainerType container\_;}
\DoxyCodeLine{371 \};  \textcolor{comment}{// class ValuesInIteratorRangeGenerator}}
\DoxyCodeLine{372 }
\DoxyCodeLine{373 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE IN USER CODE.}}
\DoxyCodeLine{374 \textcolor{comment}{//}}
\DoxyCodeLine{375 \textcolor{comment}{// Default parameterized test name generator, returns a string containing the}}
\DoxyCodeLine{376 \textcolor{comment}{// integer test parameter index.}}
\DoxyCodeLine{377 \textcolor{keyword}{template} <\textcolor{keyword}{class} ParamType>}
\DoxyCodeLine{378 std::string DefaultParamName(\textcolor{keyword}{const} \mbox{\hyperlink{structtesting_1_1TestParamInfo}{TestParamInfo<ParamType>}}\& info) \{}
\DoxyCodeLine{379   \mbox{\hyperlink{classtesting_1_1Message}{Message}} name\_stream;}
\DoxyCodeLine{380   name\_stream << info.index;}
\DoxyCodeLine{381   \textcolor{keywordflow}{return} name\_stream.GetString();}
\DoxyCodeLine{382 \}}
\DoxyCodeLine{383 }
\DoxyCodeLine{384 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = \textcolor{keywordtype}{int}>}
\DoxyCodeLine{385 \textcolor{keywordtype}{void} TestNotEmpty() \{}
\DoxyCodeLine{386   \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(T) == 0, \textcolor{stringliteral}{"{}Empty arguments are not allowed."{}});}
\DoxyCodeLine{387 \}}
\DoxyCodeLine{388 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = \textcolor{keywordtype}{int}>}
\DoxyCodeLine{389 \textcolor{keywordtype}{void} TestNotEmpty(\textcolor{keyword}{const} T\&) \{\}}
\DoxyCodeLine{390 }
\DoxyCodeLine{391 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE IN USER CODE.}}
\DoxyCodeLine{392 \textcolor{comment}{//}}
\DoxyCodeLine{393 \textcolor{comment}{// Stores a parameter value and later creates tests parameterized with that}}
\DoxyCodeLine{394 \textcolor{comment}{// value.}}
\DoxyCodeLine{395 \textcolor{keyword}{template} <\textcolor{keyword}{class} TestClass>}
\DoxyCodeLine{396 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestFactory}{ParameterizedTestFactory}} : \textcolor{keyword}{public} \mbox{\hyperlink{classtesting_1_1internal_1_1TestFactoryBase}{TestFactoryBase}} \{}
\DoxyCodeLine{397  \textcolor{keyword}{public}:}
\DoxyCodeLine{398   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} TestClass::ParamType ParamType;}
\DoxyCodeLine{399   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestFactory}{ParameterizedTestFactory}}(ParamType parameter)}
\DoxyCodeLine{400       : parameter\_(parameter) \{\}}
\DoxyCodeLine{401   \mbox{\hyperlink{classtesting_1_1Test}{Test}}* CreateTest()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{402     TestClass::SetParam(\&parameter\_);}
\DoxyCodeLine{403     \textcolor{keywordflow}{return} \textcolor{keyword}{new} TestClass();}
\DoxyCodeLine{404   \}}
\DoxyCodeLine{405 }
\DoxyCodeLine{406  \textcolor{keyword}{private}:}
\DoxyCodeLine{407   \textcolor{keyword}{const} ParamType parameter\_;}
\DoxyCodeLine{408 }
\DoxyCodeLine{409   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestFactory}{ParameterizedTestFactory}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestFactory}{ParameterizedTestFactory}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{410   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestFactory}{ParameterizedTestFactory}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestFactory}{ParameterizedTestFactory}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{411 \};}
\DoxyCodeLine{412 }
\DoxyCodeLine{413 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE IN USER CODE.}}
\DoxyCodeLine{414 \textcolor{comment}{//}}
\DoxyCodeLine{415 \textcolor{comment}{// TestMetaFactoryBase is a base class for meta-\/factories that create}}
\DoxyCodeLine{416 \textcolor{comment}{// test factories for passing into MakeAndRegisterTestInfo function.}}
\DoxyCodeLine{417 \textcolor{keyword}{template} <\textcolor{keyword}{class} ParamType>}
\DoxyCodeLine{418 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1TestMetaFactoryBase}{TestMetaFactoryBase}} \{}
\DoxyCodeLine{419  \textcolor{keyword}{public}:}
\DoxyCodeLine{420   \textcolor{keyword}{virtual} \mbox{\hyperlink{classtesting_1_1internal_1_1TestMetaFactoryBase}{\string~TestMetaFactoryBase}}() \{\}}
\DoxyCodeLine{421 }
\DoxyCodeLine{422   \textcolor{keyword}{virtual} \mbox{\hyperlink{classtesting_1_1internal_1_1TestFactoryBase}{TestFactoryBase}}* CreateTestFactory(ParamType parameter) = 0;}
\DoxyCodeLine{423 \};}
\DoxyCodeLine{424 }
\DoxyCodeLine{425 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE IN USER CODE.}}
\DoxyCodeLine{426 \textcolor{comment}{//}}
\DoxyCodeLine{427 \textcolor{comment}{// TestMetaFactory creates test factories for passing into}}
\DoxyCodeLine{428 \textcolor{comment}{// MakeAndRegisterTestInfo function. Since MakeAndRegisterTestInfo receives}}
\DoxyCodeLine{429 \textcolor{comment}{// ownership of test factory pointer, same factory object cannot be passed}}
\DoxyCodeLine{430 \textcolor{comment}{// into that method twice. But ParameterizedTestSuiteInfo is going to call}}
\DoxyCodeLine{431 \textcolor{comment}{// it for each Test/Parameter value combination. Thus it needs meta factory}}
\DoxyCodeLine{432 \textcolor{comment}{// creator class.}}
\DoxyCodeLine{433 \textcolor{keyword}{template} <\textcolor{keyword}{class} TestSuite>}
\DoxyCodeLine{434 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1TestMetaFactory}{TestMetaFactory}}}
\DoxyCodeLine{435     : \textcolor{keyword}{public} \mbox{\hyperlink{classtesting_1_1internal_1_1TestMetaFactoryBase}{TestMetaFactoryBase}}<typename TestSuite::ParamType> \{}
\DoxyCodeLine{436  \textcolor{keyword}{public}:}
\DoxyCodeLine{437   \textcolor{keyword}{using }ParamType = \textcolor{keyword}{typename} TestSuite::ParamType;}
\DoxyCodeLine{438 }
\DoxyCodeLine{439   \mbox{\hyperlink{classtesting_1_1internal_1_1TestMetaFactory}{TestMetaFactory}}() \{\}}
\DoxyCodeLine{440 }
\DoxyCodeLine{441   \mbox{\hyperlink{classtesting_1_1internal_1_1TestFactoryBase}{TestFactoryBase}}* CreateTestFactory(ParamType parameter)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{442     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestFactory}{ParameterizedTestFactory<TestSuite>}}(parameter);}
\DoxyCodeLine{443   \}}
\DoxyCodeLine{444 }
\DoxyCodeLine{445  \textcolor{keyword}{private}:}
\DoxyCodeLine{446   \mbox{\hyperlink{classtesting_1_1internal_1_1TestMetaFactory}{TestMetaFactory}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1TestMetaFactory}{TestMetaFactory}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{447   \mbox{\hyperlink{classtesting_1_1internal_1_1TestMetaFactory}{TestMetaFactory}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1TestMetaFactory}{TestMetaFactory}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{448 \};}
\DoxyCodeLine{449 }
\DoxyCodeLine{450 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE IN USER CODE.}}
\DoxyCodeLine{451 \textcolor{comment}{//}}
\DoxyCodeLine{452 \textcolor{comment}{// ParameterizedTestSuiteInfoBase is a generic interface}}
\DoxyCodeLine{453 \textcolor{comment}{// to ParameterizedTestSuiteInfo classes. ParameterizedTestSuiteInfoBase}}
\DoxyCodeLine{454 \textcolor{comment}{// accumulates test information provided by TEST\_P macro invocations}}
\DoxyCodeLine{455 \textcolor{comment}{// and generators provided by INSTANTIATE\_TEST\_SUITE\_P macro invocations}}
\DoxyCodeLine{456 \textcolor{comment}{// and uses that information to register all resulting test instances}}
\DoxyCodeLine{457 \textcolor{comment}{// in RegisterTests method. The ParameterizeTestSuiteRegistry class holds}}
\DoxyCodeLine{458 \textcolor{comment}{// a collection of pointers to the ParameterizedTestSuiteInfo objects}}
\DoxyCodeLine{459 \textcolor{comment}{// and calls RegisterTests() on each of them when asked.}}
\DoxyCodeLine{460 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfoBase}{ParameterizedTestSuiteInfoBase}} \{}
\DoxyCodeLine{461  \textcolor{keyword}{public}:}
\DoxyCodeLine{462   \textcolor{keyword}{virtual} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfoBase}{\string~ParameterizedTestSuiteInfoBase}}() \{\}}
\DoxyCodeLine{463 }
\DoxyCodeLine{464   \textcolor{comment}{// Base part of test suite name for display purposes.}}
\DoxyCodeLine{465   \textcolor{keyword}{virtual} \textcolor{keyword}{const} std::string\& GetTestSuiteName() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{466   \textcolor{comment}{// Test suite id to verify identity.}}
\DoxyCodeLine{467   \textcolor{keyword}{virtual} TypeId GetTestSuiteTypeId() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{468   \textcolor{comment}{// UnitTest class invokes this method to register tests in this}}
\DoxyCodeLine{469   \textcolor{comment}{// test suite right before running them in RUN\_ALL\_TESTS macro.}}
\DoxyCodeLine{470   \textcolor{comment}{// This method should not be called more than once on any single}}
\DoxyCodeLine{471   \textcolor{comment}{// instance of a ParameterizedTestSuiteInfoBase derived class.}}
\DoxyCodeLine{472   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RegisterTests() = 0;}
\DoxyCodeLine{473 }
\DoxyCodeLine{474  \textcolor{keyword}{protected}:}
\DoxyCodeLine{475   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfoBase}{ParameterizedTestSuiteInfoBase}}() \{\}}
\DoxyCodeLine{476 }
\DoxyCodeLine{477  \textcolor{keyword}{private}:}
\DoxyCodeLine{478   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfoBase}{ParameterizedTestSuiteInfoBase}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfoBase}{ParameterizedTestSuiteInfoBase}}\&) =}
\DoxyCodeLine{479       \textcolor{keyword}{delete};}
\DoxyCodeLine{480   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfoBase}{ParameterizedTestSuiteInfoBase}}\& operator=(}
\DoxyCodeLine{481       \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfoBase}{ParameterizedTestSuiteInfoBase}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{482 \};}
\DoxyCodeLine{483 }
\DoxyCodeLine{484 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE IN USER CODE.}}
\DoxyCodeLine{485 \textcolor{comment}{//}}
\DoxyCodeLine{486 \textcolor{comment}{// Report a the name of a test\_suit as safe to ignore}}
\DoxyCodeLine{487 \textcolor{comment}{// as the side effect of construction of this type.}}
\DoxyCodeLine{488 \textcolor{keyword}{struct }GTEST\_API\_ \mbox{\hyperlink{structtesting_1_1internal_1_1MarkAsIgnored}{MarkAsIgnored}} \{}
\DoxyCodeLine{489   \textcolor{keyword}{explicit} \mbox{\hyperlink{structtesting_1_1internal_1_1MarkAsIgnored}{MarkAsIgnored}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* test\_suite);}
\DoxyCodeLine{490 \};}
\DoxyCodeLine{491 }
\DoxyCodeLine{492 GTEST\_API\_ \textcolor{keywordtype}{void} InsertSyntheticTestCase(\textcolor{keyword}{const} std::string\& name,}
\DoxyCodeLine{493                                         \mbox{\hyperlink{structtesting_1_1internal_1_1CodeLocation}{CodeLocation}} location, \textcolor{keywordtype}{bool} has\_test\_p);}
\DoxyCodeLine{494 }
\DoxyCodeLine{495 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE IN USER CODE.}}
\DoxyCodeLine{496 \textcolor{comment}{//}}
\DoxyCodeLine{497 \textcolor{comment}{// ParameterizedTestSuiteInfo accumulates tests obtained from TEST\_P}}
\DoxyCodeLine{498 \textcolor{comment}{// macro invocations for a particular test suite and generators}}
\DoxyCodeLine{499 \textcolor{comment}{// obtained from INSTANTIATE\_TEST\_SUITE\_P macro invocations for that}}
\DoxyCodeLine{500 \textcolor{comment}{// test suite. It registers tests with all values generated by all}}
\DoxyCodeLine{501 \textcolor{comment}{// generators when asked.}}
\DoxyCodeLine{502 \textcolor{keyword}{template} <\textcolor{keyword}{class} TestSuite>}
\DoxyCodeLine{503 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestSuiteInfo}} : \textcolor{keyword}{public} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfoBase}{ParameterizedTestSuiteInfoBase}} \{}
\DoxyCodeLine{504  \textcolor{keyword}{public}:}
\DoxyCodeLine{505   \textcolor{comment}{// ParamType and GeneratorCreationFunc are private types but are required}}
\DoxyCodeLine{506   \textcolor{comment}{// for declarations of public methods AddTestPattern() and}}
\DoxyCodeLine{507   \textcolor{comment}{// AddTestSuiteInstantiation().}}
\DoxyCodeLine{508   \textcolor{keyword}{using }ParamType = \textcolor{keyword}{typename} TestSuite::ParamType;}
\DoxyCodeLine{509   \textcolor{comment}{// A function that returns an instance of appropriate generator type.}}
\DoxyCodeLine{510   \textcolor{keyword}{typedef} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator<ParamType>}}(GeneratorCreationFunc)();}
\DoxyCodeLine{511   \textcolor{keyword}{using }ParamNameGeneratorFunc = std::string(\textcolor{keyword}{const} \mbox{\hyperlink{structtesting_1_1TestParamInfo}{TestParamInfo<ParamType>}}\&);}
\DoxyCodeLine{512 }
\DoxyCodeLine{513   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestSuiteInfo}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* name,}
\DoxyCodeLine{514                                       \mbox{\hyperlink{structtesting_1_1internal_1_1CodeLocation}{CodeLocation}} code\_location)}
\DoxyCodeLine{515       : test\_suite\_name\_(name), code\_location\_(code\_location) \{\}}
\DoxyCodeLine{516 }
\DoxyCodeLine{517   \textcolor{comment}{// Test suite base name for display purposes.}}
\DoxyCodeLine{518   \textcolor{keyword}{const} std::string\& GetTestSuiteName()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{519     \textcolor{keywordflow}{return} test\_suite\_name\_;}
\DoxyCodeLine{520   \}}
\DoxyCodeLine{521   \textcolor{comment}{// Test suite id to verify identity.}}
\DoxyCodeLine{522   TypeId GetTestSuiteTypeId()\textcolor{keyword}{ const override }\{ \textcolor{keywordflow}{return} GetTypeId<TestSuite>(); \}}
\DoxyCodeLine{523   \textcolor{comment}{// TEST\_P macro uses AddTestPattern() to record information}}
\DoxyCodeLine{524   \textcolor{comment}{// about a single test in a LocalTestInfo structure.}}
\DoxyCodeLine{525   \textcolor{comment}{// test\_suite\_name is the base name of the test suite (without invocation}}
\DoxyCodeLine{526   \textcolor{comment}{// prefix). test\_base\_name is the name of an individual test without}}
\DoxyCodeLine{527   \textcolor{comment}{// parameter index. For the test SequenceA/FooTest.DoBar/1 FooTest is}}
\DoxyCodeLine{528   \textcolor{comment}{// test suite base name and DoBar is test base name.}}
\DoxyCodeLine{529   \textcolor{keywordtype}{void} AddTestPattern(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* test\_suite\_name, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* test\_base\_name,}
\DoxyCodeLine{530                       \mbox{\hyperlink{classtesting_1_1internal_1_1TestMetaFactoryBase}{TestMetaFactoryBase<ParamType>}}* meta\_factory,}
\DoxyCodeLine{531                       \mbox{\hyperlink{structtesting_1_1internal_1_1CodeLocation}{CodeLocation}} code\_location) \{}
\DoxyCodeLine{532     tests\_.push\_back(std::shared\_ptr<TestInfo>(\textcolor{keyword}{new} TestInfo(}
\DoxyCodeLine{533         test\_suite\_name, test\_base\_name, meta\_factory, code\_location)));}
\DoxyCodeLine{534   \}}
\DoxyCodeLine{535   \textcolor{comment}{// INSTANTIATE\_TEST\_SUITE\_P macro uses AddGenerator() to record information}}
\DoxyCodeLine{536   \textcolor{comment}{// about a generator.}}
\DoxyCodeLine{537   \textcolor{keywordtype}{int} AddTestSuiteInstantiation(\textcolor{keyword}{const} std::string\& instantiation\_name,}
\DoxyCodeLine{538                                 GeneratorCreationFunc* func,}
\DoxyCodeLine{539                                 ParamNameGeneratorFunc* name\_func,}
\DoxyCodeLine{540                                 \textcolor{keyword}{const} \textcolor{keywordtype}{char}* file, \textcolor{keywordtype}{int} line) \{}
\DoxyCodeLine{541     instantiations\_.push\_back(}
\DoxyCodeLine{542         InstantiationInfo(instantiation\_name, func, name\_func, file, line));}
\DoxyCodeLine{543     \textcolor{keywordflow}{return} 0;  \textcolor{comment}{// Return value used only to run this method in namespace scope.}}
\DoxyCodeLine{544   \}}
\DoxyCodeLine{545   \textcolor{comment}{// UnitTest class invokes this method to register tests in this test suite}}
\DoxyCodeLine{546   \textcolor{comment}{// right before running tests in RUN\_ALL\_TESTS macro.}}
\DoxyCodeLine{547   \textcolor{comment}{// This method should not be called more than once on any single}}
\DoxyCodeLine{548   \textcolor{comment}{// instance of a ParameterizedTestSuiteInfoBase derived class.}}
\DoxyCodeLine{549   \textcolor{comment}{// UnitTest has a guard to prevent from calling this method more than once.}}
\DoxyCodeLine{550   \textcolor{keywordtype}{void} RegisterTests()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{551     \textcolor{keywordtype}{bool} generated\_instantiations = \textcolor{keyword}{false};}
\DoxyCodeLine{552 }
\DoxyCodeLine{553     \textcolor{keywordflow}{for} (\textcolor{keyword}{typename} TestInfoContainer::iterator test\_it = tests\_.begin();}
\DoxyCodeLine{554          test\_it != tests\_.end(); ++test\_it) \{}
\DoxyCodeLine{555       std::shared\_ptr<TestInfo> test\_info = *test\_it;}
\DoxyCodeLine{556       \textcolor{keywordflow}{for} (\textcolor{keyword}{typename} InstantiationContainer::iterator gen\_it =}
\DoxyCodeLine{557                instantiations\_.begin();}
\DoxyCodeLine{558            gen\_it != instantiations\_.end(); ++gen\_it) \{}
\DoxyCodeLine{559         \textcolor{keyword}{const} std::string\& instantiation\_name = gen\_it-\/>name;}
\DoxyCodeLine{560         \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator<ParamType>}} generator((*gen\_it-\/>generator)());}
\DoxyCodeLine{561         ParamNameGeneratorFunc* name\_func = gen\_it-\/>name\_func;}
\DoxyCodeLine{562         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* file = gen\_it-\/>file;}
\DoxyCodeLine{563         \textcolor{keywordtype}{int} line = gen\_it-\/>line;}
\DoxyCodeLine{564 }
\DoxyCodeLine{565         std::string test\_suite\_name;}
\DoxyCodeLine{566         \textcolor{keywordflow}{if} (!instantiation\_name.empty())}
\DoxyCodeLine{567           test\_suite\_name = instantiation\_name + \textcolor{stringliteral}{"{}/"{}};}
\DoxyCodeLine{568         test\_suite\_name += test\_info-\/>test\_suite\_base\_name;}
\DoxyCodeLine{569 }
\DoxyCodeLine{570         \textcolor{keywordtype}{size\_t} i = 0;}
\DoxyCodeLine{571         std::set<std::string> test\_param\_names;}
\DoxyCodeLine{572         \textcolor{keywordflow}{for} (\textcolor{keyword}{typename} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIterator}{ParamGenerator<ParamType>::iterator}} param\_it =}
\DoxyCodeLine{573                  generator.begin();}
\DoxyCodeLine{574              param\_it != generator.end(); ++param\_it, ++i) \{}
\DoxyCodeLine{575           generated\_instantiations = \textcolor{keyword}{true};}
\DoxyCodeLine{576 }
\DoxyCodeLine{577           \mbox{\hyperlink{classtesting_1_1Message}{Message}} test\_name\_stream;}
\DoxyCodeLine{578 }
\DoxyCodeLine{579           std::string param\_name =}
\DoxyCodeLine{580               name\_func(\mbox{\hyperlink{structtesting_1_1TestParamInfo}{TestParamInfo<ParamType>}}(*param\_it, i));}
\DoxyCodeLine{581 }
\DoxyCodeLine{582           GTEST\_CHECK\_(IsValidParamName(param\_name))}
\DoxyCodeLine{583               << \textcolor{stringliteral}{"{}Parameterized test name '"{}} << param\_name}
\DoxyCodeLine{584               << \textcolor{stringliteral}{"{}' is invalid, in "{}} << file << \textcolor{stringliteral}{"{} line "{}} << line << std::endl;}
\DoxyCodeLine{585 }
\DoxyCodeLine{586           GTEST\_CHECK\_(test\_param\_names.count(param\_name) == 0)}
\DoxyCodeLine{587               << \textcolor{stringliteral}{"{}Duplicate parameterized test name '"{}} << param\_name << \textcolor{stringliteral}{"{}', in "{}}}
\DoxyCodeLine{588               << file << \textcolor{stringliteral}{"{} line "{}} << line << std::endl;}
\DoxyCodeLine{589 }
\DoxyCodeLine{590           test\_param\_names.insert(param\_name);}
\DoxyCodeLine{591 }
\DoxyCodeLine{592           \textcolor{keywordflow}{if} (!test\_info-\/>test\_base\_name.empty()) \{}
\DoxyCodeLine{593             test\_name\_stream << test\_info-\/>test\_base\_name << \textcolor{stringliteral}{"{}/"{}};}
\DoxyCodeLine{594           \}}
\DoxyCodeLine{595           test\_name\_stream << param\_name;}
\DoxyCodeLine{596           MakeAndRegisterTestInfo(}
\DoxyCodeLine{597               test\_suite\_name.c\_str(), test\_name\_stream.GetString().c\_str(),}
\DoxyCodeLine{598               \textcolor{keyword}{nullptr},  \textcolor{comment}{// No type parameter.}}
\DoxyCodeLine{599               PrintToString(*param\_it).c\_str(), test\_info-\/>code\_location,}
\DoxyCodeLine{600               GetTestSuiteTypeId(),}
\DoxyCodeLine{601               \mbox{\hyperlink{structtesting_1_1internal_1_1SuiteApiResolver}{SuiteApiResolver<TestSuite>::GetSetUpCaseOrSuite}}(file, line),}
\DoxyCodeLine{602               \mbox{\hyperlink{structtesting_1_1internal_1_1SuiteApiResolver}{SuiteApiResolver<TestSuite>::GetTearDownCaseOrSuite}}(file, line),}
\DoxyCodeLine{603               test\_info-\/>test\_meta\_factory-\/>CreateTestFactory(*param\_it));}
\DoxyCodeLine{604         \}  \textcolor{comment}{// for param\_it}}
\DoxyCodeLine{605       \}    \textcolor{comment}{// for gen\_it}}
\DoxyCodeLine{606     \}      \textcolor{comment}{// for test\_it}}
\DoxyCodeLine{607 }
\DoxyCodeLine{608     \textcolor{keywordflow}{if} (!generated\_instantiations) \{}
\DoxyCodeLine{609       \textcolor{comment}{// There are no generaotrs, or they all generate nothing ...}}
\DoxyCodeLine{610       InsertSyntheticTestCase(GetTestSuiteName(), code\_location\_,}
\DoxyCodeLine{611                               !tests\_.empty());}
\DoxyCodeLine{612     \}}
\DoxyCodeLine{613   \}  \textcolor{comment}{// RegisterTests}}
\DoxyCodeLine{614 }
\DoxyCodeLine{615  \textcolor{keyword}{private}:}
\DoxyCodeLine{616   \textcolor{comment}{// LocalTestInfo structure keeps information about a single test registered}}
\DoxyCodeLine{617   \textcolor{comment}{// with TEST\_P macro.}}
\DoxyCodeLine{618   \textcolor{keyword}{struct }TestInfo \{}
\DoxyCodeLine{619     TestInfo(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* a\_test\_suite\_base\_name, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* a\_test\_base\_name,}
\DoxyCodeLine{620              \mbox{\hyperlink{classtesting_1_1internal_1_1TestMetaFactoryBase}{TestMetaFactoryBase<ParamType>}}* a\_test\_meta\_factory,}
\DoxyCodeLine{621              \mbox{\hyperlink{structtesting_1_1internal_1_1CodeLocation}{CodeLocation}} a\_code\_location)}
\DoxyCodeLine{622         : test\_suite\_base\_name(a\_test\_suite\_base\_name),}
\DoxyCodeLine{623           test\_base\_name(a\_test\_base\_name),}
\DoxyCodeLine{624           test\_meta\_factory(a\_test\_meta\_factory),}
\DoxyCodeLine{625           code\_location(a\_code\_location) \{\}}
\DoxyCodeLine{626 }
\DoxyCodeLine{627     \textcolor{keyword}{const} std::string test\_suite\_base\_name;}
\DoxyCodeLine{628     \textcolor{keyword}{const} std::string test\_base\_name;}
\DoxyCodeLine{629     \textcolor{keyword}{const} std::unique\_ptr<TestMetaFactoryBase<ParamType>> test\_meta\_factory;}
\DoxyCodeLine{630     \textcolor{keyword}{const} \mbox{\hyperlink{structtesting_1_1internal_1_1CodeLocation}{CodeLocation}} code\_location;}
\DoxyCodeLine{631   \};}
\DoxyCodeLine{632   \textcolor{keyword}{using }TestInfoContainer = ::std::vector<std::shared\_ptr<TestInfo>>;}
\DoxyCodeLine{633   \textcolor{comment}{// Records data received from INSTANTIATE\_TEST\_SUITE\_P macros:}}
\DoxyCodeLine{634   \textcolor{comment}{//  <Instantiation name, Sequence generator creation function,}}
\DoxyCodeLine{635   \textcolor{comment}{//     Name generator function, Source file, Source line>}}
\DoxyCodeLine{636   \textcolor{keyword}{struct }InstantiationInfo \{}
\DoxyCodeLine{637     InstantiationInfo(\textcolor{keyword}{const} std::string\& name\_in,}
\DoxyCodeLine{638                       GeneratorCreationFunc* generator\_in,}
\DoxyCodeLine{639                       ParamNameGeneratorFunc* name\_func\_in, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* file\_in,}
\DoxyCodeLine{640                       \textcolor{keywordtype}{int} line\_in)}
\DoxyCodeLine{641         : name(name\_in),}
\DoxyCodeLine{642           generator(generator\_in),}
\DoxyCodeLine{643           name\_func(name\_func\_in),}
\DoxyCodeLine{644           file(file\_in),}
\DoxyCodeLine{645           line(line\_in) \{\}}
\DoxyCodeLine{646 }
\DoxyCodeLine{647     std::string name;}
\DoxyCodeLine{648     GeneratorCreationFunc* generator;}
\DoxyCodeLine{649     ParamNameGeneratorFunc* name\_func;}
\DoxyCodeLine{650     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* file;}
\DoxyCodeLine{651     \textcolor{keywordtype}{int} line;}
\DoxyCodeLine{652   \};}
\DoxyCodeLine{653   typedef ::std::vector<InstantiationInfo> InstantiationContainer;}
\DoxyCodeLine{654 }
\DoxyCodeLine{655   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} IsValidParamName(\textcolor{keyword}{const} std::string\& name) \{}
\DoxyCodeLine{656     \textcolor{comment}{// Check for empty string}}
\DoxyCodeLine{657     \textcolor{keywordflow}{if} (name.empty()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{658 }
\DoxyCodeLine{659     \textcolor{comment}{// Check for invalid characters}}
\DoxyCodeLine{660     \textcolor{keywordflow}{for} (std::string::size\_type index = 0; index < name.size(); ++index) \{}
\DoxyCodeLine{661       \textcolor{keywordflow}{if} (!IsAlNum(name[index]) \&\& name[index] != \textcolor{charliteral}{'\_'}) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{662     \}}
\DoxyCodeLine{663 }
\DoxyCodeLine{664     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{665   \}}
\DoxyCodeLine{666 }
\DoxyCodeLine{667   \textcolor{keyword}{const} std::string test\_suite\_name\_;}
\DoxyCodeLine{668   \mbox{\hyperlink{structtesting_1_1internal_1_1CodeLocation}{CodeLocation}} code\_location\_;}
\DoxyCodeLine{669   TestInfoContainer tests\_;}
\DoxyCodeLine{670   InstantiationContainer instantiations\_;}
\DoxyCodeLine{671 }
\DoxyCodeLine{672   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestSuiteInfo}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestSuiteInfo}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{673   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestSuiteInfo}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestSuiteInfo}}\&) =}
\DoxyCodeLine{674       \textcolor{keyword}{delete};}
\DoxyCodeLine{675 \};  \textcolor{comment}{// class ParameterizedTestSuiteInfo}}
\DoxyCodeLine{676 }
\DoxyCodeLine{677 \textcolor{comment}{//  Legacy API is deprecated but still available}}
\DoxyCodeLine{678 \textcolor{preprocessor}{\#ifndef GTEST\_REMOVE\_LEGACY\_TEST\_CASEAPI\_}}
\DoxyCodeLine{679 \textcolor{keyword}{template} <\textcolor{keyword}{class} TestCase>}
\DoxyCodeLine{680 \textcolor{keyword}{using }\mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestCaseInfo}} = \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestSuiteInfo<TestCase>}};}
\DoxyCodeLine{681 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{//  GTEST\_REMOVE\_LEGACY\_TEST\_CASEAPI\_}}
\DoxyCodeLine{682 }
\DoxyCodeLine{683 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE IN USER CODE.}}
\DoxyCodeLine{684 \textcolor{comment}{//}}
\DoxyCodeLine{685 \textcolor{comment}{// ParameterizedTestSuiteRegistry contains a map of}}
\DoxyCodeLine{686 \textcolor{comment}{// ParameterizedTestSuiteInfoBase classes accessed by test suite names. TEST\_P}}
\DoxyCodeLine{687 \textcolor{comment}{// and INSTANTIATE\_TEST\_SUITE\_P macros use it to locate their corresponding}}
\DoxyCodeLine{688 \textcolor{comment}{// ParameterizedTestSuiteInfo descriptors.}}
\DoxyCodeLine{689 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteRegistry}{ParameterizedTestSuiteRegistry}} \{}
\DoxyCodeLine{690  \textcolor{keyword}{public}:}
\DoxyCodeLine{691   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteRegistry}{ParameterizedTestSuiteRegistry}}() \{\}}
\DoxyCodeLine{692   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteRegistry}{\string~ParameterizedTestSuiteRegistry}}() \{}
\DoxyCodeLine{693     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& test\_suite\_info : test\_suite\_infos\_) \{}
\DoxyCodeLine{694       \textcolor{keyword}{delete} test\_suite\_info;}
\DoxyCodeLine{695     \}}
\DoxyCodeLine{696   \}}
\DoxyCodeLine{697 }
\DoxyCodeLine{698   \textcolor{comment}{// Looks up or creates and returns a structure containing information about}}
\DoxyCodeLine{699   \textcolor{comment}{// tests and instantiations of a particular test suite.}}
\DoxyCodeLine{700   \textcolor{keyword}{template} <\textcolor{keyword}{class} TestSuite>}
\DoxyCodeLine{701   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestSuiteInfo<TestSuite>}}* GetTestSuitePatternHolder(}
\DoxyCodeLine{702       \textcolor{keyword}{const} \textcolor{keywordtype}{char}* test\_suite\_name, \mbox{\hyperlink{structtesting_1_1internal_1_1CodeLocation}{CodeLocation}} code\_location) \{}
\DoxyCodeLine{703     \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestSuiteInfo<TestSuite>}}* typed\_test\_info = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{704     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& test\_suite\_info : test\_suite\_infos\_) \{}
\DoxyCodeLine{705       \textcolor{keywordflow}{if} (test\_suite\_info-\/>GetTestSuiteName() == test\_suite\_name) \{}
\DoxyCodeLine{706         \textcolor{keywordflow}{if} (test\_suite\_info-\/>GetTestSuiteTypeId() != GetTypeId<TestSuite>()) \{}
\DoxyCodeLine{707           \textcolor{comment}{// Complain about incorrect usage of Google Test facilities}}
\DoxyCodeLine{708           \textcolor{comment}{// and terminate the program since we cannot guaranty correct}}
\DoxyCodeLine{709           \textcolor{comment}{// test suite setup and tear-\/down in this case.}}
\DoxyCodeLine{710           ReportInvalidTestSuiteType(test\_suite\_name, code\_location);}
\DoxyCodeLine{711           posix::Abort();}
\DoxyCodeLine{712         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{713           \textcolor{comment}{// At this point we are sure that the object we found is of the same}}
\DoxyCodeLine{714           \textcolor{comment}{// type we are looking for, so we downcast it to that type}}
\DoxyCodeLine{715           \textcolor{comment}{// without further checks.}}
\DoxyCodeLine{716           typed\_test\_info = CheckedDowncastToActualType<}
\DoxyCodeLine{717               \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestSuiteInfo<TestSuite>}}>(test\_suite\_info);}
\DoxyCodeLine{718         \}}
\DoxyCodeLine{719         \textcolor{keywordflow}{break};}
\DoxyCodeLine{720       \}}
\DoxyCodeLine{721     \}}
\DoxyCodeLine{722     \textcolor{keywordflow}{if} (typed\_test\_info == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{723       typed\_test\_info = \textcolor{keyword}{new} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestSuiteInfo<TestSuite>}}(}
\DoxyCodeLine{724           test\_suite\_name, code\_location);}
\DoxyCodeLine{725       test\_suite\_infos\_.push\_back(typed\_test\_info);}
\DoxyCodeLine{726     \}}
\DoxyCodeLine{727     \textcolor{keywordflow}{return} typed\_test\_info;}
\DoxyCodeLine{728   \}}
\DoxyCodeLine{729   \textcolor{keywordtype}{void} RegisterTests() \{}
\DoxyCodeLine{730     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& test\_suite\_info : test\_suite\_infos\_) \{}
\DoxyCodeLine{731       test\_suite\_info-\/>RegisterTests();}
\DoxyCodeLine{732     \}}
\DoxyCodeLine{733   \}}
\DoxyCodeLine{734 \textcolor{comment}{//  Legacy API is deprecated but still available}}
\DoxyCodeLine{735 \textcolor{preprocessor}{\#ifndef GTEST\_REMOVE\_LEGACY\_TEST\_CASEAPI\_}}
\DoxyCodeLine{736   \textcolor{keyword}{template} <\textcolor{keyword}{class} TestCase>}
\DoxyCodeLine{737   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteInfo}{ParameterizedTestCaseInfo<TestCase>}}* GetTestCasePatternHolder(}
\DoxyCodeLine{738       \textcolor{keyword}{const} \textcolor{keywordtype}{char}* test\_case\_name, \mbox{\hyperlink{structtesting_1_1internal_1_1CodeLocation}{CodeLocation}} code\_location) \{}
\DoxyCodeLine{739     \textcolor{keywordflow}{return} GetTestSuitePatternHolder<TestCase>(test\_case\_name, code\_location);}
\DoxyCodeLine{740   \}}
\DoxyCodeLine{741 }
\DoxyCodeLine{742 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{//  GTEST\_REMOVE\_LEGACY\_TEST\_CASEAPI\_}}
\DoxyCodeLine{743 }
\DoxyCodeLine{744  \textcolor{keyword}{private}:}
\DoxyCodeLine{745   \textcolor{keyword}{using }TestSuiteInfoContainer = ::std::vector<ParameterizedTestSuiteInfoBase*>;}
\DoxyCodeLine{746 }
\DoxyCodeLine{747   TestSuiteInfoContainer test\_suite\_infos\_;}
\DoxyCodeLine{748 }
\DoxyCodeLine{749   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteRegistry}{ParameterizedTestSuiteRegistry}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteRegistry}{ParameterizedTestSuiteRegistry}}\&) =}
\DoxyCodeLine{750       \textcolor{keyword}{delete};}
\DoxyCodeLine{751   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteRegistry}{ParameterizedTestSuiteRegistry}}\& operator=(}
\DoxyCodeLine{752       \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteRegistry}{ParameterizedTestSuiteRegistry}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{753 \};}
\DoxyCodeLine{754 }
\DoxyCodeLine{755 \textcolor{comment}{// Keep track of what type-\/parameterized test suite are defined and}}
\DoxyCodeLine{756 \textcolor{comment}{// where as well as which are intatiated. This allows susequently}}
\DoxyCodeLine{757 \textcolor{comment}{// identifying suits that are defined but never used.}}
\DoxyCodeLine{758 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1TypeParameterizedTestSuiteRegistry}{TypeParameterizedTestSuiteRegistry}} \{}
\DoxyCodeLine{759  \textcolor{keyword}{public}:}
\DoxyCodeLine{760   \textcolor{comment}{// Add a suite definition}}
\DoxyCodeLine{761   \textcolor{keywordtype}{void} RegisterTestSuite(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* test\_suite\_name,}
\DoxyCodeLine{762                          \mbox{\hyperlink{structtesting_1_1internal_1_1CodeLocation}{CodeLocation}} code\_location);}
\DoxyCodeLine{763 }
\DoxyCodeLine{764   \textcolor{comment}{// Add an instantiation of a suit.}}
\DoxyCodeLine{765   \textcolor{keywordtype}{void} RegisterInstantiation(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* test\_suite\_name);}
\DoxyCodeLine{766 }
\DoxyCodeLine{767   \textcolor{comment}{// For each suit repored as defined but not reported as instantiation,}}
\DoxyCodeLine{768   \textcolor{comment}{// emit a test that reports that fact (configurably, as an error).}}
\DoxyCodeLine{769   \textcolor{keywordtype}{void} CheckForInstantiations();}
\DoxyCodeLine{770 }
\DoxyCodeLine{771  \textcolor{keyword}{private}:}
\DoxyCodeLine{772   \textcolor{keyword}{struct }TypeParameterizedTestSuiteInfo \{}
\DoxyCodeLine{773     \textcolor{keyword}{explicit} TypeParameterizedTestSuiteInfo(\mbox{\hyperlink{structtesting_1_1internal_1_1CodeLocation}{CodeLocation}} c)}
\DoxyCodeLine{774         : code\_location(c), instantiated(\textcolor{keyword}{false}) \{\}}
\DoxyCodeLine{775 }
\DoxyCodeLine{776     \mbox{\hyperlink{structtesting_1_1internal_1_1CodeLocation}{CodeLocation}} code\_location;}
\DoxyCodeLine{777     \textcolor{keywordtype}{bool} instantiated;}
\DoxyCodeLine{778   \};}
\DoxyCodeLine{779 }
\DoxyCodeLine{780   std::map<std::string, TypeParameterizedTestSuiteInfo> suites\_;}
\DoxyCodeLine{781 \};}
\DoxyCodeLine{782 }
\DoxyCodeLine{783 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{784 }
\DoxyCodeLine{785 \textcolor{comment}{// Forward declarations of ValuesIn(), which is implemented in}}
\DoxyCodeLine{786 \textcolor{comment}{// include/gtest/gtest-\/param-\/test.h.}}
\DoxyCodeLine{787 \textcolor{keyword}{template} <\textcolor{keyword}{class} Container>}
\DoxyCodeLine{788 \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{internal::ParamGenerator<typename Container::value\_type>}} ValuesIn(}
\DoxyCodeLine{789     \textcolor{keyword}{const} Container\& container);}
\DoxyCodeLine{790 }
\DoxyCodeLine{791 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{792 \textcolor{comment}{// Used in the Values() function to provide polymorphic capabilities.}}
\DoxyCodeLine{793 }
\DoxyCodeLine{794 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{795 \textcolor{preprocessor}{\#pragma warning(push)}}
\DoxyCodeLine{796 \textcolor{preprocessor}{\#pragma warning(disable : 4100)}}
\DoxyCodeLine{797 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{798 }
\DoxyCodeLine{799 \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{800 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1ValueArray}{ValueArray}} \{}
\DoxyCodeLine{801  \textcolor{keyword}{public}:}
\DoxyCodeLine{802   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1ValueArray}{ValueArray}}(Ts... v) : v\_(\mbox{\hyperlink{structtesting_1_1internal_1_1FlatTupleConstructTag}{FlatTupleConstructTag}}\{\}, std::move(v)...) \{\}}
\DoxyCodeLine{803 }
\DoxyCodeLine{804   \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{805   \textcolor{keyword}{operator} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator<T>}}()\textcolor{keyword}{ const }\{  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{806     \textcolor{keywordflow}{return} ValuesIn(MakeVector<T>(MakeIndexSequence<\textcolor{keyword}{sizeof}...(Ts)>()));}
\DoxyCodeLine{807   \}}
\DoxyCodeLine{808 }
\DoxyCodeLine{809  \textcolor{keyword}{private}:}
\DoxyCodeLine{810   \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keywordtype}{size\_t}... I>}
\DoxyCodeLine{811   std::vector<T> MakeVector(\mbox{\hyperlink{structtesting_1_1internal_1_1IndexSequence}{IndexSequence<I...>}})\textcolor{keyword}{ const }\{}
\DoxyCodeLine{812     \textcolor{keywordflow}{return} std::vector<T>\{\textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(v\_.template Get<I>())...\};}
\DoxyCodeLine{813   \}}
\DoxyCodeLine{814 }
\DoxyCodeLine{815   \mbox{\hyperlink{classtesting_1_1internal_1_1FlatTuple}{FlatTuple}}<Ts...> v\_;}
\DoxyCodeLine{816 \};}
\DoxyCodeLine{817 }
\DoxyCodeLine{818 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{819 \textcolor{preprocessor}{\#pragma warning(pop)}}
\DoxyCodeLine{820 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{821 }
\DoxyCodeLine{822 \textcolor{keyword}{template} <\textcolor{keyword}{typename}... T>}
\DoxyCodeLine{823 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1CartesianProductGenerator}{CartesianProductGenerator}}}
\DoxyCodeLine{824     : \textcolor{keyword}{public} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface}}<::std::tuple<T...>> \{}
\DoxyCodeLine{825  \textcolor{keyword}{public}:}
\DoxyCodeLine{826   \textcolor{keyword}{typedef} ::std::tuple<T...> ParamType;}
\DoxyCodeLine{827 }
\DoxyCodeLine{828   \mbox{\hyperlink{classtesting_1_1internal_1_1CartesianProductGenerator}{CartesianProductGenerator}}(\textcolor{keyword}{const} std::tuple<\mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator<T>}}...>\& g)}
\DoxyCodeLine{829       : generators\_(g) \{\}}
\DoxyCodeLine{830   \mbox{\hyperlink{classtesting_1_1internal_1_1CartesianProductGenerator}{\string~CartesianProductGenerator}}()\textcolor{keyword}{ override }\{\}}
\DoxyCodeLine{831 }
\DoxyCodeLine{832   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<ParamType>}}* Begin()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{833     \textcolor{keywordflow}{return} \textcolor{keyword}{new} Iterator(\textcolor{keyword}{this}, generators\_, \textcolor{keyword}{false});}
\DoxyCodeLine{834   \}}
\DoxyCodeLine{835   \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<ParamType>}}* End()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{836     \textcolor{keywordflow}{return} \textcolor{keyword}{new} Iterator(\textcolor{keyword}{this}, generators\_, \textcolor{keyword}{true});}
\DoxyCodeLine{837   \}}
\DoxyCodeLine{838 }
\DoxyCodeLine{839  \textcolor{keyword}{private}:}
\DoxyCodeLine{840   \textcolor{keyword}{template} <\textcolor{keyword}{class} I>}
\DoxyCodeLine{841   \textcolor{keyword}{class }IteratorImpl;}
\DoxyCodeLine{842   \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t}... I>}
\DoxyCodeLine{843   \textcolor{keyword}{class }IteratorImpl<\mbox{\hyperlink{structtesting_1_1internal_1_1IndexSequence}{IndexSequence}}<I...>>}
\DoxyCodeLine{844       : \textcolor{keyword}{public} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface}}<ParamType> \{}
\DoxyCodeLine{845    \textcolor{keyword}{public}:}
\DoxyCodeLine{846     IteratorImpl(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface<ParamType>}}* base,}
\DoxyCodeLine{847                  \textcolor{keyword}{const} std::tuple<\mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator<T>}}...>\& generators,}
\DoxyCodeLine{848                  \textcolor{keywordtype}{bool} is\_end)}
\DoxyCodeLine{849         : base\_(base),}
\DoxyCodeLine{850           begin\_(std::get<I>(generators).begin()...),}
\DoxyCodeLine{851           end\_(std::get<I>(generators).end()...),}
\DoxyCodeLine{852           current\_(is\_end ? end\_ : begin\_) \{}
\DoxyCodeLine{853       ComputeCurrentValue();}
\DoxyCodeLine{854     \}}
\DoxyCodeLine{855     \string~IteratorImpl()\textcolor{keyword}{ override }\{\}}
\DoxyCodeLine{856 }
\DoxyCodeLine{857     \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface<ParamType>}}* BaseGenerator()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{858       \textcolor{keywordflow}{return} base\_;}
\DoxyCodeLine{859     \}}
\DoxyCodeLine{860     \textcolor{comment}{// Advance should not be called on beyond-\/of-\/range iterators}}
\DoxyCodeLine{861     \textcolor{comment}{// so no component iterators must be beyond end of range, either.}}
\DoxyCodeLine{862     \textcolor{keywordtype}{void} Advance()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{863       assert(!AtEnd());}
\DoxyCodeLine{864       \textcolor{comment}{// Advance the last iterator.}}
\DoxyCodeLine{865       ++std::get<\textcolor{keyword}{sizeof}...(T) -\/ 1>(current\_);}
\DoxyCodeLine{866       \textcolor{comment}{// if that reaches end, propagate that up.}}
\DoxyCodeLine{867       AdvanceIfEnd<\textcolor{keyword}{sizeof}...(T) -\/ 1>();}
\DoxyCodeLine{868       ComputeCurrentValue();}
\DoxyCodeLine{869     \}}
\DoxyCodeLine{870     \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<ParamType>}}* Clone()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{871       \textcolor{keywordflow}{return} \textcolor{keyword}{new} IteratorImpl(*\textcolor{keyword}{this});}
\DoxyCodeLine{872     \}}
\DoxyCodeLine{873 }
\DoxyCodeLine{874     \textcolor{keyword}{const} ParamType* Current()\textcolor{keyword}{ const override }\{ \textcolor{keywordflow}{return} current\_value\_.get(); \}}
\DoxyCodeLine{875 }
\DoxyCodeLine{876     \textcolor{keywordtype}{bool} Equals(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamIteratorInterface}{ParamIteratorInterface<ParamType>}}\& other)\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{877       \textcolor{comment}{// Having the same base generator guarantees that the other}}
\DoxyCodeLine{878       \textcolor{comment}{// iterator is of the same type and we can downcast.}}
\DoxyCodeLine{879       GTEST\_CHECK\_(BaseGenerator() == other.BaseGenerator())}
\DoxyCodeLine{880           << \textcolor{stringliteral}{"{}The program attempted to compare iterators "{}}}
\DoxyCodeLine{881           << \textcolor{stringliteral}{"{}from different generators."{}} << std::endl;}
\DoxyCodeLine{882       \textcolor{keyword}{const} IteratorImpl* typed\_other =}
\DoxyCodeLine{883           CheckedDowncastToActualType<const IteratorImpl>(\&other);}
\DoxyCodeLine{884 }
\DoxyCodeLine{885       \textcolor{comment}{// We must report iterators equal if they both point beyond their}}
\DoxyCodeLine{886       \textcolor{comment}{// respective ranges. That can happen in a variety of fashions,}}
\DoxyCodeLine{887       \textcolor{comment}{// so we have to consult AtEnd().}}
\DoxyCodeLine{888       \textcolor{keywordflow}{if} (AtEnd() \&\& typed\_other-\/>AtEnd()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{889 }
\DoxyCodeLine{890       \textcolor{keywordtype}{bool} same = \textcolor{keyword}{true};}
\DoxyCodeLine{891       \textcolor{keywordtype}{bool} dummy[] = \{}
\DoxyCodeLine{892           (same = same \&\& std::get<I>(current\_) ==}
\DoxyCodeLine{893                               std::get<I>(typed\_other-\/>current\_))...\};}
\DoxyCodeLine{894       (void)dummy;}
\DoxyCodeLine{895       \textcolor{keywordflow}{return} same;}
\DoxyCodeLine{896     \}}
\DoxyCodeLine{897 }
\DoxyCodeLine{898    \textcolor{keyword}{private}:}
\DoxyCodeLine{899     \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} ThisI>}
\DoxyCodeLine{900     \textcolor{keywordtype}{void} AdvanceIfEnd() \{}
\DoxyCodeLine{901       \textcolor{keywordflow}{if} (std::get<ThisI>(current\_) != std::get<ThisI>(end\_)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{902 }
\DoxyCodeLine{903       \textcolor{keywordtype}{bool} last = ThisI == 0;}
\DoxyCodeLine{904       \textcolor{keywordflow}{if} (last) \{}
\DoxyCodeLine{905         \textcolor{comment}{// We are done. Nothing else to propagate.}}
\DoxyCodeLine{906         \textcolor{keywordflow}{return};}
\DoxyCodeLine{907       \}}
\DoxyCodeLine{908 }
\DoxyCodeLine{909       \textcolor{keyword}{constexpr} \textcolor{keywordtype}{size\_t} NextI = ThisI -\/ (ThisI != 0);}
\DoxyCodeLine{910       std::get<ThisI>(current\_) = std::get<ThisI>(begin\_);}
\DoxyCodeLine{911       ++std::get<NextI>(current\_);}
\DoxyCodeLine{912       AdvanceIfEnd<NextI>();}
\DoxyCodeLine{913     \}}
\DoxyCodeLine{914 }
\DoxyCodeLine{915     \textcolor{keywordtype}{void} ComputeCurrentValue() \{}
\DoxyCodeLine{916       \textcolor{keywordflow}{if} (!AtEnd())}
\DoxyCodeLine{917         current\_value\_ = std::make\_shared<ParamType>(*std::get<I>(current\_)...);}
\DoxyCodeLine{918     \}}
\DoxyCodeLine{919     \textcolor{keywordtype}{bool} AtEnd()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{920       \textcolor{keywordtype}{bool} at\_end = \textcolor{keyword}{false};}
\DoxyCodeLine{921       \textcolor{keywordtype}{bool} dummy[] = \{}
\DoxyCodeLine{922           (at\_end = at\_end || std::get<I>(current\_) == std::get<I>(end\_))...\};}
\DoxyCodeLine{923       (void)dummy;}
\DoxyCodeLine{924       \textcolor{keywordflow}{return} at\_end;}
\DoxyCodeLine{925     \}}
\DoxyCodeLine{926 }
\DoxyCodeLine{927     \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGeneratorInterface}{ParamGeneratorInterface<ParamType>}}* \textcolor{keyword}{const} base\_;}
\DoxyCodeLine{928     std::tuple<typename ParamGenerator<T>::iterator...> begin\_;}
\DoxyCodeLine{929     std::tuple<typename ParamGenerator<T>::iterator...> end\_;}
\DoxyCodeLine{930     std::tuple<typename ParamGenerator<T>::iterator...> current\_;}
\DoxyCodeLine{931     std::shared\_ptr<ParamType> current\_value\_;}
\DoxyCodeLine{932   \};}
\DoxyCodeLine{933 }
\DoxyCodeLine{934   \textcolor{keyword}{using }Iterator = IteratorImpl<\textcolor{keyword}{typename} MakeIndexSequence<\textcolor{keyword}{sizeof}...(T)>::type>;}
\DoxyCodeLine{935 }
\DoxyCodeLine{936   std::tuple<ParamGenerator<T>...> generators\_;}
\DoxyCodeLine{937 \};}
\DoxyCodeLine{938 }
\DoxyCodeLine{939 \textcolor{keyword}{template} <\textcolor{keyword}{class}... Gen>}
\DoxyCodeLine{940 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1CartesianProductHolder}{CartesianProductHolder}} \{}
\DoxyCodeLine{941  \textcolor{keyword}{public}:}
\DoxyCodeLine{942   \mbox{\hyperlink{classtesting_1_1internal_1_1CartesianProductHolder}{CartesianProductHolder}}(\textcolor{keyword}{const} Gen\&... g) : generators\_(g...) \{\}}
\DoxyCodeLine{943   \textcolor{keyword}{template} <\textcolor{keyword}{typename}... T>}
\DoxyCodeLine{944   \textcolor{keyword}{operator} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator}}<::std::tuple<T...>>() \textcolor{keyword}{const} \{}
\DoxyCodeLine{945     \textcolor{keywordflow}{return} \mbox{\hyperlink{classtesting_1_1internal_1_1ParamGenerator}{ParamGenerator}}<::std::tuple<T...>>(}
\DoxyCodeLine{946         \textcolor{keyword}{new} \mbox{\hyperlink{classtesting_1_1internal_1_1CartesianProductGenerator}{CartesianProductGenerator}}<T...>(generators\_));}
\DoxyCodeLine{947   \}}
\DoxyCodeLine{948 }
\DoxyCodeLine{949  \textcolor{keyword}{private}:}
\DoxyCodeLine{950   std::tuple<Gen...> generators\_;}
\DoxyCodeLine{951 \};}
\DoxyCodeLine{952 }
\DoxyCodeLine{953 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{954 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{955 }
\DoxyCodeLine{956 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GOOGLETEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PARAM\_UTIL\_H\_}}

\end{DoxyCode}
