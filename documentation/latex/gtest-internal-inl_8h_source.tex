\hypertarget{gtest-internal-inl_8h_source}{}\doxysection{gtest-\/internal-\/inl.h}
\label{gtest-internal-inl_8h_source}\index{build/\_deps/googletest-\/src/googletest/src/gtest-\/internal-\/inl.h@{build/\_deps/googletest-\/src/googletest/src/gtest-\/internal-\/inl.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// Copyright 2005, Google Inc.}}
\DoxyCodeLine{2 \textcolor{comment}{// All rights reserved.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{// Redistribution and use in source and binary forms, with or without}}
\DoxyCodeLine{5 \textcolor{comment}{// modification, are permitted provided that the following conditions are}}
\DoxyCodeLine{6 \textcolor{comment}{// met:}}
\DoxyCodeLine{7 \textcolor{comment}{//}}
\DoxyCodeLine{8 \textcolor{comment}{//     * Redistributions of source code must retain the above copyright}}
\DoxyCodeLine{9 \textcolor{comment}{// notice, this list of conditions and the following disclaimer.}}
\DoxyCodeLine{10 \textcolor{comment}{//     * Redistributions in binary form must reproduce the above}}
\DoxyCodeLine{11 \textcolor{comment}{// copyright notice, this list of conditions and the following disclaimer}}
\DoxyCodeLine{12 \textcolor{comment}{// in the documentation and/or other materials provided with the}}
\DoxyCodeLine{13 \textcolor{comment}{// distribution.}}
\DoxyCodeLine{14 \textcolor{comment}{//     * Neither the name of Google Inc. nor the names of its}}
\DoxyCodeLine{15 \textcolor{comment}{// contributors may be used to endorse or promote products derived from}}
\DoxyCodeLine{16 \textcolor{comment}{// this software without specific prior written permission.}}
\DoxyCodeLine{17 \textcolor{comment}{//}}
\DoxyCodeLine{18 \textcolor{comment}{// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS}}
\DoxyCodeLine{19 \textcolor{comment}{// "{}AS IS"{} AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT}}
\DoxyCodeLine{20 \textcolor{comment}{// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR}}
\DoxyCodeLine{21 \textcolor{comment}{// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT}}
\DoxyCodeLine{22 \textcolor{comment}{// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,}}
\DoxyCodeLine{23 \textcolor{comment}{// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT}}
\DoxyCodeLine{24 \textcolor{comment}{// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,}}
\DoxyCodeLine{25 \textcolor{comment}{// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY}}
\DoxyCodeLine{26 \textcolor{comment}{// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT}}
\DoxyCodeLine{27 \textcolor{comment}{// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE}}
\DoxyCodeLine{28 \textcolor{comment}{// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{comment}{// Utility functions and classes used by the Google C++ testing framework.//}}
\DoxyCodeLine{31 \textcolor{comment}{// This file contains purely Google Test's internal implementation.  Please}}
\DoxyCodeLine{32 \textcolor{comment}{// DO NOT \#INCLUDE IT IN A USER PROGRAM.}}
\DoxyCodeLine{33 }
\DoxyCodeLine{34 \textcolor{preprocessor}{\#ifndef GOOGLETEST\_SRC\_GTEST\_INTERNAL\_INL\_H\_}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#define GOOGLETEST\_SRC\_GTEST\_INTERNAL\_INL\_H\_}}
\DoxyCodeLine{36 }
\DoxyCodeLine{37 \textcolor{preprocessor}{\#ifndef \_WIN32\_WCE}}
\DoxyCodeLine{38 \textcolor{preprocessor}{\#include <errno.h>}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !\_WIN32\_WCE}}
\DoxyCodeLine{40 \textcolor{preprocessor}{\#include <stddef.h>}}
\DoxyCodeLine{41 \textcolor{preprocessor}{\#include <stdlib.h>}  \textcolor{comment}{// For strtoll/\_strtoul64/malloc/free.}}
\DoxyCodeLine{42 \textcolor{preprocessor}{\#include <string.h>}  \textcolor{comment}{// For memmove.}}
\DoxyCodeLine{43 }
\DoxyCodeLine{44 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{45 \textcolor{preprocessor}{\#include <cstdint>}}
\DoxyCodeLine{46 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \textcolor{preprocessor}{\#include "{}gtest/internal/gtest-\/port.h"{}}}
\DoxyCodeLine{51 }
\DoxyCodeLine{52 \textcolor{preprocessor}{\#if GTEST\_CAN\_STREAM\_RESULTS\_}}
\DoxyCodeLine{53 \textcolor{preprocessor}{\#include <arpa/inet.h>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{54 \textcolor{preprocessor}{\#include <netdb.h>}      \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{55 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{56 }
\DoxyCodeLine{57 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{58 \textcolor{preprocessor}{\#include <windows.h>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{59 \textcolor{preprocessor}{\#endif                }\textcolor{comment}{// GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{60 }
\DoxyCodeLine{61 \textcolor{preprocessor}{\#include "{}gtest/gtest-\/spi.h"{}}}
\DoxyCodeLine{62 \textcolor{preprocessor}{\#include "{}gtest/gtest.h"{}}}
\DoxyCodeLine{63 }
\DoxyCodeLine{64 GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4251 \(\backslash\)}
\DoxyCodeLine{65 \textcolor{comment}{/* class A needs to have dll-\/interface to be used by clients of class B */})}
\DoxyCodeLine{66 }
\DoxyCodeLine{67 \textcolor{comment}{// Declares the flags.}}
\DoxyCodeLine{68 \textcolor{comment}{//}}
\DoxyCodeLine{69 \textcolor{comment}{// We don't want the users to modify this flag in the code, but want}}
\DoxyCodeLine{70 \textcolor{comment}{// Google Test's own unit tests to be able to access it. Therefore we}}
\DoxyCodeLine{71 \textcolor{comment}{// declare it here as opposed to in gtest.h.}}
\DoxyCodeLine{72 GTEST\_DECLARE\_bool\_(death\_test\_use\_fork);}
\DoxyCodeLine{73 }
\DoxyCodeLine{74 namespace testing \{}
\DoxyCodeLine{75 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{76 }
\DoxyCodeLine{77 \textcolor{comment}{// The value of GetTestTypeId() as seen from within the Google Test}}
\DoxyCodeLine{78 \textcolor{comment}{// library.  This is solely for testing GetTestTypeId().}}
\DoxyCodeLine{79 GTEST\_API\_ \textcolor{keyword}{extern} \textcolor{keyword}{const} TypeId kTestTypeIdInGoogleTest;}
\DoxyCodeLine{80 }
\DoxyCodeLine{81 \textcolor{comment}{// A valid random seed must be in [1, kMaxRandomSeed].}}
\DoxyCodeLine{82 \textcolor{keyword}{const} \textcolor{keywordtype}{int} kMaxRandomSeed = 99999;}
\DoxyCodeLine{83 }
\DoxyCodeLine{84 \textcolor{comment}{// g\_help\_flag is true if and only if the -\/-\/help flag or an equivalent form}}
\DoxyCodeLine{85 \textcolor{comment}{// is specified on the command line.}}
\DoxyCodeLine{86 GTEST\_API\_ \textcolor{keyword}{extern} \textcolor{keywordtype}{bool} g\_help\_flag;}
\DoxyCodeLine{87 }
\DoxyCodeLine{88 \textcolor{comment}{// Returns the current time in milliseconds.}}
\DoxyCodeLine{89 GTEST\_API\_ TimeInMillis GetTimeInMillis();}
\DoxyCodeLine{90 }
\DoxyCodeLine{91 \textcolor{comment}{// Returns true if and only if Google Test should use colors in the output.}}
\DoxyCodeLine{92 GTEST\_API\_ \textcolor{keywordtype}{bool} ShouldUseColor(\textcolor{keywordtype}{bool} stdout\_is\_tty);}
\DoxyCodeLine{93 }
\DoxyCodeLine{94 \textcolor{comment}{// Formats the given time in milliseconds as seconds.}}
\DoxyCodeLine{95 GTEST\_API\_ std::string FormatTimeInMillisAsSeconds(TimeInMillis ms);}
\DoxyCodeLine{96 }
\DoxyCodeLine{97 \textcolor{comment}{// Converts the given time in milliseconds to a date string in the ISO 8601}}
\DoxyCodeLine{98 \textcolor{comment}{// format, without the timezone information.  N.B.: due to the use the}}
\DoxyCodeLine{99 \textcolor{comment}{// non-\/reentrant localtime() function, this function is not thread safe.  Do}}
\DoxyCodeLine{100 \textcolor{comment}{// not use it in any code that can be called from multiple threads.}}
\DoxyCodeLine{101 GTEST\_API\_ std::string FormatEpochTimeInMillisAsIso8601(TimeInMillis ms);}
\DoxyCodeLine{102 }
\DoxyCodeLine{103 \textcolor{comment}{// Parses a string for an Int32 flag, in the form of "{}-\/-\/flag=value"{}.}}
\DoxyCodeLine{104 \textcolor{comment}{//}}
\DoxyCodeLine{105 \textcolor{comment}{// On success, stores the value of the flag in *value, and returns}}
\DoxyCodeLine{106 \textcolor{comment}{// true.  On failure, returns false without changing *value.}}
\DoxyCodeLine{107 GTEST\_API\_ \textcolor{keywordtype}{bool} ParseFlag(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* str, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* flag, int32\_t* value);}
\DoxyCodeLine{108 }
\DoxyCodeLine{109 \textcolor{comment}{// Returns a random seed in range [1, kMaxRandomSeed] based on the}}
\DoxyCodeLine{110 \textcolor{comment}{// given -\/-\/gtest\_random\_seed flag value.}}
\DoxyCodeLine{111 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} GetRandomSeedFromFlag(int32\_t random\_seed\_flag) \{}
\DoxyCodeLine{112   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} raw\_seed =}
\DoxyCodeLine{113       (random\_seed\_flag == 0) ? \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}\textcolor{keyword}{>}(GetTimeInMillis())}
\DoxyCodeLine{114                               : \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}\textcolor{keyword}{>}(random\_seed\_flag);}
\DoxyCodeLine{115 }
\DoxyCodeLine{116   \textcolor{comment}{// Normalizes the actual seed to range [1, kMaxRandomSeed] such that}}
\DoxyCodeLine{117   \textcolor{comment}{// it's easy to type.}}
\DoxyCodeLine{118   \textcolor{keyword}{const} \textcolor{keywordtype}{int} normalized\_seed =}
\DoxyCodeLine{119       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}((raw\_seed -\/ 1U) \%}
\DoxyCodeLine{120                        \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}\textcolor{keyword}{>}(kMaxRandomSeed)) +}
\DoxyCodeLine{121       1;}
\DoxyCodeLine{122   \textcolor{keywordflow}{return} normalized\_seed;}
\DoxyCodeLine{123 \}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125 \textcolor{comment}{// Returns the first valid random seed after 'seed'.  The behavior is}}
\DoxyCodeLine{126 \textcolor{comment}{// undefined if 'seed' is invalid.  The seed after kMaxRandomSeed is}}
\DoxyCodeLine{127 \textcolor{comment}{// considered to be 1.}}
\DoxyCodeLine{128 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} GetNextRandomSeed(\textcolor{keywordtype}{int} seed) \{}
\DoxyCodeLine{129   GTEST\_CHECK\_(1 <= seed \&\& seed <= kMaxRandomSeed)}
\DoxyCodeLine{130       << \textcolor{stringliteral}{"{}Invalid random seed "{}} << seed << \textcolor{stringliteral}{"{} -\/ must be in [1, "{}}}
\DoxyCodeLine{131       << kMaxRandomSeed << \textcolor{stringliteral}{"{}]."{}};}
\DoxyCodeLine{132   \textcolor{keyword}{const} \textcolor{keywordtype}{int} next\_seed = seed + 1;}
\DoxyCodeLine{133   \textcolor{keywordflow}{return} (next\_seed > kMaxRandomSeed) ? 1 : next\_seed;}
\DoxyCodeLine{134 \}}
\DoxyCodeLine{135 }
\DoxyCodeLine{136 \textcolor{comment}{// This class saves the values of all Google Test flags in its c'tor, and}}
\DoxyCodeLine{137 \textcolor{comment}{// restores them in its d'tor.}}
\DoxyCodeLine{138 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1GTestFlagSaver}{GTestFlagSaver}} \{}
\DoxyCodeLine{139  \textcolor{keyword}{public}:}
\DoxyCodeLine{140   \textcolor{comment}{// The c'tor.}}
\DoxyCodeLine{141   \mbox{\hyperlink{classtesting_1_1internal_1_1GTestFlagSaver}{GTestFlagSaver}}() \{}
\DoxyCodeLine{142     also\_run\_disabled\_tests\_ = GTEST\_FLAG\_GET(also\_run\_disabled\_tests);}
\DoxyCodeLine{143     break\_on\_failure\_ = GTEST\_FLAG\_GET(break\_on\_failure);}
\DoxyCodeLine{144     catch\_exceptions\_ = GTEST\_FLAG\_GET(catch\_exceptions);}
\DoxyCodeLine{145     color\_ = GTEST\_FLAG\_GET(color);}
\DoxyCodeLine{146     death\_test\_style\_ = GTEST\_FLAG\_GET(death\_test\_style);}
\DoxyCodeLine{147     death\_test\_use\_fork\_ = GTEST\_FLAG\_GET(death\_test\_use\_fork);}
\DoxyCodeLine{148     fail\_fast\_ = GTEST\_FLAG\_GET(fail\_fast);}
\DoxyCodeLine{149     filter\_ = GTEST\_FLAG\_GET(filter);}
\DoxyCodeLine{150     internal\_run\_death\_test\_ = GTEST\_FLAG\_GET(internal\_run\_death\_test);}
\DoxyCodeLine{151     list\_tests\_ = GTEST\_FLAG\_GET(list\_tests);}
\DoxyCodeLine{152     output\_ = GTEST\_FLAG\_GET(output);}
\DoxyCodeLine{153     brief\_ = GTEST\_FLAG\_GET(brief);}
\DoxyCodeLine{154     print\_time\_ = GTEST\_FLAG\_GET(print\_time);}
\DoxyCodeLine{155     print\_utf8\_ = GTEST\_FLAG\_GET(print\_utf8);}
\DoxyCodeLine{156     random\_seed\_ = GTEST\_FLAG\_GET(random\_seed);}
\DoxyCodeLine{157     repeat\_ = GTEST\_FLAG\_GET(repeat);}
\DoxyCodeLine{158     recreate\_environments\_when\_repeating\_ =}
\DoxyCodeLine{159         GTEST\_FLAG\_GET(recreate\_environments\_when\_repeating);}
\DoxyCodeLine{160     shuffle\_ = GTEST\_FLAG\_GET(shuffle);}
\DoxyCodeLine{161     stack\_trace\_depth\_ = GTEST\_FLAG\_GET(stack\_trace\_depth);}
\DoxyCodeLine{162     stream\_result\_to\_ = GTEST\_FLAG\_GET(stream\_result\_to);}
\DoxyCodeLine{163     throw\_on\_failure\_ = GTEST\_FLAG\_GET(throw\_on\_failure);}
\DoxyCodeLine{164   \}}
\DoxyCodeLine{165 }
\DoxyCodeLine{166   \textcolor{comment}{// The d'tor is not virtual.  DO NOT INHERIT FROM THIS CLASS.}}
\DoxyCodeLine{167   \mbox{\hyperlink{classtesting_1_1internal_1_1GTestFlagSaver}{\string~GTestFlagSaver}}() \{}
\DoxyCodeLine{168     GTEST\_FLAG\_SET(also\_run\_disabled\_tests, also\_run\_disabled\_tests\_);}
\DoxyCodeLine{169     GTEST\_FLAG\_SET(break\_on\_failure, break\_on\_failure\_);}
\DoxyCodeLine{170     GTEST\_FLAG\_SET(catch\_exceptions, catch\_exceptions\_);}
\DoxyCodeLine{171     GTEST\_FLAG\_SET(color, color\_);}
\DoxyCodeLine{172     GTEST\_FLAG\_SET(death\_test\_style, death\_test\_style\_);}
\DoxyCodeLine{173     GTEST\_FLAG\_SET(death\_test\_use\_fork, death\_test\_use\_fork\_);}
\DoxyCodeLine{174     GTEST\_FLAG\_SET(filter, filter\_);}
\DoxyCodeLine{175     GTEST\_FLAG\_SET(fail\_fast, fail\_fast\_);}
\DoxyCodeLine{176     GTEST\_FLAG\_SET(internal\_run\_death\_test, internal\_run\_death\_test\_);}
\DoxyCodeLine{177     GTEST\_FLAG\_SET(list\_tests, list\_tests\_);}
\DoxyCodeLine{178     GTEST\_FLAG\_SET(output, output\_);}
\DoxyCodeLine{179     GTEST\_FLAG\_SET(brief, brief\_);}
\DoxyCodeLine{180     GTEST\_FLAG\_SET(print\_time, print\_time\_);}
\DoxyCodeLine{181     GTEST\_FLAG\_SET(print\_utf8, print\_utf8\_);}
\DoxyCodeLine{182     GTEST\_FLAG\_SET(random\_seed, random\_seed\_);}
\DoxyCodeLine{183     GTEST\_FLAG\_SET(repeat, repeat\_);}
\DoxyCodeLine{184     GTEST\_FLAG\_SET(recreate\_environments\_when\_repeating,}
\DoxyCodeLine{185                    recreate\_environments\_when\_repeating\_);}
\DoxyCodeLine{186     GTEST\_FLAG\_SET(shuffle, shuffle\_);}
\DoxyCodeLine{187     GTEST\_FLAG\_SET(stack\_trace\_depth, stack\_trace\_depth\_);}
\DoxyCodeLine{188     GTEST\_FLAG\_SET(stream\_result\_to, stream\_result\_to\_);}
\DoxyCodeLine{189     GTEST\_FLAG\_SET(throw\_on\_failure, throw\_on\_failure\_);}
\DoxyCodeLine{190   \}}
\DoxyCodeLine{191 }
\DoxyCodeLine{192  \textcolor{keyword}{private}:}
\DoxyCodeLine{193   \textcolor{comment}{// Fields for saving the original values of flags.}}
\DoxyCodeLine{194   \textcolor{keywordtype}{bool} also\_run\_disabled\_tests\_;}
\DoxyCodeLine{195   \textcolor{keywordtype}{bool} break\_on\_failure\_;}
\DoxyCodeLine{196   \textcolor{keywordtype}{bool} catch\_exceptions\_;}
\DoxyCodeLine{197   std::string color\_;}
\DoxyCodeLine{198   std::string death\_test\_style\_;}
\DoxyCodeLine{199   \textcolor{keywordtype}{bool} death\_test\_use\_fork\_;}
\DoxyCodeLine{200   \textcolor{keywordtype}{bool} fail\_fast\_;}
\DoxyCodeLine{201   std::string filter\_;}
\DoxyCodeLine{202   std::string internal\_run\_death\_test\_;}
\DoxyCodeLine{203   \textcolor{keywordtype}{bool} list\_tests\_;}
\DoxyCodeLine{204   std::string output\_;}
\DoxyCodeLine{205   \textcolor{keywordtype}{bool} brief\_;}
\DoxyCodeLine{206   \textcolor{keywordtype}{bool} print\_time\_;}
\DoxyCodeLine{207   \textcolor{keywordtype}{bool} print\_utf8\_;}
\DoxyCodeLine{208   int32\_t random\_seed\_;}
\DoxyCodeLine{209   int32\_t repeat\_;}
\DoxyCodeLine{210   \textcolor{keywordtype}{bool} recreate\_environments\_when\_repeating\_;}
\DoxyCodeLine{211   \textcolor{keywordtype}{bool} shuffle\_;}
\DoxyCodeLine{212   int32\_t stack\_trace\_depth\_;}
\DoxyCodeLine{213   std::string stream\_result\_to\_;}
\DoxyCodeLine{214   \textcolor{keywordtype}{bool} throw\_on\_failure\_;}
\DoxyCodeLine{215 \} GTEST\_ATTRIBUTE\_UNUSED\_;}
\DoxyCodeLine{216 }
\DoxyCodeLine{217 \textcolor{comment}{// Converts a Unicode code point to a narrow string in UTF-\/8 encoding.}}
\DoxyCodeLine{218 \textcolor{comment}{// code\_point parameter is of type UInt32 because wchar\_t may not be}}
\DoxyCodeLine{219 \textcolor{comment}{// wide enough to contain a code point.}}
\DoxyCodeLine{220 \textcolor{comment}{// If the code\_point is not a valid Unicode code point}}
\DoxyCodeLine{221 \textcolor{comment}{// (i.e. outside of Unicode range U+0 to U+10FFFF) it will be converted}}
\DoxyCodeLine{222 \textcolor{comment}{// to "{}(Invalid Unicode 0xXXXXXXXX)"{}.}}
\DoxyCodeLine{223 GTEST\_API\_ std::string CodePointToUtf8(uint32\_t code\_point);}
\DoxyCodeLine{224 }
\DoxyCodeLine{225 \textcolor{comment}{// Converts a wide string to a narrow string in UTF-\/8 encoding.}}
\DoxyCodeLine{226 \textcolor{comment}{// The wide string is assumed to have the following encoding:}}
\DoxyCodeLine{227 \textcolor{comment}{//   UTF-\/16 if sizeof(wchar\_t) == 2 (on Windows, Cygwin)}}
\DoxyCodeLine{228 \textcolor{comment}{//   UTF-\/32 if sizeof(wchar\_t) == 4 (on Linux)}}
\DoxyCodeLine{229 \textcolor{comment}{// Parameter str points to a null-\/terminated wide string.}}
\DoxyCodeLine{230 \textcolor{comment}{// Parameter num\_chars may additionally limit the number}}
\DoxyCodeLine{231 \textcolor{comment}{// of wchar\_t characters processed. -\/1 is used when the entire string}}
\DoxyCodeLine{232 \textcolor{comment}{// should be processed.}}
\DoxyCodeLine{233 \textcolor{comment}{// If the string contains code points that are not valid Unicode code points}}
\DoxyCodeLine{234 \textcolor{comment}{// (i.e. outside of Unicode range U+0 to U+10FFFF) they will be output}}
\DoxyCodeLine{235 \textcolor{comment}{// as '(Invalid Unicode 0xXXXXXXXX)'. If the string is in UTF16 encoding}}
\DoxyCodeLine{236 \textcolor{comment}{// and contains invalid UTF-\/16 surrogate pairs, values in those pairs}}
\DoxyCodeLine{237 \textcolor{comment}{// will be encoded as individual Unicode characters from Basic Normal Plane.}}
\DoxyCodeLine{238 GTEST\_API\_ std::string WideStringToUtf8(\textcolor{keyword}{const} \textcolor{keywordtype}{wchar\_t}* str, \textcolor{keywordtype}{int} num\_chars);}
\DoxyCodeLine{239 }
\DoxyCodeLine{240 \textcolor{comment}{// Reads the GTEST\_SHARD\_STATUS\_FILE environment variable, and creates the file}}
\DoxyCodeLine{241 \textcolor{comment}{// if the variable is present. If a file already exists at this location, this}}
\DoxyCodeLine{242 \textcolor{comment}{// function will write over it. If the variable is present, but the file cannot}}
\DoxyCodeLine{243 \textcolor{comment}{// be created, prints an error and exits.}}
\DoxyCodeLine{244 \textcolor{keywordtype}{void} WriteToShardStatusFileIfNeeded();}
\DoxyCodeLine{245 }
\DoxyCodeLine{246 \textcolor{comment}{// Checks whether sharding is enabled by examining the relevant}}
\DoxyCodeLine{247 \textcolor{comment}{// environment variable values. If the variables are present,}}
\DoxyCodeLine{248 \textcolor{comment}{// but inconsistent (e.g., shard\_index >= total\_shards), prints}}
\DoxyCodeLine{249 \textcolor{comment}{// an error and exits. If in\_subprocess\_for\_death\_test, sharding is}}
\DoxyCodeLine{250 \textcolor{comment}{// disabled because it must only be applied to the original test}}
\DoxyCodeLine{251 \textcolor{comment}{// process. Otherwise, we could filter out death tests we intended to execute.}}
\DoxyCodeLine{252 GTEST\_API\_ \textcolor{keywordtype}{bool} ShouldShard(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* total\_shards\_str,}
\DoxyCodeLine{253                             \textcolor{keyword}{const} \textcolor{keywordtype}{char}* shard\_index\_str,}
\DoxyCodeLine{254                             \textcolor{keywordtype}{bool} in\_subprocess\_for\_death\_test);}
\DoxyCodeLine{255 }
\DoxyCodeLine{256 \textcolor{comment}{// Parses the environment variable var as a 32-\/bit integer. If it is unset,}}
\DoxyCodeLine{257 \textcolor{comment}{// returns default\_val. If it is not a 32-\/bit integer, prints an error and}}
\DoxyCodeLine{258 \textcolor{comment}{// and aborts.}}
\DoxyCodeLine{259 GTEST\_API\_ int32\_t Int32FromEnvOrDie(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* env\_var, int32\_t default\_val);}
\DoxyCodeLine{260 }
\DoxyCodeLine{261 \textcolor{comment}{// Given the total number of shards, the shard index, and the test id,}}
\DoxyCodeLine{262 \textcolor{comment}{// returns true if and only if the test should be run on this shard. The test id}}
\DoxyCodeLine{263 \textcolor{comment}{// is some arbitrary but unique non-\/negative integer assigned to each test}}
\DoxyCodeLine{264 \textcolor{comment}{// method. Assumes that 0 <= shard\_index < total\_shards.}}
\DoxyCodeLine{265 GTEST\_API\_ \textcolor{keywordtype}{bool} ShouldRunTestOnShard(\textcolor{keywordtype}{int} total\_shards, \textcolor{keywordtype}{int} shard\_index,}
\DoxyCodeLine{266                                      \textcolor{keywordtype}{int} test\_id);}
\DoxyCodeLine{267 }
\DoxyCodeLine{268 \textcolor{comment}{// STL container utilities.}}
\DoxyCodeLine{269 }
\DoxyCodeLine{270 \textcolor{comment}{// Returns the number of elements in the given container that satisfy}}
\DoxyCodeLine{271 \textcolor{comment}{// the given predicate.}}
\DoxyCodeLine{272 \textcolor{keyword}{template} <\textcolor{keyword}{class} Container, \textcolor{keyword}{typename} Predicate>}
\DoxyCodeLine{273 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} CountIf(\textcolor{keyword}{const} Container\& c, Predicate predicate) \{}
\DoxyCodeLine{274   \textcolor{comment}{// Implemented as an explicit loop since std::count\_if() in libCstd on}}
\DoxyCodeLine{275   \textcolor{comment}{// Solaris has a non-\/standard signature.}}
\DoxyCodeLine{276   \textcolor{keywordtype}{int} count = 0;}
\DoxyCodeLine{277   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = c.begin(); it != c.end(); ++it) \{}
\DoxyCodeLine{278     \textcolor{keywordflow}{if} (predicate(*it)) ++count;}
\DoxyCodeLine{279   \}}
\DoxyCodeLine{280   \textcolor{keywordflow}{return} count;}
\DoxyCodeLine{281 \}}
\DoxyCodeLine{282 }
\DoxyCodeLine{283 \textcolor{comment}{// Applies a function/functor to each element in the container.}}
\DoxyCodeLine{284 \textcolor{keyword}{template} <\textcolor{keyword}{class} Container, \textcolor{keyword}{typename} Functor>}
\DoxyCodeLine{285 \textcolor{keywordtype}{void} ForEach(\textcolor{keyword}{const} Container\& c, Functor functor) \{}
\DoxyCodeLine{286   std::for\_each(c.begin(), c.end(), functor);}
\DoxyCodeLine{287 \}}
\DoxyCodeLine{288 }
\DoxyCodeLine{289 \textcolor{comment}{// Returns the i-\/th element of the vector, or default\_value if i is not}}
\DoxyCodeLine{290 \textcolor{comment}{// in range [0, v.size()).}}
\DoxyCodeLine{291 \textcolor{keyword}{template} <\textcolor{keyword}{typename} E>}
\DoxyCodeLine{292 \textcolor{keyword}{inline} E GetElementOr(\textcolor{keyword}{const} std::vector<E>\& v, \textcolor{keywordtype}{int} i, E default\_value) \{}
\DoxyCodeLine{293   \textcolor{keywordflow}{return} (i < 0 || i >= \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(v.size())) ? default\_value}
\DoxyCodeLine{294                                                     : v[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(i)];}
\DoxyCodeLine{295 \}}
\DoxyCodeLine{296 }
\DoxyCodeLine{297 \textcolor{comment}{// Performs an in-\/place shuffle of a range of the vector's elements.}}
\DoxyCodeLine{298 \textcolor{comment}{// 'begin' and 'end' are element indices as an STL-\/style range;}}
\DoxyCodeLine{299 \textcolor{comment}{// i.e. [begin, end) are shuffled, where 'end' == size() means to}}
\DoxyCodeLine{300 \textcolor{comment}{// shuffle to the end of the vector.}}
\DoxyCodeLine{301 \textcolor{keyword}{template} <\textcolor{keyword}{typename} E>}
\DoxyCodeLine{302 \textcolor{keywordtype}{void} ShuffleRange(internal::Random* random, \textcolor{keywordtype}{int} begin, \textcolor{keywordtype}{int} end,}
\DoxyCodeLine{303                   std::vector<E>* v) \{}
\DoxyCodeLine{304   \textcolor{keyword}{const} \textcolor{keywordtype}{int} size = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(v-\/>size());}
\DoxyCodeLine{305   GTEST\_CHECK\_(0 <= begin \&\& begin <= size)}
\DoxyCodeLine{306       << \textcolor{stringliteral}{"{}Invalid shuffle range start "{}} << begin << \textcolor{stringliteral}{"{}: must be in range [0, "{}}}
\DoxyCodeLine{307       << size << \textcolor{stringliteral}{"{}]."{}};}
\DoxyCodeLine{308   GTEST\_CHECK\_(begin <= end \&\& end <= size)}
\DoxyCodeLine{309       << \textcolor{stringliteral}{"{}Invalid shuffle range finish "{}} << end << \textcolor{stringliteral}{"{}: must be in range ["{}}}
\DoxyCodeLine{310       << begin << \textcolor{stringliteral}{"{}, "{}} << size << \textcolor{stringliteral}{"{}]."{}};}
\DoxyCodeLine{311 }
\DoxyCodeLine{312   \textcolor{comment}{// Fisher-\/Yates shuffle, from}}
\DoxyCodeLine{313   \textcolor{comment}{// http://en.wikipedia.org/wiki/Fisher-\/Yates\_shuffle}}
\DoxyCodeLine{314   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} range\_width = end -\/ begin; range\_width >= 2; range\_width-\/-\/) \{}
\DoxyCodeLine{315     \textcolor{keyword}{const} \textcolor{keywordtype}{int} last\_in\_range = begin + range\_width -\/ 1;}
\DoxyCodeLine{316     \textcolor{keyword}{const} \textcolor{keywordtype}{int} selected =}
\DoxyCodeLine{317         begin +}
\DoxyCodeLine{318         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(random-\/>Generate(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(range\_width)));}
\DoxyCodeLine{319     std::swap((*v)[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(selected)],}
\DoxyCodeLine{320               (*v)[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(last\_in\_range)]);}
\DoxyCodeLine{321   \}}
\DoxyCodeLine{322 \}}
\DoxyCodeLine{323 }
\DoxyCodeLine{324 \textcolor{comment}{// Performs an in-\/place shuffle of the vector's elements.}}
\DoxyCodeLine{325 \textcolor{keyword}{template} <\textcolor{keyword}{typename} E>}
\DoxyCodeLine{326 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} Shuffle(internal::Random* random, std::vector<E>* v) \{}
\DoxyCodeLine{327   ShuffleRange(random, 0, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(v-\/>size()), v);}
\DoxyCodeLine{328 \}}
\DoxyCodeLine{329 }
\DoxyCodeLine{330 \textcolor{comment}{// A function for deleting an object.  Handy for being used as a}}
\DoxyCodeLine{331 \textcolor{comment}{// functor.}}
\DoxyCodeLine{332 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{333 \textcolor{keyword}{static} \textcolor{keywordtype}{void} Delete(T* x) \{}
\DoxyCodeLine{334   \textcolor{keyword}{delete} x;}
\DoxyCodeLine{335 \}}
\DoxyCodeLine{336 }
\DoxyCodeLine{337 \textcolor{comment}{// A predicate that checks the key of a TestProperty against a known key.}}
\DoxyCodeLine{338 \textcolor{comment}{//}}
\DoxyCodeLine{339 \textcolor{comment}{// TestPropertyKeyIs is copyable.}}
\DoxyCodeLine{340 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1TestPropertyKeyIs}{TestPropertyKeyIs}} \{}
\DoxyCodeLine{341  \textcolor{keyword}{public}:}
\DoxyCodeLine{342   \textcolor{comment}{// Constructor.}}
\DoxyCodeLine{343   \textcolor{comment}{//}}
\DoxyCodeLine{344   \textcolor{comment}{// TestPropertyKeyIs has NO default constructor.}}
\DoxyCodeLine{345   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1TestPropertyKeyIs}{TestPropertyKeyIs}}(\textcolor{keyword}{const} std::string\& key) : key\_(key) \{\}}
\DoxyCodeLine{346 }
\DoxyCodeLine{347   \textcolor{comment}{// Returns true if and only if the test name of test property matches on key\_.}}
\DoxyCodeLine{348   \textcolor{keywordtype}{bool} operator()(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1TestProperty}{TestProperty}}\& test\_property)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{349     \textcolor{keywordflow}{return} test\_property.key() == key\_;}
\DoxyCodeLine{350   \}}
\DoxyCodeLine{351 }
\DoxyCodeLine{352  \textcolor{keyword}{private}:}
\DoxyCodeLine{353   std::string key\_;}
\DoxyCodeLine{354 \};}
\DoxyCodeLine{355 }
\DoxyCodeLine{356 \textcolor{comment}{// Class UnitTestOptions.}}
\DoxyCodeLine{357 \textcolor{comment}{//}}
\DoxyCodeLine{358 \textcolor{comment}{// This class contains functions for processing options the user}}
\DoxyCodeLine{359 \textcolor{comment}{// specifies when running the tests.  It has only static members.}}
\DoxyCodeLine{360 \textcolor{comment}{//}}
\DoxyCodeLine{361 \textcolor{comment}{// In most cases, the user can specify an option using either an}}
\DoxyCodeLine{362 \textcolor{comment}{// environment variable or a command line flag.  E.g. you can set the}}
\DoxyCodeLine{363 \textcolor{comment}{// test filter using either GTEST\_FILTER or -\/-\/gtest\_filter.  If both}}
\DoxyCodeLine{364 \textcolor{comment}{// the variable and the flag are present, the latter overrides the}}
\DoxyCodeLine{365 \textcolor{comment}{// former.}}
\DoxyCodeLine{366 \textcolor{keyword}{class }GTEST\_API\_ \mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestOptions}{UnitTestOptions}} \{}
\DoxyCodeLine{367  \textcolor{keyword}{public}:}
\DoxyCodeLine{368   \textcolor{comment}{// Functions for processing the gtest\_output flag.}}
\DoxyCodeLine{369 }
\DoxyCodeLine{370   \textcolor{comment}{// Returns the output format, or "{}"{} for normal printed output.}}
\DoxyCodeLine{371   \textcolor{keyword}{static} std::string GetOutputFormat();}
\DoxyCodeLine{372 }
\DoxyCodeLine{373   \textcolor{comment}{// Returns the absolute path of the requested output file, or the}}
\DoxyCodeLine{374   \textcolor{comment}{// default (test\_detail.xml in the original working directory) if}}
\DoxyCodeLine{375   \textcolor{comment}{// none was explicitly specified.}}
\DoxyCodeLine{376   \textcolor{keyword}{static} std::string GetAbsolutePathToOutputFile();}
\DoxyCodeLine{377 }
\DoxyCodeLine{378   \textcolor{comment}{// Functions for processing the gtest\_filter flag.}}
\DoxyCodeLine{379 }
\DoxyCodeLine{380   \textcolor{comment}{// Returns true if and only if the user-\/specified filter matches the test}}
\DoxyCodeLine{381   \textcolor{comment}{// suite name and the test name.}}
\DoxyCodeLine{382   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} FilterMatchesTest(\textcolor{keyword}{const} std::string\& test\_suite\_name,}
\DoxyCodeLine{383                                 \textcolor{keyword}{const} std::string\& test\_name);}
\DoxyCodeLine{384 }
\DoxyCodeLine{385 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{386   \textcolor{comment}{// Function for supporting the gtest\_catch\_exception flag.}}
\DoxyCodeLine{387 }
\DoxyCodeLine{388   \textcolor{comment}{// Returns EXCEPTION\_EXECUTE\_HANDLER if Google Test should handle the}}
\DoxyCodeLine{389   \textcolor{comment}{// given SEH exception, or EXCEPTION\_CONTINUE\_SEARCH otherwise.}}
\DoxyCodeLine{390   \textcolor{comment}{// This function is useful as an \_\_except condition.}}
\DoxyCodeLine{391   \textcolor{keyword}{static} \textcolor{keywordtype}{int} GTestShouldProcessSEH(DWORD exception\_code);}
\DoxyCodeLine{392 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{393 }
\DoxyCodeLine{394   \textcolor{comment}{// Returns true if "{}name"{} matches the ':' separated list of glob-\/style}}
\DoxyCodeLine{395   \textcolor{comment}{// filters in "{}filter"{}.}}
\DoxyCodeLine{396   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} MatchesFilter(\textcolor{keyword}{const} std::string\& name, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* filter);}
\DoxyCodeLine{397 \};}
\DoxyCodeLine{398 }
\DoxyCodeLine{399 \textcolor{comment}{// Returns the current application's name, removing directory path if that}}
\DoxyCodeLine{400 \textcolor{comment}{// is present.  Used by UnitTestOptions::GetOutputFile.}}
\DoxyCodeLine{401 GTEST\_API\_ FilePath GetCurrentExecutableName();}
\DoxyCodeLine{402 }
\DoxyCodeLine{403 \textcolor{comment}{// The role interface for getting the OS stack trace as a string.}}
\DoxyCodeLine{404 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetterInterface}{OsStackTraceGetterInterface}} \{}
\DoxyCodeLine{405  \textcolor{keyword}{public}:}
\DoxyCodeLine{406   \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetterInterface}{OsStackTraceGetterInterface}}() \{\}}
\DoxyCodeLine{407   \textcolor{keyword}{virtual} \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetterInterface}{\string~OsStackTraceGetterInterface}}() \{\}}
\DoxyCodeLine{408 }
\DoxyCodeLine{409   \textcolor{comment}{// Returns the current OS stack trace as an std::string.  Parameters:}}
\DoxyCodeLine{410   \textcolor{comment}{//}}
\DoxyCodeLine{411   \textcolor{comment}{//   max\_depth  -\/ the maximum number of stack frames to be included}}
\DoxyCodeLine{412   \textcolor{comment}{//                in the trace.}}
\DoxyCodeLine{413   \textcolor{comment}{//   skip\_count -\/ the number of top frames to be skipped; doesn't count}}
\DoxyCodeLine{414   \textcolor{comment}{//                against max\_depth.}}
\DoxyCodeLine{415   \textcolor{keyword}{virtual} std::string CurrentStackTrace(\textcolor{keywordtype}{int} max\_depth, \textcolor{keywordtype}{int} skip\_count) = 0;}
\DoxyCodeLine{416 }
\DoxyCodeLine{417   \textcolor{comment}{// UponLeavingGTest() should be called immediately before Google Test calls}}
\DoxyCodeLine{418   \textcolor{comment}{// user code. It saves some information about the current stack that}}
\DoxyCodeLine{419   \textcolor{comment}{// CurrentStackTrace() will use to find and hide Google Test stack frames.}}
\DoxyCodeLine{420   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} UponLeavingGTest() = 0;}
\DoxyCodeLine{421 }
\DoxyCodeLine{422   \textcolor{comment}{// This string is inserted in place of stack frames that are part of}}
\DoxyCodeLine{423   \textcolor{comment}{// Google Test's implementation.}}
\DoxyCodeLine{424   \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char}* \textcolor{keyword}{const} kElidedFramesMarker;}
\DoxyCodeLine{425 }
\DoxyCodeLine{426  \textcolor{keyword}{private}:}
\DoxyCodeLine{427   \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetterInterface}{OsStackTraceGetterInterface}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetterInterface}{OsStackTraceGetterInterface}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{428   \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetterInterface}{OsStackTraceGetterInterface}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetterInterface}{OsStackTraceGetterInterface}}\&) =}
\DoxyCodeLine{429       \textcolor{keyword}{delete};}
\DoxyCodeLine{430 \};}
\DoxyCodeLine{431 }
\DoxyCodeLine{432 \textcolor{comment}{// A working implementation of the OsStackTraceGetterInterface interface.}}
\DoxyCodeLine{433 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetter}{OsStackTraceGetter}} : \textcolor{keyword}{public} \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetterInterface}{OsStackTraceGetterInterface}} \{}
\DoxyCodeLine{434  \textcolor{keyword}{public}:}
\DoxyCodeLine{435   \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetter}{OsStackTraceGetter}}() \{\}}
\DoxyCodeLine{436 }
\DoxyCodeLine{437   std::string CurrentStackTrace(\textcolor{keywordtype}{int} max\_depth, \textcolor{keywordtype}{int} skip\_count) \textcolor{keyword}{override};}
\DoxyCodeLine{438   \textcolor{keywordtype}{void} UponLeavingGTest() \textcolor{keyword}{override};}
\DoxyCodeLine{439 }
\DoxyCodeLine{440  \textcolor{keyword}{private}:}
\DoxyCodeLine{441 \textcolor{preprocessor}{\#if GTEST\_HAS\_ABSL}}
\DoxyCodeLine{442   \mbox{\hyperlink{classtesting_1_1internal_1_1Mutex}{Mutex}} mutex\_;  \textcolor{comment}{// Protects all internal state.}}
\DoxyCodeLine{443 }
\DoxyCodeLine{444   \textcolor{comment}{// We save the stack frame below the frame that calls user code.}}
\DoxyCodeLine{445   \textcolor{comment}{// We do this because the address of the frame immediately below}}
\DoxyCodeLine{446   \textcolor{comment}{// the user code changes between the call to UponLeavingGTest()}}
\DoxyCodeLine{447   \textcolor{comment}{// and any calls to the stack trace code from within the user code.}}
\DoxyCodeLine{448   \textcolor{keywordtype}{void}* caller\_frame\_ = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{449 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_ABSL}}
\DoxyCodeLine{450 }
\DoxyCodeLine{451   \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetter}{OsStackTraceGetter}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetter}{OsStackTraceGetter}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{452   \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetter}{OsStackTraceGetter}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetter}{OsStackTraceGetter}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{453 \};}
\DoxyCodeLine{454 }
\DoxyCodeLine{455 \textcolor{comment}{// Information about a Google Test trace point.}}
\DoxyCodeLine{456 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1internal_1_1TraceInfo}{TraceInfo}} \{}
\DoxyCodeLine{457   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* file;}
\DoxyCodeLine{458   \textcolor{keywordtype}{int} line;}
\DoxyCodeLine{459   std::string message;}
\DoxyCodeLine{460 \};}
\DoxyCodeLine{461 }
\DoxyCodeLine{462 \textcolor{comment}{// This is the default global test part result reporter used in UnitTestImpl.}}
\DoxyCodeLine{463 \textcolor{comment}{// This class should only be used by UnitTestImpl.}}
\DoxyCodeLine{464 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1DefaultGlobalTestPartResultReporter}{DefaultGlobalTestPartResultReporter}}}
\DoxyCodeLine{465     : \textcolor{keyword}{public} TestPartResultReporterInterface \{}
\DoxyCodeLine{466  \textcolor{keyword}{public}:}
\DoxyCodeLine{467   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1DefaultGlobalTestPartResultReporter}{DefaultGlobalTestPartResultReporter}}(\mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestImpl}{UnitTestImpl}}* unit\_test);}
\DoxyCodeLine{468   \textcolor{comment}{// Implements the TestPartResultReporterInterface. Reports the test part}}
\DoxyCodeLine{469   \textcolor{comment}{// result in the current test.}}
\DoxyCodeLine{470   \textcolor{keywordtype}{void} ReportTestPartResult(\textcolor{keyword}{const} TestPartResult\& result) \textcolor{keyword}{override};}
\DoxyCodeLine{471 }
\DoxyCodeLine{472  \textcolor{keyword}{private}:}
\DoxyCodeLine{473   \mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestImpl}{UnitTestImpl}}* \textcolor{keyword}{const} unit\_test\_;}
\DoxyCodeLine{474 }
\DoxyCodeLine{475   \mbox{\hyperlink{classtesting_1_1internal_1_1DefaultGlobalTestPartResultReporter}{DefaultGlobalTestPartResultReporter}}(}
\DoxyCodeLine{476       \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1DefaultGlobalTestPartResultReporter}{DefaultGlobalTestPartResultReporter}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{477   \mbox{\hyperlink{classtesting_1_1internal_1_1DefaultGlobalTestPartResultReporter}{DefaultGlobalTestPartResultReporter}}\& operator=(}
\DoxyCodeLine{478       \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1DefaultGlobalTestPartResultReporter}{DefaultGlobalTestPartResultReporter}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{479 \};}
\DoxyCodeLine{480 }
\DoxyCodeLine{481 \textcolor{comment}{// This is the default per thread test part result reporter used in}}
\DoxyCodeLine{482 \textcolor{comment}{// UnitTestImpl. This class should only be used by UnitTestImpl.}}
\DoxyCodeLine{483 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1DefaultPerThreadTestPartResultReporter}{DefaultPerThreadTestPartResultReporter}}}
\DoxyCodeLine{484     : \textcolor{keyword}{public} TestPartResultReporterInterface \{}
\DoxyCodeLine{485  \textcolor{keyword}{public}:}
\DoxyCodeLine{486   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1DefaultPerThreadTestPartResultReporter}{DefaultPerThreadTestPartResultReporter}}(\mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestImpl}{UnitTestImpl}}* unit\_test);}
\DoxyCodeLine{487   \textcolor{comment}{// Implements the TestPartResultReporterInterface. The implementation just}}
\DoxyCodeLine{488   \textcolor{comment}{// delegates to the current global test part result reporter of *unit\_test\_.}}
\DoxyCodeLine{489   \textcolor{keywordtype}{void} ReportTestPartResult(\textcolor{keyword}{const} TestPartResult\& result) \textcolor{keyword}{override};}
\DoxyCodeLine{490 }
\DoxyCodeLine{491  \textcolor{keyword}{private}:}
\DoxyCodeLine{492   \mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestImpl}{UnitTestImpl}}* \textcolor{keyword}{const} unit\_test\_;}
\DoxyCodeLine{493 }
\DoxyCodeLine{494   \mbox{\hyperlink{classtesting_1_1internal_1_1DefaultPerThreadTestPartResultReporter}{DefaultPerThreadTestPartResultReporter}}(}
\DoxyCodeLine{495       \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1DefaultPerThreadTestPartResultReporter}{DefaultPerThreadTestPartResultReporter}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{496   \mbox{\hyperlink{classtesting_1_1internal_1_1DefaultPerThreadTestPartResultReporter}{DefaultPerThreadTestPartResultReporter}}\& operator=(}
\DoxyCodeLine{497       \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1DefaultPerThreadTestPartResultReporter}{DefaultPerThreadTestPartResultReporter}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{498 \};}
\DoxyCodeLine{499 }
\DoxyCodeLine{500 \textcolor{comment}{// The private implementation of the UnitTest class.  We don't protect}}
\DoxyCodeLine{501 \textcolor{comment}{// the methods under a mutex, as this class is not accessible by a}}
\DoxyCodeLine{502 \textcolor{comment}{// user and the UnitTest class that delegates work to this class does}}
\DoxyCodeLine{503 \textcolor{comment}{// proper locking.}}
\DoxyCodeLine{504 \textcolor{keyword}{class }GTEST\_API\_ \mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestImpl}{UnitTestImpl}} \{}
\DoxyCodeLine{505  \textcolor{keyword}{public}:}
\DoxyCodeLine{506   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestImpl}{UnitTestImpl}}(\mbox{\hyperlink{classtesting_1_1UnitTest}{UnitTest}}* parent);}
\DoxyCodeLine{507   \textcolor{keyword}{virtual} \mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestImpl}{\string~UnitTestImpl}}();}
\DoxyCodeLine{508 }
\DoxyCodeLine{509   \textcolor{comment}{// There are two different ways to register your own TestPartResultReporter.}}
\DoxyCodeLine{510   \textcolor{comment}{// You can register your own repoter to listen either only for test results}}
\DoxyCodeLine{511   \textcolor{comment}{// from the current thread or for results from all threads.}}
\DoxyCodeLine{512   \textcolor{comment}{// By default, each per-\/thread test result repoter just passes a new}}
\DoxyCodeLine{513   \textcolor{comment}{// TestPartResult to the global test result reporter, which registers the}}
\DoxyCodeLine{514   \textcolor{comment}{// test part result for the currently running test.}}
\DoxyCodeLine{515 }
\DoxyCodeLine{516   \textcolor{comment}{// Returns the global test part result reporter.}}
\DoxyCodeLine{517   TestPartResultReporterInterface* GetGlobalTestPartResultReporter();}
\DoxyCodeLine{518 }
\DoxyCodeLine{519   \textcolor{comment}{// Sets the global test part result reporter.}}
\DoxyCodeLine{520   \textcolor{keywordtype}{void} SetGlobalTestPartResultReporter(}
\DoxyCodeLine{521       TestPartResultReporterInterface* reporter);}
\DoxyCodeLine{522 }
\DoxyCodeLine{523   \textcolor{comment}{// Returns the test part result reporter for the current thread.}}
\DoxyCodeLine{524   TestPartResultReporterInterface* GetTestPartResultReporterForCurrentThread();}
\DoxyCodeLine{525 }
\DoxyCodeLine{526   \textcolor{comment}{// Sets the test part result reporter for the current thread.}}
\DoxyCodeLine{527   \textcolor{keywordtype}{void} SetTestPartResultReporterForCurrentThread(}
\DoxyCodeLine{528       TestPartResultReporterInterface* reporter);}
\DoxyCodeLine{529 }
\DoxyCodeLine{530   \textcolor{comment}{// Gets the number of successful test suites.}}
\DoxyCodeLine{531   \textcolor{keywordtype}{int} successful\_test\_suite\_count() \textcolor{keyword}{const};}
\DoxyCodeLine{532 }
\DoxyCodeLine{533   \textcolor{comment}{// Gets the number of failed test suites.}}
\DoxyCodeLine{534   \textcolor{keywordtype}{int} failed\_test\_suite\_count() \textcolor{keyword}{const};}
\DoxyCodeLine{535 }
\DoxyCodeLine{536   \textcolor{comment}{// Gets the number of all test suites.}}
\DoxyCodeLine{537   \textcolor{keywordtype}{int} total\_test\_suite\_count() \textcolor{keyword}{const};}
\DoxyCodeLine{538 }
\DoxyCodeLine{539   \textcolor{comment}{// Gets the number of all test suites that contain at least one test}}
\DoxyCodeLine{540   \textcolor{comment}{// that should run.}}
\DoxyCodeLine{541   \textcolor{keywordtype}{int} test\_suite\_to\_run\_count() \textcolor{keyword}{const};}
\DoxyCodeLine{542 }
\DoxyCodeLine{543   \textcolor{comment}{// Gets the number of successful tests.}}
\DoxyCodeLine{544   \textcolor{keywordtype}{int} successful\_test\_count() \textcolor{keyword}{const};}
\DoxyCodeLine{545 }
\DoxyCodeLine{546   \textcolor{comment}{// Gets the number of skipped tests.}}
\DoxyCodeLine{547   \textcolor{keywordtype}{int} skipped\_test\_count() \textcolor{keyword}{const};}
\DoxyCodeLine{548 }
\DoxyCodeLine{549   \textcolor{comment}{// Gets the number of failed tests.}}
\DoxyCodeLine{550   \textcolor{keywordtype}{int} failed\_test\_count() \textcolor{keyword}{const};}
\DoxyCodeLine{551 }
\DoxyCodeLine{552   \textcolor{comment}{// Gets the number of disabled tests that will be reported in the XML report.}}
\DoxyCodeLine{553   \textcolor{keywordtype}{int} reportable\_disabled\_test\_count() \textcolor{keyword}{const};}
\DoxyCodeLine{554 }
\DoxyCodeLine{555   \textcolor{comment}{// Gets the number of disabled tests.}}
\DoxyCodeLine{556   \textcolor{keywordtype}{int} disabled\_test\_count() \textcolor{keyword}{const};}
\DoxyCodeLine{557 }
\DoxyCodeLine{558   \textcolor{comment}{// Gets the number of tests to be printed in the XML report.}}
\DoxyCodeLine{559   \textcolor{keywordtype}{int} reportable\_test\_count() \textcolor{keyword}{const};}
\DoxyCodeLine{560 }
\DoxyCodeLine{561   \textcolor{comment}{// Gets the number of all tests.}}
\DoxyCodeLine{562   \textcolor{keywordtype}{int} total\_test\_count() \textcolor{keyword}{const};}
\DoxyCodeLine{563 }
\DoxyCodeLine{564   \textcolor{comment}{// Gets the number of tests that should run.}}
\DoxyCodeLine{565   \textcolor{keywordtype}{int} test\_to\_run\_count() \textcolor{keyword}{const};}
\DoxyCodeLine{566 }
\DoxyCodeLine{567   \textcolor{comment}{// Gets the time of the test program start, in ms from the start of the}}
\DoxyCodeLine{568   \textcolor{comment}{// UNIX epoch.}}
\DoxyCodeLine{569   TimeInMillis start\_timestamp()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} start\_timestamp\_; \}}
\DoxyCodeLine{570 }
\DoxyCodeLine{571   \textcolor{comment}{// Gets the elapsed time, in milliseconds.}}
\DoxyCodeLine{572   TimeInMillis elapsed\_time()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} elapsed\_time\_; \}}
\DoxyCodeLine{573 }
\DoxyCodeLine{574   \textcolor{comment}{// Returns true if and only if the unit test passed (i.e. all test suites}}
\DoxyCodeLine{575   \textcolor{comment}{// passed).}}
\DoxyCodeLine{576   \textcolor{keywordtype}{bool} Passed()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} !Failed(); \}}
\DoxyCodeLine{577 }
\DoxyCodeLine{578   \textcolor{comment}{// Returns true if and only if the unit test failed (i.e. some test suite}}
\DoxyCodeLine{579   \textcolor{comment}{// failed or something outside of all tests failed).}}
\DoxyCodeLine{580   \textcolor{keywordtype}{bool} Failed()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{581     \textcolor{keywordflow}{return} failed\_test\_suite\_count() > 0 || ad\_hoc\_test\_result()-\/>Failed();}
\DoxyCodeLine{582   \}}
\DoxyCodeLine{583 }
\DoxyCodeLine{584   \textcolor{comment}{// Gets the i-\/th test suite among all the test suites. i can range from 0 to}}
\DoxyCodeLine{585   \textcolor{comment}{// total\_test\_suite\_count() -\/ 1. If i is not in that range, returns NULL.}}
\DoxyCodeLine{586   \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1TestSuite}{TestSuite}}* GetTestSuite(\textcolor{keywordtype}{int} i)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{587     \textcolor{keyword}{const} \textcolor{keywordtype}{int} index = GetElementOr(test\_suite\_indices\_, i, -\/1);}
\DoxyCodeLine{588     \textcolor{keywordflow}{return} index < 0 ? nullptr : test\_suites\_[static\_cast<size\_t>(i)];}
\DoxyCodeLine{589   \}}
\DoxyCodeLine{590 }
\DoxyCodeLine{591   \textcolor{comment}{//  Legacy API is deprecated but still available}}
\DoxyCodeLine{592 \textcolor{preprocessor}{\#ifndef GTEST\_REMOVE\_LEGACY\_TEST\_CASEAPI\_}}
\DoxyCodeLine{593   \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1TestSuite}{TestCase}}* GetTestCase(\textcolor{keywordtype}{int} i)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} GetTestSuite(i); \}}
\DoxyCodeLine{594 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{//  GTEST\_REMOVE\_LEGACY\_TEST\_CASEAPI\_}}
\DoxyCodeLine{595 }
\DoxyCodeLine{596   \textcolor{comment}{// Gets the i-\/th test suite among all the test suites. i can range from 0 to}}
\DoxyCodeLine{597   \textcolor{comment}{// total\_test\_suite\_count() -\/ 1. If i is not in that range, returns NULL.}}
\DoxyCodeLine{598   \mbox{\hyperlink{classtesting_1_1TestSuite}{TestSuite}}* GetMutableSuiteCase(\textcolor{keywordtype}{int} i) \{}
\DoxyCodeLine{599     \textcolor{keyword}{const} \textcolor{keywordtype}{int} index = GetElementOr(test\_suite\_indices\_, i, -\/1);}
\DoxyCodeLine{600     \textcolor{keywordflow}{return} index < 0 ? nullptr : test\_suites\_[static\_cast<size\_t>(index)];}
\DoxyCodeLine{601   \}}
\DoxyCodeLine{602 }
\DoxyCodeLine{603   \textcolor{comment}{// Provides access to the event listener list.}}
\DoxyCodeLine{604   \mbox{\hyperlink{classtesting_1_1TestEventListeners}{TestEventListeners}}* listeners() \{ \textcolor{keywordflow}{return} \&listeners\_; \}}
\DoxyCodeLine{605 }
\DoxyCodeLine{606   \textcolor{comment}{// Returns the TestResult for the test that's currently running, or}}
\DoxyCodeLine{607   \textcolor{comment}{// the TestResult for the ad hoc test if no test is running.}}
\DoxyCodeLine{608   \mbox{\hyperlink{classtesting_1_1TestResult}{TestResult}}* current\_test\_result();}
\DoxyCodeLine{609 }
\DoxyCodeLine{610   \textcolor{comment}{// Returns the TestResult for the ad hoc test.}}
\DoxyCodeLine{611   \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1TestResult}{TestResult}}* ad\_hoc\_test\_result()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \&ad\_hoc\_test\_result\_; \}}
\DoxyCodeLine{612 }
\DoxyCodeLine{613   \textcolor{comment}{// Sets the OS stack trace getter.}}
\DoxyCodeLine{614   \textcolor{comment}{//}}
\DoxyCodeLine{615   \textcolor{comment}{// Does nothing if the input and the current OS stack trace getter}}
\DoxyCodeLine{616   \textcolor{comment}{// are the same; otherwise, deletes the old getter and makes the}}
\DoxyCodeLine{617   \textcolor{comment}{// input the current getter.}}
\DoxyCodeLine{618   \textcolor{keywordtype}{void} set\_os\_stack\_trace\_getter(\mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetterInterface}{OsStackTraceGetterInterface}}* getter);}
\DoxyCodeLine{619 }
\DoxyCodeLine{620   \textcolor{comment}{// Returns the current OS stack trace getter if it is not NULL;}}
\DoxyCodeLine{621   \textcolor{comment}{// otherwise, creates an OsStackTraceGetter, makes it the current}}
\DoxyCodeLine{622   \textcolor{comment}{// getter, and returns it.}}
\DoxyCodeLine{623   \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetterInterface}{OsStackTraceGetterInterface}}* os\_stack\_trace\_getter();}
\DoxyCodeLine{624 }
\DoxyCodeLine{625   \textcolor{comment}{// Returns the current OS stack trace as an std::string.}}
\DoxyCodeLine{626   \textcolor{comment}{//}}
\DoxyCodeLine{627   \textcolor{comment}{// The maximum number of stack frames to be included is specified by}}
\DoxyCodeLine{628   \textcolor{comment}{// the gtest\_stack\_trace\_depth flag.  The skip\_count parameter}}
\DoxyCodeLine{629   \textcolor{comment}{// specifies the number of top frames to be skipped, which doesn't}}
\DoxyCodeLine{630   \textcolor{comment}{// count against the number of frames to be included.}}
\DoxyCodeLine{631   \textcolor{comment}{//}}
\DoxyCodeLine{632   \textcolor{comment}{// For example, if Foo() calls Bar(), which in turn calls}}
\DoxyCodeLine{633   \textcolor{comment}{// CurrentOsStackTraceExceptTop(1), Foo() will be included in the}}
\DoxyCodeLine{634   \textcolor{comment}{// trace but Bar() and CurrentOsStackTraceExceptTop() won't.}}
\DoxyCodeLine{635   std::string CurrentOsStackTraceExceptTop(\textcolor{keywordtype}{int} skip\_count)}
\DoxyCodeLine{636       GTEST\_NO\_INLINE\_ GTEST\_NO\_TAIL\_CALL\_;}
\DoxyCodeLine{637 }
\DoxyCodeLine{638   \textcolor{comment}{// Finds and returns a TestSuite with the given name.  If one doesn't}}
\DoxyCodeLine{639   \textcolor{comment}{// exist, creates one and returns it.}}
\DoxyCodeLine{640   \textcolor{comment}{//}}
\DoxyCodeLine{641   \textcolor{comment}{// Arguments:}}
\DoxyCodeLine{642   \textcolor{comment}{//}}
\DoxyCodeLine{643   \textcolor{comment}{//   test\_suite\_name: name of the test suite}}
\DoxyCodeLine{644   \textcolor{comment}{//   type\_param:      the name of the test's type parameter, or NULL if}}
\DoxyCodeLine{645   \textcolor{comment}{//                    this is not a typed or a type-\/parameterized test.}}
\DoxyCodeLine{646   \textcolor{comment}{//   set\_up\_tc:       pointer to the function that sets up the test suite}}
\DoxyCodeLine{647   \textcolor{comment}{//   tear\_down\_tc:    pointer to the function that tears down the test suite}}
\DoxyCodeLine{648   \mbox{\hyperlink{classtesting_1_1TestSuite}{TestSuite}}* GetTestSuite(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* test\_suite\_name, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* type\_param,}
\DoxyCodeLine{649                           internal::SetUpTestSuiteFunc set\_up\_tc,}
\DoxyCodeLine{650                           internal::TearDownTestSuiteFunc tear\_down\_tc);}
\DoxyCodeLine{651 }
\DoxyCodeLine{652 \textcolor{comment}{//  Legacy API is deprecated but still available}}
\DoxyCodeLine{653 \textcolor{preprocessor}{\#ifndef GTEST\_REMOVE\_LEGACY\_TEST\_CASEAPI\_}}
\DoxyCodeLine{654   \mbox{\hyperlink{classtesting_1_1TestSuite}{TestCase}}* GetTestCase(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* test\_case\_name, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* type\_param,}
\DoxyCodeLine{655                         internal::SetUpTestSuiteFunc set\_up\_tc,}
\DoxyCodeLine{656                         internal::TearDownTestSuiteFunc tear\_down\_tc) \{}
\DoxyCodeLine{657     \textcolor{keywordflow}{return} GetTestSuite(test\_case\_name, type\_param, set\_up\_tc, tear\_down\_tc);}
\DoxyCodeLine{658   \}}
\DoxyCodeLine{659 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{//  GTEST\_REMOVE\_LEGACY\_TEST\_CASEAPI\_}}
\DoxyCodeLine{660 }
\DoxyCodeLine{661   \textcolor{comment}{// Adds a TestInfo to the unit test.}}
\DoxyCodeLine{662   \textcolor{comment}{//}}
\DoxyCodeLine{663   \textcolor{comment}{// Arguments:}}
\DoxyCodeLine{664   \textcolor{comment}{//}}
\DoxyCodeLine{665   \textcolor{comment}{//   set\_up\_tc:    pointer to the function that sets up the test suite}}
\DoxyCodeLine{666   \textcolor{comment}{//   tear\_down\_tc: pointer to the function that tears down the test suite}}
\DoxyCodeLine{667   \textcolor{comment}{//   test\_info:    the TestInfo object}}
\DoxyCodeLine{668   \textcolor{keywordtype}{void} AddTestInfo(internal::SetUpTestSuiteFunc set\_up\_tc,}
\DoxyCodeLine{669                    internal::TearDownTestSuiteFunc tear\_down\_tc,}
\DoxyCodeLine{670                    \mbox{\hyperlink{classtesting_1_1TestInfo}{TestInfo}}* test\_info) \{}
\DoxyCodeLine{671 \textcolor{preprocessor}{\#if GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{672     \textcolor{comment}{// In order to support thread-\/safe death tests, we need to}}
\DoxyCodeLine{673     \textcolor{comment}{// remember the original working directory when the test program}}
\DoxyCodeLine{674     \textcolor{comment}{// was first invoked.  We cannot do this in RUN\_ALL\_TESTS(), as}}
\DoxyCodeLine{675     \textcolor{comment}{// the user may have changed the current directory before calling}}
\DoxyCodeLine{676     \textcolor{comment}{// RUN\_ALL\_TESTS().  Therefore we capture the current directory in}}
\DoxyCodeLine{677     \textcolor{comment}{// AddTestInfo(), which is called to register a TEST or TEST\_F}}
\DoxyCodeLine{678     \textcolor{comment}{// before main() is reached.}}
\DoxyCodeLine{679     \textcolor{keywordflow}{if} (original\_working\_dir\_.IsEmpty()) \{}
\DoxyCodeLine{680       original\_working\_dir\_.Set(FilePath::GetCurrentDir());}
\DoxyCodeLine{681       GTEST\_CHECK\_(!original\_working\_dir\_.IsEmpty())}
\DoxyCodeLine{682           << \textcolor{stringliteral}{"{}Failed to get the current working directory."{}};}
\DoxyCodeLine{683     \}}
\DoxyCodeLine{684 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{685 }
\DoxyCodeLine{686     GetTestSuite(test\_info-\/>test\_suite\_name(), test\_info-\/>type\_param(),}
\DoxyCodeLine{687                  set\_up\_tc, tear\_down\_tc)}
\DoxyCodeLine{688         -\/>AddTestInfo(test\_info);}
\DoxyCodeLine{689   \}}
\DoxyCodeLine{690 }
\DoxyCodeLine{691   \textcolor{comment}{// Returns ParameterizedTestSuiteRegistry object used to keep track of}}
\DoxyCodeLine{692   \textcolor{comment}{// value-\/parameterized tests and instantiate and register them.}}
\DoxyCodeLine{693   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteRegistry}{internal::ParameterizedTestSuiteRegistry}}\& parameterized\_test\_registry() \{}
\DoxyCodeLine{694     \textcolor{keywordflow}{return} parameterized\_test\_registry\_;}
\DoxyCodeLine{695   \}}
\DoxyCodeLine{696 }
\DoxyCodeLine{697   std::set<std::string>* ignored\_parameterized\_test\_suites() \{}
\DoxyCodeLine{698     \textcolor{keywordflow}{return} \&ignored\_parameterized\_test\_suites\_;}
\DoxyCodeLine{699   \}}
\DoxyCodeLine{700 }
\DoxyCodeLine{701   \textcolor{comment}{// Returns TypeParameterizedTestSuiteRegistry object used to keep track of}}
\DoxyCodeLine{702   \textcolor{comment}{// type-\/parameterized tests and instantiations of them.}}
\DoxyCodeLine{703   \mbox{\hyperlink{classtesting_1_1internal_1_1TypeParameterizedTestSuiteRegistry}{internal::TypeParameterizedTestSuiteRegistry}}\&}
\DoxyCodeLine{704   type\_parameterized\_test\_registry() \{}
\DoxyCodeLine{705     \textcolor{keywordflow}{return} type\_parameterized\_test\_registry\_;}
\DoxyCodeLine{706   \}}
\DoxyCodeLine{707 }
\DoxyCodeLine{708   \textcolor{comment}{// Sets the TestSuite object for the test that's currently running.}}
\DoxyCodeLine{709   \textcolor{keywordtype}{void} set\_current\_test\_suite(\mbox{\hyperlink{classtesting_1_1TestSuite}{TestSuite}}* a\_current\_test\_suite) \{}
\DoxyCodeLine{710     current\_test\_suite\_ = a\_current\_test\_suite;}
\DoxyCodeLine{711   \}}
\DoxyCodeLine{712 }
\DoxyCodeLine{713   \textcolor{comment}{// Sets the TestInfo object for the test that's currently running.  If}}
\DoxyCodeLine{714   \textcolor{comment}{// current\_test\_info is NULL, the assertion results will be stored in}}
\DoxyCodeLine{715   \textcolor{comment}{// ad\_hoc\_test\_result\_.}}
\DoxyCodeLine{716   \textcolor{keywordtype}{void} set\_current\_test\_info(\mbox{\hyperlink{classtesting_1_1TestInfo}{TestInfo}}* a\_current\_test\_info) \{}
\DoxyCodeLine{717     current\_test\_info\_ = a\_current\_test\_info;}
\DoxyCodeLine{718   \}}
\DoxyCodeLine{719 }
\DoxyCodeLine{720   \textcolor{comment}{// Registers all parameterized tests defined using TEST\_P and}}
\DoxyCodeLine{721   \textcolor{comment}{// INSTANTIATE\_TEST\_SUITE\_P, creating regular tests for each test/parameter}}
\DoxyCodeLine{722   \textcolor{comment}{// combination. This method can be called more then once; it has guards}}
\DoxyCodeLine{723   \textcolor{comment}{// protecting from registering the tests more then once.  If}}
\DoxyCodeLine{724   \textcolor{comment}{// value-\/parameterized tests are disabled, RegisterParameterizedTests is}}
\DoxyCodeLine{725   \textcolor{comment}{// present but does nothing.}}
\DoxyCodeLine{726   \textcolor{keywordtype}{void} RegisterParameterizedTests();}
\DoxyCodeLine{727 }
\DoxyCodeLine{728   \textcolor{comment}{// Runs all tests in this UnitTest object, prints the result, and}}
\DoxyCodeLine{729   \textcolor{comment}{// returns true if all tests are successful.  If any exception is}}
\DoxyCodeLine{730   \textcolor{comment}{// thrown during a test, this test is considered to be failed, but}}
\DoxyCodeLine{731   \textcolor{comment}{// the rest of the tests will still be run.}}
\DoxyCodeLine{732   \textcolor{keywordtype}{bool} RunAllTests();}
\DoxyCodeLine{733 }
\DoxyCodeLine{734   \textcolor{comment}{// Clears the results of all tests, except the ad hoc tests.}}
\DoxyCodeLine{735   \textcolor{keywordtype}{void} ClearNonAdHocTestResult() \{}
\DoxyCodeLine{736     ForEach(test\_suites\_, TestSuite::ClearTestSuiteResult);}
\DoxyCodeLine{737   \}}
\DoxyCodeLine{738 }
\DoxyCodeLine{739   \textcolor{comment}{// Clears the results of ad-\/hoc test assertions.}}
\DoxyCodeLine{740   \textcolor{keywordtype}{void} ClearAdHocTestResult() \{ ad\_hoc\_test\_result\_.Clear(); \}}
\DoxyCodeLine{741 }
\DoxyCodeLine{742   \textcolor{comment}{// Adds a TestProperty to the current TestResult object when invoked in a}}
\DoxyCodeLine{743   \textcolor{comment}{// context of a test or a test suite, or to the global property set. If the}}
\DoxyCodeLine{744   \textcolor{comment}{// result already contains a property with the same key, the value will be}}
\DoxyCodeLine{745   \textcolor{comment}{// updated.}}
\DoxyCodeLine{746   \textcolor{keywordtype}{void} RecordProperty(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1TestProperty}{TestProperty}}\& test\_property);}
\DoxyCodeLine{747 }
\DoxyCodeLine{748   \textcolor{keyword}{enum} ReactionToSharding \{ HONOR\_SHARDING\_PROTOCOL, IGNORE\_SHARDING\_PROTOCOL \};}
\DoxyCodeLine{749 }
\DoxyCodeLine{750   \textcolor{comment}{// Matches the full name of each test against the user-\/specified}}
\DoxyCodeLine{751   \textcolor{comment}{// filter to decide whether the test should run, then records the}}
\DoxyCodeLine{752   \textcolor{comment}{// result in each TestSuite and TestInfo object.}}
\DoxyCodeLine{753   \textcolor{comment}{// If shard\_tests == HONOR\_SHARDING\_PROTOCOL, further filters tests}}
\DoxyCodeLine{754   \textcolor{comment}{// based on sharding variables in the environment.}}
\DoxyCodeLine{755   \textcolor{comment}{// Returns the number of tests that should run.}}
\DoxyCodeLine{756   \textcolor{keywordtype}{int} FilterTests(ReactionToSharding shard\_tests);}
\DoxyCodeLine{757 }
\DoxyCodeLine{758   \textcolor{comment}{// Prints the names of the tests matching the user-\/specified filter flag.}}
\DoxyCodeLine{759   \textcolor{keywordtype}{void} ListTestsMatchingFilter();}
\DoxyCodeLine{760 }
\DoxyCodeLine{761   \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1TestSuite}{TestSuite}}* current\_test\_suite()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} current\_test\_suite\_; \}}
\DoxyCodeLine{762   \mbox{\hyperlink{classtesting_1_1TestInfo}{TestInfo}}* current\_test\_info() \{ \textcolor{keywordflow}{return} current\_test\_info\_; \}}
\DoxyCodeLine{763   \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1TestInfo}{TestInfo}}* current\_test\_info()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} current\_test\_info\_; \}}
\DoxyCodeLine{764 }
\DoxyCodeLine{765   \textcolor{comment}{// Returns the vector of environments that need to be set-\/up/torn-\/down}}
\DoxyCodeLine{766   \textcolor{comment}{// before/after the tests are run.}}
\DoxyCodeLine{767   std::vector<Environment*>\& environments() \{ \textcolor{keywordflow}{return} environments\_; \}}
\DoxyCodeLine{768 }
\DoxyCodeLine{769   \textcolor{comment}{// Getters for the per-\/thread Google Test trace stack.}}
\DoxyCodeLine{770   std::vector<TraceInfo>\& gtest\_trace\_stack() \{}
\DoxyCodeLine{771     \textcolor{keywordflow}{return} *(gtest\_trace\_stack\_.pointer());}
\DoxyCodeLine{772   \}}
\DoxyCodeLine{773   \textcolor{keyword}{const} std::vector<TraceInfo>\& gtest\_trace\_stack()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{774     \textcolor{keywordflow}{return} gtest\_trace\_stack\_.get();}
\DoxyCodeLine{775   \}}
\DoxyCodeLine{776 }
\DoxyCodeLine{777 \textcolor{preprocessor}{\#if GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{778   \textcolor{keywordtype}{void} InitDeathTestSubprocessControlInfo() \{}
\DoxyCodeLine{779     internal\_run\_death\_test\_flag\_.reset(ParseInternalRunDeathTestFlag());}
\DoxyCodeLine{780   \}}
\DoxyCodeLine{781   \textcolor{comment}{// Returns a pointer to the parsed -\/-\/gtest\_internal\_run\_death\_test}}
\DoxyCodeLine{782   \textcolor{comment}{// flag, or NULL if that flag was not specified.}}
\DoxyCodeLine{783   \textcolor{comment}{// This information is useful only in a death test child process.}}
\DoxyCodeLine{784   \textcolor{comment}{// Must not be called before a call to InitGoogleTest.}}
\DoxyCodeLine{785   \textcolor{keyword}{const} InternalRunDeathTestFlag* internal\_run\_death\_test\_flag()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{786     \textcolor{keywordflow}{return} internal\_run\_death\_test\_flag\_.get();}
\DoxyCodeLine{787   \}}
\DoxyCodeLine{788 }
\DoxyCodeLine{789   \textcolor{comment}{// Returns a pointer to the current death test factory.}}
\DoxyCodeLine{790   internal::DeathTestFactory* death\_test\_factory() \{}
\DoxyCodeLine{791     \textcolor{keywordflow}{return} death\_test\_factory\_.get();}
\DoxyCodeLine{792   \}}
\DoxyCodeLine{793 }
\DoxyCodeLine{794   \textcolor{keywordtype}{void} SuppressTestEventsIfInSubprocess();}
\DoxyCodeLine{795 }
\DoxyCodeLine{796   \textcolor{keyword}{friend} \textcolor{keyword}{class }ReplaceDeathTestFactory;}
\DoxyCodeLine{797 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{798 }
\DoxyCodeLine{799   \textcolor{comment}{// Initializes the event listener performing XML output as specified by}}
\DoxyCodeLine{800   \textcolor{comment}{// UnitTestOptions. Must not be called before InitGoogleTest.}}
\DoxyCodeLine{801   \textcolor{keywordtype}{void} ConfigureXmlOutput();}
\DoxyCodeLine{802 }
\DoxyCodeLine{803 \textcolor{preprocessor}{\#if GTEST\_CAN\_STREAM\_RESULTS\_}}
\DoxyCodeLine{804   \textcolor{comment}{// Initializes the event listener for streaming test results to a socket.}}
\DoxyCodeLine{805   \textcolor{comment}{// Must not be called before InitGoogleTest.}}
\DoxyCodeLine{806   \textcolor{keywordtype}{void} ConfigureStreamingOutput();}
\DoxyCodeLine{807 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{808 }
\DoxyCodeLine{809   \textcolor{comment}{// Performs initialization dependent upon flag values obtained in}}
\DoxyCodeLine{810   \textcolor{comment}{// ParseGoogleTestFlagsOnly.  Is called from InitGoogleTest after the call to}}
\DoxyCodeLine{811   \textcolor{comment}{// ParseGoogleTestFlagsOnly.  In case a user neglects to call InitGoogleTest}}
\DoxyCodeLine{812   \textcolor{comment}{// this function is also called from RunAllTests.  Since this function can be}}
\DoxyCodeLine{813   \textcolor{comment}{// called more than once, it has to be idempotent.}}
\DoxyCodeLine{814   \textcolor{keywordtype}{void} PostFlagParsingInit();}
\DoxyCodeLine{815 }
\DoxyCodeLine{816   \textcolor{comment}{// Gets the random seed used at the start of the current test iteration.}}
\DoxyCodeLine{817   \textcolor{keywordtype}{int} random\_seed()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} random\_seed\_; \}}
\DoxyCodeLine{818 }
\DoxyCodeLine{819   \textcolor{comment}{// Gets the random number generator.}}
\DoxyCodeLine{820   \mbox{\hyperlink{classtesting_1_1internal_1_1Random}{internal::Random}}* random() \{ \textcolor{keywordflow}{return} \&random\_; \}}
\DoxyCodeLine{821 }
\DoxyCodeLine{822   \textcolor{comment}{// Shuffles all test suites, and the tests within each test suite,}}
\DoxyCodeLine{823   \textcolor{comment}{// making sure that death tests are still run first.}}
\DoxyCodeLine{824   \textcolor{keywordtype}{void} ShuffleTests();}
\DoxyCodeLine{825 }
\DoxyCodeLine{826   \textcolor{comment}{// Restores the test suites and tests to their order before the first shuffle.}}
\DoxyCodeLine{827   \textcolor{keywordtype}{void} UnshuffleTests();}
\DoxyCodeLine{828 }
\DoxyCodeLine{829   \textcolor{comment}{// Returns the value of GTEST\_FLAG(catch\_exceptions) at the moment}}
\DoxyCodeLine{830   \textcolor{comment}{// UnitTest::Run() starts.}}
\DoxyCodeLine{831   \textcolor{keywordtype}{bool} catch\_exceptions()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} catch\_exceptions\_; \}}
\DoxyCodeLine{832 }
\DoxyCodeLine{833  \textcolor{keyword}{private}:}
\DoxyCodeLine{834   \textcolor{keyword}{friend} class ::testing::UnitTest;}
\DoxyCodeLine{835 }
\DoxyCodeLine{836   \textcolor{comment}{// Used by UnitTest::Run() to capture the state of}}
\DoxyCodeLine{837   \textcolor{comment}{// GTEST\_FLAG(catch\_exceptions) at the moment it starts.}}
\DoxyCodeLine{838   \textcolor{keywordtype}{void} set\_catch\_exceptions(\textcolor{keywordtype}{bool} value) \{ catch\_exceptions\_ = value; \}}
\DoxyCodeLine{839 }
\DoxyCodeLine{840   \textcolor{comment}{// The UnitTest object that owns this implementation object.}}
\DoxyCodeLine{841   \mbox{\hyperlink{classtesting_1_1UnitTest}{UnitTest}}* \textcolor{keyword}{const} parent\_;}
\DoxyCodeLine{842 }
\DoxyCodeLine{843   \textcolor{comment}{// The working directory when the first TEST() or TEST\_F() was}}
\DoxyCodeLine{844   \textcolor{comment}{// executed.}}
\DoxyCodeLine{845   internal::FilePath original\_working\_dir\_;}
\DoxyCodeLine{846 }
\DoxyCodeLine{847   \textcolor{comment}{// The default test part result reporters.}}
\DoxyCodeLine{848   \mbox{\hyperlink{classtesting_1_1internal_1_1DefaultGlobalTestPartResultReporter}{DefaultGlobalTestPartResultReporter}} default\_global\_test\_part\_result\_reporter\_;}
\DoxyCodeLine{849   \mbox{\hyperlink{classtesting_1_1internal_1_1DefaultPerThreadTestPartResultReporter}{DefaultPerThreadTestPartResultReporter}}}
\DoxyCodeLine{850       default\_per\_thread\_test\_part\_result\_reporter\_;}
\DoxyCodeLine{851 }
\DoxyCodeLine{852   \textcolor{comment}{// Points to (but doesn't own) the global test part result reporter.}}
\DoxyCodeLine{853   TestPartResultReporterInterface* global\_test\_part\_result\_repoter\_;}
\DoxyCodeLine{854 }
\DoxyCodeLine{855   \textcolor{comment}{// Protects read and write access to global\_test\_part\_result\_reporter\_.}}
\DoxyCodeLine{856   \mbox{\hyperlink{classtesting_1_1internal_1_1Mutex}{internal::Mutex}} global\_test\_part\_result\_reporter\_mutex\_;}
\DoxyCodeLine{857 }
\DoxyCodeLine{858   \textcolor{comment}{// Points to (but doesn't own) the per-\/thread test part result reporter.}}
\DoxyCodeLine{859   \mbox{\hyperlink{classtesting_1_1internal_1_1ThreadLocal}{internal::ThreadLocal<TestPartResultReporterInterface*>}}}
\DoxyCodeLine{860       per\_thread\_test\_part\_result\_reporter\_;}
\DoxyCodeLine{861 }
\DoxyCodeLine{862   \textcolor{comment}{// The vector of environments that need to be set-\/up/torn-\/down}}
\DoxyCodeLine{863   \textcolor{comment}{// before/after the tests are run.}}
\DoxyCodeLine{864   std::vector<Environment*> environments\_;}
\DoxyCodeLine{865 }
\DoxyCodeLine{866   \textcolor{comment}{// The vector of TestSuites in their original order.  It owns the}}
\DoxyCodeLine{867   \textcolor{comment}{// elements in the vector.}}
\DoxyCodeLine{868   std::vector<TestSuite*> test\_suites\_;}
\DoxyCodeLine{869 }
\DoxyCodeLine{870   \textcolor{comment}{// Provides a level of indirection for the test suite list to allow}}
\DoxyCodeLine{871   \textcolor{comment}{// easy shuffling and restoring the test suite order.  The i-\/th}}
\DoxyCodeLine{872   \textcolor{comment}{// element of this vector is the index of the i-\/th test suite in the}}
\DoxyCodeLine{873   \textcolor{comment}{// shuffled order.}}
\DoxyCodeLine{874   std::vector<int> test\_suite\_indices\_;}
\DoxyCodeLine{875 }
\DoxyCodeLine{876   \textcolor{comment}{// ParameterizedTestRegistry object used to register value-\/parameterized}}
\DoxyCodeLine{877   \textcolor{comment}{// tests.}}
\DoxyCodeLine{878   \mbox{\hyperlink{classtesting_1_1internal_1_1ParameterizedTestSuiteRegistry}{internal::ParameterizedTestSuiteRegistry}} parameterized\_test\_registry\_;}
\DoxyCodeLine{879   \mbox{\hyperlink{classtesting_1_1internal_1_1TypeParameterizedTestSuiteRegistry}{internal::TypeParameterizedTestSuiteRegistry}}}
\DoxyCodeLine{880       type\_parameterized\_test\_registry\_;}
\DoxyCodeLine{881 }
\DoxyCodeLine{882   \textcolor{comment}{// The set holding the name of parameterized}}
\DoxyCodeLine{883   \textcolor{comment}{// test suites that may go uninstantiated.}}
\DoxyCodeLine{884   std::set<std::string> ignored\_parameterized\_test\_suites\_;}
\DoxyCodeLine{885 }
\DoxyCodeLine{886   \textcolor{comment}{// Indicates whether RegisterParameterizedTests() has been called already.}}
\DoxyCodeLine{887   \textcolor{keywordtype}{bool} parameterized\_tests\_registered\_;}
\DoxyCodeLine{888 }
\DoxyCodeLine{889   \textcolor{comment}{// Index of the last death test suite registered.  Initially -\/1.}}
\DoxyCodeLine{890   \textcolor{keywordtype}{int} last\_death\_test\_suite\_;}
\DoxyCodeLine{891 }
\DoxyCodeLine{892   \textcolor{comment}{// This points to the TestSuite for the currently running test.  It}}
\DoxyCodeLine{893   \textcolor{comment}{// changes as Google Test goes through one test suite after another.}}
\DoxyCodeLine{894   \textcolor{comment}{// When no test is running, this is set to NULL and Google Test}}
\DoxyCodeLine{895   \textcolor{comment}{// stores assertion results in ad\_hoc\_test\_result\_.  Initially NULL.}}
\DoxyCodeLine{896   \mbox{\hyperlink{classtesting_1_1TestSuite}{TestSuite}}* current\_test\_suite\_;}
\DoxyCodeLine{897 }
\DoxyCodeLine{898   \textcolor{comment}{// This points to the TestInfo for the currently running test.  It}}
\DoxyCodeLine{899   \textcolor{comment}{// changes as Google Test goes through one test after another.  When}}
\DoxyCodeLine{900   \textcolor{comment}{// no test is running, this is set to NULL and Google Test stores}}
\DoxyCodeLine{901   \textcolor{comment}{// assertion results in ad\_hoc\_test\_result\_.  Initially NULL.}}
\DoxyCodeLine{902   \mbox{\hyperlink{classtesting_1_1TestInfo}{TestInfo}}* current\_test\_info\_;}
\DoxyCodeLine{903 }
\DoxyCodeLine{904   \textcolor{comment}{// Normally, a user only writes assertions inside a TEST or TEST\_F,}}
\DoxyCodeLine{905   \textcolor{comment}{// or inside a function called by a TEST or TEST\_F.  Since Google}}
\DoxyCodeLine{906   \textcolor{comment}{// Test keeps track of which test is current running, it can}}
\DoxyCodeLine{907   \textcolor{comment}{// associate such an assertion with the test it belongs to.}}
\DoxyCodeLine{908   \textcolor{comment}{//}}
\DoxyCodeLine{909   \textcolor{comment}{// If an assertion is encountered when no TEST or TEST\_F is running,}}
\DoxyCodeLine{910   \textcolor{comment}{// Google Test attributes the assertion result to an imaginary "{}ad hoc"{}}}
\DoxyCodeLine{911   \textcolor{comment}{// test, and records the result in ad\_hoc\_test\_result\_.}}
\DoxyCodeLine{912   \mbox{\hyperlink{classtesting_1_1TestResult}{TestResult}} ad\_hoc\_test\_result\_;}
\DoxyCodeLine{913 }
\DoxyCodeLine{914   \textcolor{comment}{// The list of event listeners that can be used to track events inside}}
\DoxyCodeLine{915   \textcolor{comment}{// Google Test.}}
\DoxyCodeLine{916   \mbox{\hyperlink{classtesting_1_1TestEventListeners}{TestEventListeners}} listeners\_;}
\DoxyCodeLine{917 }
\DoxyCodeLine{918   \textcolor{comment}{// The OS stack trace getter.  Will be deleted when the UnitTest}}
\DoxyCodeLine{919   \textcolor{comment}{// object is destructed.  By default, an OsStackTraceGetter is used,}}
\DoxyCodeLine{920   \textcolor{comment}{// but the user can set this field to use a custom getter if that is}}
\DoxyCodeLine{921   \textcolor{comment}{// desired.}}
\DoxyCodeLine{922   \mbox{\hyperlink{classtesting_1_1internal_1_1OsStackTraceGetterInterface}{OsStackTraceGetterInterface}}* os\_stack\_trace\_getter\_;}
\DoxyCodeLine{923 }
\DoxyCodeLine{924   \textcolor{comment}{// True if and only if PostFlagParsingInit() has been called.}}
\DoxyCodeLine{925   \textcolor{keywordtype}{bool} post\_flag\_parse\_init\_performed\_;}
\DoxyCodeLine{926 }
\DoxyCodeLine{927   \textcolor{comment}{// The random number seed used at the beginning of the test run.}}
\DoxyCodeLine{928   \textcolor{keywordtype}{int} random\_seed\_;}
\DoxyCodeLine{929 }
\DoxyCodeLine{930   \textcolor{comment}{// Our random number generator.}}
\DoxyCodeLine{931   \mbox{\hyperlink{classtesting_1_1internal_1_1Random}{internal::Random}} random\_;}
\DoxyCodeLine{932 }
\DoxyCodeLine{933   \textcolor{comment}{// The time of the test program start, in ms from the start of the}}
\DoxyCodeLine{934   \textcolor{comment}{// UNIX epoch.}}
\DoxyCodeLine{935   TimeInMillis start\_timestamp\_;}
\DoxyCodeLine{936 }
\DoxyCodeLine{937   \textcolor{comment}{// How long the test took to run, in milliseconds.}}
\DoxyCodeLine{938   TimeInMillis elapsed\_time\_;}
\DoxyCodeLine{939 }
\DoxyCodeLine{940 \textcolor{preprocessor}{\#if GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{941   \textcolor{comment}{// The decomposed components of the gtest\_internal\_run\_death\_test flag,}}
\DoxyCodeLine{942   \textcolor{comment}{// parsed when RUN\_ALL\_TESTS is called.}}
\DoxyCodeLine{943   std::unique\_ptr<InternalRunDeathTestFlag> internal\_run\_death\_test\_flag\_;}
\DoxyCodeLine{944   std::unique\_ptr<internal::DeathTestFactory> death\_test\_factory\_;}
\DoxyCodeLine{945 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{946 }
\DoxyCodeLine{947   \textcolor{comment}{// A per-\/thread stack of traces created by the SCOPED\_TRACE() macro.}}
\DoxyCodeLine{948   \mbox{\hyperlink{classtesting_1_1internal_1_1ThreadLocal}{internal::ThreadLocal<std::vector<TraceInfo>}} > gtest\_trace\_stack\_;}
\DoxyCodeLine{949 }
\DoxyCodeLine{950   \textcolor{comment}{// The value of GTEST\_FLAG(catch\_exceptions) at the moment RunAllTests()}}
\DoxyCodeLine{951   \textcolor{comment}{// starts.}}
\DoxyCodeLine{952   \textcolor{keywordtype}{bool} catch\_exceptions\_;}
\DoxyCodeLine{953 }
\DoxyCodeLine{954   \mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestImpl}{UnitTestImpl}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestImpl}{UnitTestImpl}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{955   \mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestImpl}{UnitTestImpl}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestImpl}{UnitTestImpl}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{956 \};  \textcolor{comment}{// class UnitTestImpl}}
\DoxyCodeLine{957 }
\DoxyCodeLine{958 \textcolor{comment}{// Convenience function for accessing the global UnitTest}}
\DoxyCodeLine{959 \textcolor{comment}{// implementation object.}}
\DoxyCodeLine{960 \textcolor{keyword}{inline} \mbox{\hyperlink{classtesting_1_1internal_1_1UnitTestImpl}{UnitTestImpl}}* GetUnitTestImpl() \{}
\DoxyCodeLine{961   \textcolor{keywordflow}{return} UnitTest::GetInstance()-\/>impl();}
\DoxyCodeLine{962 \}}
\DoxyCodeLine{963 }
\DoxyCodeLine{964 \textcolor{preprocessor}{\#if GTEST\_USES\_SIMPLE\_RE}}
\DoxyCodeLine{965 }
\DoxyCodeLine{966 \textcolor{comment}{// Internal helper functions for implementing the simple regular}}
\DoxyCodeLine{967 \textcolor{comment}{// expression matcher.}}
\DoxyCodeLine{968 GTEST\_API\_ \textcolor{keywordtype}{bool} IsInSet(\textcolor{keywordtype}{char} ch, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* str);}
\DoxyCodeLine{969 GTEST\_API\_ \textcolor{keywordtype}{bool} IsAsciiDigit(\textcolor{keywordtype}{char} ch);}
\DoxyCodeLine{970 GTEST\_API\_ \textcolor{keywordtype}{bool} IsAsciiPunct(\textcolor{keywordtype}{char} ch);}
\DoxyCodeLine{971 GTEST\_API\_ \textcolor{keywordtype}{bool} IsRepeat(\textcolor{keywordtype}{char} ch);}
\DoxyCodeLine{972 GTEST\_API\_ \textcolor{keywordtype}{bool} IsAsciiWhiteSpace(\textcolor{keywordtype}{char} ch);}
\DoxyCodeLine{973 GTEST\_API\_ \textcolor{keywordtype}{bool} IsAsciiWordChar(\textcolor{keywordtype}{char} ch);}
\DoxyCodeLine{974 GTEST\_API\_ \textcolor{keywordtype}{bool} IsValidEscape(\textcolor{keywordtype}{char} ch);}
\DoxyCodeLine{975 GTEST\_API\_ \textcolor{keywordtype}{bool} AtomMatchesChar(\textcolor{keywordtype}{bool} escaped, \textcolor{keywordtype}{char} pattern, \textcolor{keywordtype}{char} ch);}
\DoxyCodeLine{976 GTEST\_API\_ \textcolor{keywordtype}{bool} ValidateRegex(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* regex);}
\DoxyCodeLine{977 GTEST\_API\_ \textcolor{keywordtype}{bool} MatchRegexAtHead(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* regex, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* str);}
\DoxyCodeLine{978 GTEST\_API\_ \textcolor{keywordtype}{bool} MatchRepetitionAndRegexAtHead(\textcolor{keywordtype}{bool} escaped, \textcolor{keywordtype}{char} ch,}
\DoxyCodeLine{979                                               \textcolor{keywordtype}{char} repeat, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* regex,}
\DoxyCodeLine{980                                               \textcolor{keyword}{const} \textcolor{keywordtype}{char}* str);}
\DoxyCodeLine{981 GTEST\_API\_ \textcolor{keywordtype}{bool} MatchRegexAnywhere(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* regex, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* str);}
\DoxyCodeLine{982 }
\DoxyCodeLine{983 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_USES\_SIMPLE\_RE}}
\DoxyCodeLine{984 }
\DoxyCodeLine{985 \textcolor{comment}{// Parses the command line for Google Test flags, without initializing}}
\DoxyCodeLine{986 \textcolor{comment}{// other parts of Google Test.}}
\DoxyCodeLine{987 GTEST\_API\_ \textcolor{keywordtype}{void} ParseGoogleTestFlagsOnly(\textcolor{keywordtype}{int}* argc, \textcolor{keywordtype}{char}** argv);}
\DoxyCodeLine{988 GTEST\_API\_ \textcolor{keywordtype}{void} ParseGoogleTestFlagsOnly(\textcolor{keywordtype}{int}* argc, \textcolor{keywordtype}{wchar\_t}** argv);}
\DoxyCodeLine{989 }
\DoxyCodeLine{990 \textcolor{preprocessor}{\#if GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{991 }
\DoxyCodeLine{992 \textcolor{comment}{// Returns the message describing the last system error, regardless of the}}
\DoxyCodeLine{993 \textcolor{comment}{// platform.}}
\DoxyCodeLine{994 GTEST\_API\_ std::string GetLastErrnoDescription();}
\DoxyCodeLine{995 }
\DoxyCodeLine{996 \textcolor{comment}{// Attempts to parse a string into a positive integer pointed to by the}}
\DoxyCodeLine{997 \textcolor{comment}{// number parameter.  Returns true if that is possible.}}
\DoxyCodeLine{998 \textcolor{comment}{// GTEST\_HAS\_DEATH\_TEST implies that we have ::std::string, so we can use}}
\DoxyCodeLine{999 \textcolor{comment}{// it here.}}
\DoxyCodeLine{1000 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Integer>}
\DoxyCodeLine{1001 \textcolor{keywordtype}{bool} ParseNaturalNumber(const ::std::string\& str, Integer* number) \{}
\DoxyCodeLine{1002   \textcolor{comment}{// Fail fast if the given string does not begin with a digit;}}
\DoxyCodeLine{1003   \textcolor{comment}{// this bypasses strtoXXX's "{}optional leading whitespace and plus}}
\DoxyCodeLine{1004   \textcolor{comment}{// or minus sign"{} semantics, which are undesirable here.}}
\DoxyCodeLine{1005   \textcolor{keywordflow}{if} (str.empty() || !IsDigit(str[0])) \{}
\DoxyCodeLine{1006     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1007   \}}
\DoxyCodeLine{1008   errno = 0;}
\DoxyCodeLine{1009 }
\DoxyCodeLine{1010   \textcolor{keywordtype}{char}* end;}
\DoxyCodeLine{1011   \textcolor{comment}{// BiggestConvertible is the largest integer type that system-\/provided}}
\DoxyCodeLine{1012   \textcolor{comment}{// string-\/to-\/number conversion routines can return.}}
\DoxyCodeLine{1013   \textcolor{keyword}{using }BiggestConvertible = \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} long;  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1014 }
\DoxyCodeLine{1015   \textcolor{keyword}{const} BiggestConvertible parsed = strtoull(str.c\_str(), \&end, 10);  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1016   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} parse\_success = *end == \textcolor{charliteral}{'\(\backslash\)0'} \&\& errno == 0;}
\DoxyCodeLine{1017 }
\DoxyCodeLine{1018   GTEST\_CHECK\_(\textcolor{keyword}{sizeof}(Integer) <= \textcolor{keyword}{sizeof}(parsed));}
\DoxyCodeLine{1019 }
\DoxyCodeLine{1020   \textcolor{keyword}{const} Integer result = \textcolor{keyword}{static\_cast<}Integer\textcolor{keyword}{>}(parsed);}
\DoxyCodeLine{1021   \textcolor{keywordflow}{if} (parse\_success \&\& \textcolor{keyword}{static\_cast<}BiggestConvertible\textcolor{keyword}{>}(result) == parsed) \{}
\DoxyCodeLine{1022     *number = result;}
\DoxyCodeLine{1023     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1024   \}}
\DoxyCodeLine{1025   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1026 \}}
\DoxyCodeLine{1027 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{1028 }
\DoxyCodeLine{1029 \textcolor{comment}{// TestResult contains some private methods that should be hidden from}}
\DoxyCodeLine{1030 \textcolor{comment}{// Google Test user but are required for testing. This class allow our tests}}
\DoxyCodeLine{1031 \textcolor{comment}{// to access them.}}
\DoxyCodeLine{1032 \textcolor{comment}{//}}
\DoxyCodeLine{1033 \textcolor{comment}{// This class is supplied only for the purpose of testing Google Test's own}}
\DoxyCodeLine{1034 \textcolor{comment}{// constructs. Do not use it in user tests, either directly or indirectly.}}
\DoxyCodeLine{1035 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1TestResultAccessor}{TestResultAccessor}} \{}
\DoxyCodeLine{1036  \textcolor{keyword}{public}:}
\DoxyCodeLine{1037   \textcolor{keyword}{static} \textcolor{keywordtype}{void} RecordProperty(\mbox{\hyperlink{classtesting_1_1TestResult}{TestResult}}* test\_result,}
\DoxyCodeLine{1038                              \textcolor{keyword}{const} std::string\& xml\_element,}
\DoxyCodeLine{1039                              \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1TestProperty}{TestProperty}}\& property) \{}
\DoxyCodeLine{1040     test\_result-\/>RecordProperty(xml\_element, property);}
\DoxyCodeLine{1041   \}}
\DoxyCodeLine{1042 }
\DoxyCodeLine{1043   \textcolor{keyword}{static} \textcolor{keywordtype}{void} ClearTestPartResults(\mbox{\hyperlink{classtesting_1_1TestResult}{TestResult}}* test\_result) \{}
\DoxyCodeLine{1044     test\_result-\/>ClearTestPartResults();}
\DoxyCodeLine{1045   \}}
\DoxyCodeLine{1046 }
\DoxyCodeLine{1047   \textcolor{keyword}{static} \textcolor{keyword}{const} std::vector<testing::TestPartResult>\& test\_part\_results(}
\DoxyCodeLine{1048       \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1TestResult}{TestResult}}\& test\_result) \{}
\DoxyCodeLine{1049     \textcolor{keywordflow}{return} test\_result.test\_part\_results();}
\DoxyCodeLine{1050   \}}
\DoxyCodeLine{1051 \};}
\DoxyCodeLine{1052 }
\DoxyCodeLine{1053 \textcolor{preprocessor}{\#if GTEST\_CAN\_STREAM\_RESULTS\_}}
\DoxyCodeLine{1054 }
\DoxyCodeLine{1055 \textcolor{comment}{// Streams test results to the given port on the given host machine.}}
\DoxyCodeLine{1056 \textcolor{keyword}{class }StreamingListener : \textcolor{keyword}{public} \mbox{\hyperlink{classtesting_1_1EmptyTestEventListener}{EmptyTestEventListener}} \{}
\DoxyCodeLine{1057  \textcolor{keyword}{public}:}
\DoxyCodeLine{1058   \textcolor{comment}{// Abstract base class for writing strings to a socket.}}
\DoxyCodeLine{1059   \textcolor{keyword}{class }AbstractSocketWriter \{}
\DoxyCodeLine{1060    \textcolor{keyword}{public}:}
\DoxyCodeLine{1061     \textcolor{keyword}{virtual} \string~AbstractSocketWriter() \{\}}
\DoxyCodeLine{1062 }
\DoxyCodeLine{1063     \textcolor{comment}{// Sends a string to the socket.}}
\DoxyCodeLine{1064     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Send(\textcolor{keyword}{const} std::string\& message) = 0;}
\DoxyCodeLine{1065 }
\DoxyCodeLine{1066     \textcolor{comment}{// Closes the socket.}}
\DoxyCodeLine{1067     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} CloseConnection() \{\}}
\DoxyCodeLine{1068 }
\DoxyCodeLine{1069     \textcolor{comment}{// Sends a string and a newline to the socket.}}
\DoxyCodeLine{1070     \textcolor{keywordtype}{void} SendLn(\textcolor{keyword}{const} std::string\& message) \{ Send(message + \textcolor{stringliteral}{"{}\(\backslash\)n"{}}); \}}
\DoxyCodeLine{1071   \};}
\DoxyCodeLine{1072 }
\DoxyCodeLine{1073   \textcolor{comment}{// Concrete class for actually writing strings to a socket.}}
\DoxyCodeLine{1074   \textcolor{keyword}{class }SocketWriter : \textcolor{keyword}{public} AbstractSocketWriter \{}
\DoxyCodeLine{1075    \textcolor{keyword}{public}:}
\DoxyCodeLine{1076     SocketWriter(\textcolor{keyword}{const} std::string\& host, \textcolor{keyword}{const} std::string\& port)}
\DoxyCodeLine{1077         : sockfd\_(-\/1), host\_name\_(host), port\_num\_(port) \{}
\DoxyCodeLine{1078       MakeConnection();}
\DoxyCodeLine{1079     \}}
\DoxyCodeLine{1080 }
\DoxyCodeLine{1081     \string~SocketWriter()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1082       \textcolor{keywordflow}{if} (sockfd\_ != -\/1) CloseConnection();}
\DoxyCodeLine{1083     \}}
\DoxyCodeLine{1084 }
\DoxyCodeLine{1085     \textcolor{comment}{// Sends a string to the socket.}}
\DoxyCodeLine{1086     \textcolor{keywordtype}{void} Send(\textcolor{keyword}{const} std::string\& message)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1087       GTEST\_CHECK\_(sockfd\_ != -\/1)}
\DoxyCodeLine{1088           << \textcolor{stringliteral}{"{}Send() can be called only when there is a connection."{}};}
\DoxyCodeLine{1089 }
\DoxyCodeLine{1090       \textcolor{keyword}{const} \textcolor{keyword}{auto} len = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(message.length());}
\DoxyCodeLine{1091       \textcolor{keywordflow}{if} (write(sockfd\_, message.c\_str(), len) != \textcolor{keyword}{static\_cast<}ssize\_t\textcolor{keyword}{>}(len)) \{}
\DoxyCodeLine{1092         GTEST\_LOG\_(WARNING) << \textcolor{stringliteral}{"{}stream\_result\_to: failed to stream to "{}}}
\DoxyCodeLine{1093                             << host\_name\_ << \textcolor{stringliteral}{"{}:"{}} << port\_num\_;}
\DoxyCodeLine{1094       \}}
\DoxyCodeLine{1095     \}}
\DoxyCodeLine{1096 }
\DoxyCodeLine{1097    \textcolor{keyword}{private}:}
\DoxyCodeLine{1098     \textcolor{comment}{// Creates a client socket and connects to the server.}}
\DoxyCodeLine{1099     \textcolor{keywordtype}{void} MakeConnection();}
\DoxyCodeLine{1100 }
\DoxyCodeLine{1101     \textcolor{comment}{// Closes the socket.}}
\DoxyCodeLine{1102     \textcolor{keywordtype}{void} CloseConnection()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1103       GTEST\_CHECK\_(sockfd\_ != -\/1)}
\DoxyCodeLine{1104           << \textcolor{stringliteral}{"{}CloseConnection() can be called only when there is a connection."{}};}
\DoxyCodeLine{1105 }
\DoxyCodeLine{1106       close(sockfd\_);}
\DoxyCodeLine{1107       sockfd\_ = -\/1;}
\DoxyCodeLine{1108     \}}
\DoxyCodeLine{1109 }
\DoxyCodeLine{1110     \textcolor{keywordtype}{int} sockfd\_;  \textcolor{comment}{// socket file descriptor}}
\DoxyCodeLine{1111     \textcolor{keyword}{const} std::string host\_name\_;}
\DoxyCodeLine{1112     \textcolor{keyword}{const} std::string port\_num\_;}
\DoxyCodeLine{1113 }
\DoxyCodeLine{1114     SocketWriter(\textcolor{keyword}{const} SocketWriter\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1115     SocketWriter\& operator=(\textcolor{keyword}{const} SocketWriter\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1116   \};  \textcolor{comment}{// class SocketWriter}}
\DoxyCodeLine{1117 }
\DoxyCodeLine{1118   \textcolor{comment}{// Escapes '=', '\&', '\%', and '\(\backslash\)n' characters in str as "{}\%xx"{}.}}
\DoxyCodeLine{1119   \textcolor{keyword}{static} std::string UrlEncode(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* str);}
\DoxyCodeLine{1120 }
\DoxyCodeLine{1121   StreamingListener(\textcolor{keyword}{const} std::string\& host, \textcolor{keyword}{const} std::string\& port)}
\DoxyCodeLine{1122       : socket\_writer\_(new SocketWriter(host, port)) \{}
\DoxyCodeLine{1123     Start();}
\DoxyCodeLine{1124   \}}
\DoxyCodeLine{1125 }
\DoxyCodeLine{1126   \textcolor{keyword}{explicit} StreamingListener(AbstractSocketWriter* socket\_writer)}
\DoxyCodeLine{1127       : socket\_writer\_(socket\_writer) \{}
\DoxyCodeLine{1128     Start();}
\DoxyCodeLine{1129   \}}
\DoxyCodeLine{1130 }
\DoxyCodeLine{1131   \textcolor{keywordtype}{void} OnTestProgramStart(\textcolor{keyword}{const} UnitTest\& \textcolor{comment}{/* unit\_test */})\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1132     SendLn(\textcolor{stringliteral}{"{}event=TestProgramStart"{}});}
\DoxyCodeLine{1133   \}}
\DoxyCodeLine{1134 }
\DoxyCodeLine{1135   \textcolor{keywordtype}{void} OnTestProgramEnd(\textcolor{keyword}{const} UnitTest\& unit\_test)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1136     \textcolor{comment}{// Note that Google Test current only report elapsed time for each}}
\DoxyCodeLine{1137     \textcolor{comment}{// test iteration, not for the entire test program.}}
\DoxyCodeLine{1138     SendLn(\textcolor{stringliteral}{"{}event=TestProgramEnd\&passed="{}} + FormatBool(unit\_test.Passed()));}
\DoxyCodeLine{1139 }
\DoxyCodeLine{1140     \textcolor{comment}{// Notify the streaming server to stop.}}
\DoxyCodeLine{1141     socket\_writer\_-\/>CloseConnection();}
\DoxyCodeLine{1142   \}}
\DoxyCodeLine{1143 }
\DoxyCodeLine{1144   \textcolor{keywordtype}{void} OnTestIterationStart(\textcolor{keyword}{const} UnitTest\& \textcolor{comment}{/* unit\_test */},}
\DoxyCodeLine{1145                             \textcolor{keywordtype}{int} iteration)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1146     SendLn(\textcolor{stringliteral}{"{}event=TestIterationStart\&iteration="{}} +}
\DoxyCodeLine{1147            StreamableToString(iteration));}
\DoxyCodeLine{1148   \}}
\DoxyCodeLine{1149 }
\DoxyCodeLine{1150   \textcolor{keywordtype}{void} OnTestIterationEnd(\textcolor{keyword}{const} UnitTest\& unit\_test,}
\DoxyCodeLine{1151                           \textcolor{keywordtype}{int} \textcolor{comment}{/* iteration */})\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1152     SendLn(\textcolor{stringliteral}{"{}event=TestIterationEnd\&passed="{}} + FormatBool(unit\_test.Passed()) +}
\DoxyCodeLine{1153            \textcolor{stringliteral}{"{}\&elapsed\_time="{}} + StreamableToString(unit\_test.elapsed\_time()) +}
\DoxyCodeLine{1154            \textcolor{stringliteral}{"{}ms"{}});}
\DoxyCodeLine{1155   \}}
\DoxyCodeLine{1156 }
\DoxyCodeLine{1157   \textcolor{comment}{// Note that "{}event=TestCaseStart"{} is a wire format and has to remain}}
\DoxyCodeLine{1158   \textcolor{comment}{// "{}case"{} for compatibility}}
\DoxyCodeLine{1159   \textcolor{keywordtype}{void} OnTestSuiteStart(\textcolor{keyword}{const} TestSuite\& test\_suite)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1160     SendLn(std::string(\textcolor{stringliteral}{"{}event=TestCaseStart\&name="{}}) + test\_suite.name());}
\DoxyCodeLine{1161   \}}
\DoxyCodeLine{1162 }
\DoxyCodeLine{1163   \textcolor{comment}{// Note that "{}event=TestCaseEnd"{} is a wire format and has to remain}}
\DoxyCodeLine{1164   \textcolor{comment}{// "{}case"{} for compatibility}}
\DoxyCodeLine{1165   \textcolor{keywordtype}{void} OnTestSuiteEnd(\textcolor{keyword}{const} TestSuite\& test\_suite)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1166     SendLn(\textcolor{stringliteral}{"{}event=TestCaseEnd\&passed="{}} + FormatBool(test\_suite.Passed()) +}
\DoxyCodeLine{1167            \textcolor{stringliteral}{"{}\&elapsed\_time="{}} + StreamableToString(test\_suite.elapsed\_time()) +}
\DoxyCodeLine{1168            \textcolor{stringliteral}{"{}ms"{}});}
\DoxyCodeLine{1169   \}}
\DoxyCodeLine{1170 }
\DoxyCodeLine{1171   \textcolor{keywordtype}{void} OnTestStart(\textcolor{keyword}{const} TestInfo\& test\_info)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1172     SendLn(std::string(\textcolor{stringliteral}{"{}event=TestStart\&name="{}}) + test\_info.name());}
\DoxyCodeLine{1173   \}}
\DoxyCodeLine{1174 }
\DoxyCodeLine{1175   \textcolor{keywordtype}{void} OnTestEnd(\textcolor{keyword}{const} TestInfo\& test\_info)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1176     SendLn(\textcolor{stringliteral}{"{}event=TestEnd\&passed="{}} +}
\DoxyCodeLine{1177            FormatBool((test\_info.result())-\/>Passed()) + \textcolor{stringliteral}{"{}\&elapsed\_time="{}} +}
\DoxyCodeLine{1178            StreamableToString((test\_info.result())-\/>elapsed\_time()) + \textcolor{stringliteral}{"{}ms"{}});}
\DoxyCodeLine{1179   \}}
\DoxyCodeLine{1180 }
\DoxyCodeLine{1181   \textcolor{keywordtype}{void} OnTestPartResult(\textcolor{keyword}{const} TestPartResult\& test\_part\_result)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1182     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* file\_name = test\_part\_result.file\_name();}
\DoxyCodeLine{1183     \textcolor{keywordflow}{if} (file\_name == \textcolor{keyword}{nullptr}) file\_name = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{1184     SendLn(\textcolor{stringliteral}{"{}event=TestPartResult\&file="{}} + UrlEncode(file\_name) +}
\DoxyCodeLine{1185            \textcolor{stringliteral}{"{}\&line="{}} + StreamableToString(test\_part\_result.line\_number()) +}
\DoxyCodeLine{1186            \textcolor{stringliteral}{"{}\&message="{}} + UrlEncode(test\_part\_result.message()));}
\DoxyCodeLine{1187   \}}
\DoxyCodeLine{1188 }
\DoxyCodeLine{1189  \textcolor{keyword}{private}:}
\DoxyCodeLine{1190   \textcolor{comment}{// Sends the given message and a newline to the socket.}}
\DoxyCodeLine{1191   \textcolor{keywordtype}{void} SendLn(\textcolor{keyword}{const} std::string\& message) \{ socket\_writer\_-\/>SendLn(message); \}}
\DoxyCodeLine{1192 }
\DoxyCodeLine{1193   \textcolor{comment}{// Called at the start of streaming to notify the receiver what}}
\DoxyCodeLine{1194   \textcolor{comment}{// protocol we are using.}}
\DoxyCodeLine{1195   \textcolor{keywordtype}{void} Start() \{ SendLn(\textcolor{stringliteral}{"{}gtest\_streaming\_protocol\_version=1.0"{}}); \}}
\DoxyCodeLine{1196 }
\DoxyCodeLine{1197   std::string FormatBool(\textcolor{keywordtype}{bool} value) \{ \textcolor{keywordflow}{return} value ? \textcolor{stringliteral}{"{}1"{}} : \textcolor{stringliteral}{"{}0"{}}; \}}
\DoxyCodeLine{1198 }
\DoxyCodeLine{1199   \textcolor{keyword}{const} std::unique\_ptr<AbstractSocketWriter> socket\_writer\_;}
\DoxyCodeLine{1200 }
\DoxyCodeLine{1201   StreamingListener(\textcolor{keyword}{const} StreamingListener\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1202   StreamingListener\& operator=(\textcolor{keyword}{const} StreamingListener\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1203 \};  \textcolor{comment}{// class StreamingListener}}
\DoxyCodeLine{1204 }
\DoxyCodeLine{1205 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_CAN\_STREAM\_RESULTS\_}}
\DoxyCodeLine{1206 }
\DoxyCodeLine{1207 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{1208 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{1209 }
\DoxyCodeLine{1210 GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()  \textcolor{comment}{//  4251}}
\DoxyCodeLine{1211 }
\DoxyCodeLine{1212 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GOOGLETEST\_SRC\_GTEST\_INTERNAL\_INL\_H\_}}

\end{DoxyCode}
