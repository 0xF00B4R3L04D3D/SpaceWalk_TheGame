\hypertarget{gtest-port_8h_source}{}\doxysection{gtest-\/port.h}
\label{gtest-port_8h_source}\index{build/\_deps/googletest-\/src/googletest/include/gtest/internal/gtest-\/port.h@{build/\_deps/googletest-\/src/googletest/include/gtest/internal/gtest-\/port.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// Copyright 2005, Google Inc.}}
\DoxyCodeLine{2 \textcolor{comment}{// All rights reserved.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{// Redistribution and use in source and binary forms, with or without}}
\DoxyCodeLine{5 \textcolor{comment}{// modification, are permitted provided that the following conditions are}}
\DoxyCodeLine{6 \textcolor{comment}{// met:}}
\DoxyCodeLine{7 \textcolor{comment}{//}}
\DoxyCodeLine{8 \textcolor{comment}{//     * Redistributions of source code must retain the above copyright}}
\DoxyCodeLine{9 \textcolor{comment}{// notice, this list of conditions and the following disclaimer.}}
\DoxyCodeLine{10 \textcolor{comment}{//     * Redistributions in binary form must reproduce the above}}
\DoxyCodeLine{11 \textcolor{comment}{// copyright notice, this list of conditions and the following disclaimer}}
\DoxyCodeLine{12 \textcolor{comment}{// in the documentation and/or other materials provided with the}}
\DoxyCodeLine{13 \textcolor{comment}{// distribution.}}
\DoxyCodeLine{14 \textcolor{comment}{//     * Neither the name of Google Inc. nor the names of its}}
\DoxyCodeLine{15 \textcolor{comment}{// contributors may be used to endorse or promote products derived from}}
\DoxyCodeLine{16 \textcolor{comment}{// this software without specific prior written permission.}}
\DoxyCodeLine{17 \textcolor{comment}{//}}
\DoxyCodeLine{18 \textcolor{comment}{// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS}}
\DoxyCodeLine{19 \textcolor{comment}{// "{}AS IS"{} AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT}}
\DoxyCodeLine{20 \textcolor{comment}{// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR}}
\DoxyCodeLine{21 \textcolor{comment}{// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT}}
\DoxyCodeLine{22 \textcolor{comment}{// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,}}
\DoxyCodeLine{23 \textcolor{comment}{// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT}}
\DoxyCodeLine{24 \textcolor{comment}{// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,}}
\DoxyCodeLine{25 \textcolor{comment}{// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY}}
\DoxyCodeLine{26 \textcolor{comment}{// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT}}
\DoxyCodeLine{27 \textcolor{comment}{// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE}}
\DoxyCodeLine{28 \textcolor{comment}{// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{comment}{// Low-\/level types and utilities for porting Google Test to various}}
\DoxyCodeLine{31 \textcolor{comment}{// platforms.  All macros ending with \_ and symbols defined in an}}
\DoxyCodeLine{32 \textcolor{comment}{// internal namespace are subject to change without notice.  Code}}
\DoxyCodeLine{33 \textcolor{comment}{// outside Google Test MUST NOT USE THEM DIRECTLY.  Macros that don't}}
\DoxyCodeLine{34 \textcolor{comment}{// end with \_ are part of Google Test's public API and can be used by}}
\DoxyCodeLine{35 \textcolor{comment}{// code outside Google Test.}}
\DoxyCodeLine{36 \textcolor{comment}{//}}
\DoxyCodeLine{37 \textcolor{comment}{// This file is fundamental to Google Test.  All other Google Test source}}
\DoxyCodeLine{38 \textcolor{comment}{// files are expected to \#include this.  Therefore, it cannot \#include}}
\DoxyCodeLine{39 \textcolor{comment}{// any other Google Test header.}}
\DoxyCodeLine{40 }
\DoxyCodeLine{41 \textcolor{comment}{// IWYU pragma: private, include "{}gtest/gtest.h"{}}}
\DoxyCodeLine{42 \textcolor{comment}{// IWYU pragma: friend gtest/.*}}
\DoxyCodeLine{43 \textcolor{comment}{// IWYU pragma: friend gmock/.*}}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 \textcolor{preprocessor}{\#ifndef GOOGLETEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PORT\_H\_}}
\DoxyCodeLine{46 \textcolor{preprocessor}{\#define GOOGLETEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PORT\_H\_}}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 \textcolor{comment}{// Environment-\/describing macros}}
\DoxyCodeLine{49 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{50 \textcolor{comment}{//}}
\DoxyCodeLine{51 \textcolor{comment}{// Google Test can be used in many different environments.  Macros in}}
\DoxyCodeLine{52 \textcolor{comment}{// this section tell Google Test what kind of environment it is being}}
\DoxyCodeLine{53 \textcolor{comment}{// used in, such that Google Test can provide environment-\/specific}}
\DoxyCodeLine{54 \textcolor{comment}{// features and implementations.}}
\DoxyCodeLine{55 \textcolor{comment}{//}}
\DoxyCodeLine{56 \textcolor{comment}{// Google Test tries to automatically detect the properties of its}}
\DoxyCodeLine{57 \textcolor{comment}{// environment, so users usually don't need to worry about these}}
\DoxyCodeLine{58 \textcolor{comment}{// macros.  However, the automatic detection is not perfect.}}
\DoxyCodeLine{59 \textcolor{comment}{// Sometimes it's necessary for a user to define some of the following}}
\DoxyCodeLine{60 \textcolor{comment}{// macros in the build script to override Google Test's decisions.}}
\DoxyCodeLine{61 \textcolor{comment}{//}}
\DoxyCodeLine{62 \textcolor{comment}{// If the user doesn't define a macro in the list, Google Test will}}
\DoxyCodeLine{63 \textcolor{comment}{// provide a default definition.  After this header is \#included, all}}
\DoxyCodeLine{64 \textcolor{comment}{// macros in this list will be defined to either 1 or 0.}}
\DoxyCodeLine{65 \textcolor{comment}{//}}
\DoxyCodeLine{66 \textcolor{comment}{// Notes to maintainers:}}
\DoxyCodeLine{67 \textcolor{comment}{//   -\/ Each macro here is a user-\/tweakable knob; do not grow the list}}
\DoxyCodeLine{68 \textcolor{comment}{//     lightly.}}
\DoxyCodeLine{69 \textcolor{comment}{//   -\/ Use \#if to key off these macros.  Don't use \#ifdef or "{}\#if}}
\DoxyCodeLine{70 \textcolor{comment}{//     defined(...)"{}, which will not work as these macros are ALWAYS}}
\DoxyCodeLine{71 \textcolor{comment}{//     defined.}}
\DoxyCodeLine{72 \textcolor{comment}{//}}
\DoxyCodeLine{73 \textcolor{comment}{//   GTEST\_HAS\_CLONE          -\/ Define it to 1/0 to indicate that clone(2)}}
\DoxyCodeLine{74 \textcolor{comment}{//                              is/isn't available.}}
\DoxyCodeLine{75 \textcolor{comment}{//   GTEST\_HAS\_EXCEPTIONS     -\/ Define it to 1/0 to indicate that exceptions}}
\DoxyCodeLine{76 \textcolor{comment}{//                              are enabled.}}
\DoxyCodeLine{77 \textcolor{comment}{//   GTEST\_HAS\_POSIX\_RE       -\/ Define it to 1/0 to indicate that POSIX regular}}
\DoxyCodeLine{78 \textcolor{comment}{//                              expressions are/aren't available.}}
\DoxyCodeLine{79 \textcolor{comment}{//   GTEST\_HAS\_PTHREAD        -\/ Define it to 1/0 to indicate that <pthread.h>}}
\DoxyCodeLine{80 \textcolor{comment}{//                              is/isn't available.}}
\DoxyCodeLine{81 \textcolor{comment}{//   GTEST\_HAS\_RTTI           -\/ Define it to 1/0 to indicate that RTTI is/isn't}}
\DoxyCodeLine{82 \textcolor{comment}{//                              enabled.}}
\DoxyCodeLine{83 \textcolor{comment}{//   GTEST\_HAS\_STD\_WSTRING    -\/ Define it to 1/0 to indicate that}}
\DoxyCodeLine{84 \textcolor{comment}{//                              std::wstring does/doesn't work (Google Test can}}
\DoxyCodeLine{85 \textcolor{comment}{//                              be used where std::wstring is unavailable).}}
\DoxyCodeLine{86 \textcolor{comment}{//   GTEST\_HAS\_SEH            -\/ Define it to 1/0 to indicate whether the}}
\DoxyCodeLine{87 \textcolor{comment}{//                              compiler supports Microsoft's "{}Structured}}
\DoxyCodeLine{88 \textcolor{comment}{//                              Exception Handling"{}.}}
\DoxyCodeLine{89 \textcolor{comment}{//   GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{90 \textcolor{comment}{//                            -\/ Define it to 1/0 to indicate whether the}}
\DoxyCodeLine{91 \textcolor{comment}{//                              platform supports I/O stream redirection using}}
\DoxyCodeLine{92 \textcolor{comment}{//                              dup() and dup2().}}
\DoxyCodeLine{93 \textcolor{comment}{//   GTEST\_LINKED\_AS\_SHARED\_LIBRARY}}
\DoxyCodeLine{94 \textcolor{comment}{//                            -\/ Define to 1 when compiling tests that use}}
\DoxyCodeLine{95 \textcolor{comment}{//                              Google Test as a shared library (known as}}
\DoxyCodeLine{96 \textcolor{comment}{//                              DLL on Windows).}}
\DoxyCodeLine{97 \textcolor{comment}{//   GTEST\_CREATE\_SHARED\_LIBRARY}}
\DoxyCodeLine{98 \textcolor{comment}{//                            -\/ Define to 1 when compiling Google Test itself}}
\DoxyCodeLine{99 \textcolor{comment}{//                              as a shared library.}}
\DoxyCodeLine{100 \textcolor{comment}{//   GTEST\_DEFAULT\_DEATH\_TEST\_STYLE}}
\DoxyCodeLine{101 \textcolor{comment}{//                            -\/ The default value of -\/-\/gtest\_death\_test\_style.}}
\DoxyCodeLine{102 \textcolor{comment}{//                              The legacy default has been "{}fast"{} in the open}}
\DoxyCodeLine{103 \textcolor{comment}{//                              source version since 2008. The recommended value}}
\DoxyCodeLine{104 \textcolor{comment}{//                              is "{}threadsafe"{}, and can be set in}}
\DoxyCodeLine{105 \textcolor{comment}{//                              custom/gtest-\/port.h.}}
\DoxyCodeLine{106 }
\DoxyCodeLine{107 \textcolor{comment}{// Platform-\/indicating macros}}
\DoxyCodeLine{108 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{109 \textcolor{comment}{//}}
\DoxyCodeLine{110 \textcolor{comment}{// Macros indicating the platform on which Google Test is being used}}
\DoxyCodeLine{111 \textcolor{comment}{// (a macro is defined to 1 if compiled on the given platform;}}
\DoxyCodeLine{112 \textcolor{comment}{// otherwise UNDEFINED -\/-\/ it's never defined to 0.).  Google Test}}
\DoxyCodeLine{113 \textcolor{comment}{// defines these macros automatically.  Code outside Google Test MUST}}
\DoxyCodeLine{114 \textcolor{comment}{// NOT define them.}}
\DoxyCodeLine{115 \textcolor{comment}{//}}
\DoxyCodeLine{116 \textcolor{comment}{//   GTEST\_OS\_AIX      -\/ IBM AIX}}
\DoxyCodeLine{117 \textcolor{comment}{//   GTEST\_OS\_CYGWIN   -\/ Cygwin}}
\DoxyCodeLine{118 \textcolor{comment}{//   GTEST\_OS\_DRAGONFLY -\/ DragonFlyBSD}}
\DoxyCodeLine{119 \textcolor{comment}{//   GTEST\_OS\_FREEBSD  -\/ FreeBSD}}
\DoxyCodeLine{120 \textcolor{comment}{//   GTEST\_OS\_FUCHSIA  -\/ Fuchsia}}
\DoxyCodeLine{121 \textcolor{comment}{//   GTEST\_OS\_GNU\_HURD -\/ GNU/Hurd}}
\DoxyCodeLine{122 \textcolor{comment}{//   GTEST\_OS\_GNU\_KFREEBSD -\/ GNU/kFreeBSD}}
\DoxyCodeLine{123 \textcolor{comment}{//   GTEST\_OS\_HAIKU    -\/ Haiku}}
\DoxyCodeLine{124 \textcolor{comment}{//   GTEST\_OS\_HPUX     -\/ HP-\/UX}}
\DoxyCodeLine{125 \textcolor{comment}{//   GTEST\_OS\_LINUX    -\/ Linux}}
\DoxyCodeLine{126 \textcolor{comment}{//     GTEST\_OS\_LINUX\_ANDROID -\/ Google Android}}
\DoxyCodeLine{127 \textcolor{comment}{//   GTEST\_OS\_MAC      -\/ Mac OS X}}
\DoxyCodeLine{128 \textcolor{comment}{//     GTEST\_OS\_IOS    -\/ iOS}}
\DoxyCodeLine{129 \textcolor{comment}{//   GTEST\_OS\_NACL     -\/ Google Native Client (NaCl)}}
\DoxyCodeLine{130 \textcolor{comment}{//   GTEST\_OS\_NETBSD   -\/ NetBSD}}
\DoxyCodeLine{131 \textcolor{comment}{//   GTEST\_OS\_OPENBSD  -\/ OpenBSD}}
\DoxyCodeLine{132 \textcolor{comment}{//   GTEST\_OS\_OS2      -\/ OS/2}}
\DoxyCodeLine{133 \textcolor{comment}{//   GTEST\_OS\_QNX      -\/ QNX}}
\DoxyCodeLine{134 \textcolor{comment}{//   GTEST\_OS\_SOLARIS  -\/ Sun Solaris}}
\DoxyCodeLine{135 \textcolor{comment}{//   GTEST\_OS\_WINDOWS  -\/ Windows (Desktop, MinGW, or Mobile)}}
\DoxyCodeLine{136 \textcolor{comment}{//     GTEST\_OS\_WINDOWS\_DESKTOP  -\/ Windows Desktop}}
\DoxyCodeLine{137 \textcolor{comment}{//     GTEST\_OS\_WINDOWS\_MINGW    -\/ MinGW}}
\DoxyCodeLine{138 \textcolor{comment}{//     GTEST\_OS\_WINDOWS\_MOBILE   -\/ Windows Mobile}}
\DoxyCodeLine{139 \textcolor{comment}{//     GTEST\_OS\_WINDOWS\_PHONE    -\/ Windows Phone}}
\DoxyCodeLine{140 \textcolor{comment}{//     GTEST\_OS\_WINDOWS\_RT       -\/ Windows Store App/WinRT}}
\DoxyCodeLine{141 \textcolor{comment}{//   GTEST\_OS\_ZOS      -\/ z/OS}}
\DoxyCodeLine{142 \textcolor{comment}{//}}
\DoxyCodeLine{143 \textcolor{comment}{// Among the platforms, Cygwin, Linux, Mac OS X, and Windows have the}}
\DoxyCodeLine{144 \textcolor{comment}{// most stable support.  Since core members of the Google Test project}}
\DoxyCodeLine{145 \textcolor{comment}{// don't have access to other platforms, support for them may be less}}
\DoxyCodeLine{146 \textcolor{comment}{// stable.  If you notice any problems on your platform, please notify}}
\DoxyCodeLine{147 \textcolor{comment}{// googletestframework@googlegroups.com (patches for fixing them are}}
\DoxyCodeLine{148 \textcolor{comment}{// even more welcome!).}}
\DoxyCodeLine{149 \textcolor{comment}{//}}
\DoxyCodeLine{150 \textcolor{comment}{// It is possible that none of the GTEST\_OS\_* macros are defined.}}
\DoxyCodeLine{151 }
\DoxyCodeLine{152 \textcolor{comment}{// Feature-\/indicating macros}}
\DoxyCodeLine{153 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{154 \textcolor{comment}{//}}
\DoxyCodeLine{155 \textcolor{comment}{// Macros indicating which Google Test features are available (a macro}}
\DoxyCodeLine{156 \textcolor{comment}{// is defined to 1 if the corresponding feature is supported;}}
\DoxyCodeLine{157 \textcolor{comment}{// otherwise UNDEFINED -\/-\/ it's never defined to 0.).  Google Test}}
\DoxyCodeLine{158 \textcolor{comment}{// defines these macros automatically.  Code outside Google Test MUST}}
\DoxyCodeLine{159 \textcolor{comment}{// NOT define them.}}
\DoxyCodeLine{160 \textcolor{comment}{//}}
\DoxyCodeLine{161 \textcolor{comment}{// These macros are public so that portable tests can be written.}}
\DoxyCodeLine{162 \textcolor{comment}{// Such tests typically surround code using a feature with an \#if}}
\DoxyCodeLine{163 \textcolor{comment}{// which controls that code.  For example:}}
\DoxyCodeLine{164 \textcolor{comment}{//}}
\DoxyCodeLine{165 \textcolor{comment}{// \#if GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{166 \textcolor{comment}{//   EXPECT\_DEATH(DoSomethingDeadly());}}
\DoxyCodeLine{167 \textcolor{comment}{// \#endif}}
\DoxyCodeLine{168 \textcolor{comment}{//}}
\DoxyCodeLine{169 \textcolor{comment}{//   GTEST\_HAS\_DEATH\_TEST   -\/ death tests}}
\DoxyCodeLine{170 \textcolor{comment}{//   GTEST\_HAS\_TYPED\_TEST   -\/ typed tests}}
\DoxyCodeLine{171 \textcolor{comment}{//   GTEST\_HAS\_TYPED\_TEST\_P -\/ type-\/parameterized tests}}
\DoxyCodeLine{172 \textcolor{comment}{//   GTEST\_IS\_THREADSAFE    -\/ Google Test is thread-\/safe.}}
\DoxyCodeLine{173 \textcolor{comment}{//   GTEST\_USES\_RE2         -\/ the RE2 regular expression library is used}}
\DoxyCodeLine{174 \textcolor{comment}{//   GTEST\_USES\_POSIX\_RE    -\/ enhanced POSIX regex is used. Do not confuse with}}
\DoxyCodeLine{175 \textcolor{comment}{//                            GTEST\_HAS\_POSIX\_RE (see above) which users can}}
\DoxyCodeLine{176 \textcolor{comment}{//                            define themselves.}}
\DoxyCodeLine{177 \textcolor{comment}{//   GTEST\_USES\_SIMPLE\_RE   -\/ our own simple regex is used;}}
\DoxyCodeLine{178 \textcolor{comment}{//                            the above RE\(\backslash\)b(s) are mutually exclusive.}}
\DoxyCodeLine{179 }
\DoxyCodeLine{180 \textcolor{comment}{// Misc public macros}}
\DoxyCodeLine{181 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{182 \textcolor{comment}{//}}
\DoxyCodeLine{183 \textcolor{comment}{//   GTEST\_FLAG(flag\_name)  -\/ references the variable corresponding to}}
\DoxyCodeLine{184 \textcolor{comment}{//                            the given Google Test flag.}}
\DoxyCodeLine{185 }
\DoxyCodeLine{186 \textcolor{comment}{// Internal utilities}}
\DoxyCodeLine{187 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{188 \textcolor{comment}{//}}
\DoxyCodeLine{189 \textcolor{comment}{// The following macros and utilities are for Google Test's INTERNAL}}
\DoxyCodeLine{190 \textcolor{comment}{// use only.  Code outside Google Test MUST NOT USE THEM DIRECTLY.}}
\DoxyCodeLine{191 \textcolor{comment}{//}}
\DoxyCodeLine{192 \textcolor{comment}{// Macros for basic C++ coding:}}
\DoxyCodeLine{193 \textcolor{comment}{//   GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_ -\/ for disabling a gcc warning.}}
\DoxyCodeLine{194 \textcolor{comment}{//   GTEST\_ATTRIBUTE\_UNUSED\_  -\/ declares that a class' instances or a}}
\DoxyCodeLine{195 \textcolor{comment}{//                              variable don't have to be used.}}
\DoxyCodeLine{196 \textcolor{comment}{//   GTEST\_MUST\_USE\_RESULT\_   -\/ declares that a function's result must be used.}}
\DoxyCodeLine{197 \textcolor{comment}{//   GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_ -\/ start code section where MSVC C4127 is}}
\DoxyCodeLine{198 \textcolor{comment}{//                                        suppressed (constant conditional).}}
\DoxyCodeLine{199 \textcolor{comment}{//   GTEST\_INTENTIONAL\_CONST\_COND\_POP\_  -\/ finish code section where MSVC C4127}}
\DoxyCodeLine{200 \textcolor{comment}{//                                        is suppressed.}}
\DoxyCodeLine{201 \textcolor{comment}{//   GTEST\_INTERNAL\_HAS\_ANY -\/ for enabling UniversalPrinter<std::any> or}}
\DoxyCodeLine{202 \textcolor{comment}{//                            UniversalPrinter<absl::any> specializations.}}
\DoxyCodeLine{203 \textcolor{comment}{//   GTEST\_INTERNAL\_HAS\_OPTIONAL -\/ for enabling UniversalPrinter<std::optional>}}
\DoxyCodeLine{204 \textcolor{comment}{//   or}}
\DoxyCodeLine{205 \textcolor{comment}{//                                 UniversalPrinter<absl::optional>}}
\DoxyCodeLine{206 \textcolor{comment}{//                                 specializations.}}
\DoxyCodeLine{207 \textcolor{comment}{//   GTEST\_INTERNAL\_HAS\_STRING\_VIEW -\/ for enabling Matcher<std::string\_view> or}}
\DoxyCodeLine{208 \textcolor{comment}{//                                    Matcher<absl::string\_view>}}
\DoxyCodeLine{209 \textcolor{comment}{//                                    specializations.}}
\DoxyCodeLine{210 \textcolor{comment}{//   GTEST\_INTERNAL\_HAS\_VARIANT -\/ for enabling UniversalPrinter<std::variant> or}}
\DoxyCodeLine{211 \textcolor{comment}{//                                UniversalPrinter<absl::variant>}}
\DoxyCodeLine{212 \textcolor{comment}{//                                specializations.}}
\DoxyCodeLine{213 \textcolor{comment}{//}}
\DoxyCodeLine{214 \textcolor{comment}{// Synchronization:}}
\DoxyCodeLine{215 \textcolor{comment}{//   Mutex, MutexLock, ThreadLocal, GetThreadCount()}}
\DoxyCodeLine{216 \textcolor{comment}{//                            -\/ synchronization primitives.}}
\DoxyCodeLine{217 \textcolor{comment}{//}}
\DoxyCodeLine{218 \textcolor{comment}{// Regular expressions:}}
\DoxyCodeLine{219 \textcolor{comment}{//   RE             -\/ a simple regular expression class using}}
\DoxyCodeLine{220 \textcolor{comment}{//                     1) the RE2 syntax on all platforms when built with RE2}}
\DoxyCodeLine{221 \textcolor{comment}{//                        and Abseil as dependencies}}
\DoxyCodeLine{222 \textcolor{comment}{//                     2) the POSIX Extended Regular Expression syntax on}}
\DoxyCodeLine{223 \textcolor{comment}{//                        UNIX-\/like platforms,}}
\DoxyCodeLine{224 \textcolor{comment}{//                     3) A reduced regular exception syntax on other platforms,}}
\DoxyCodeLine{225 \textcolor{comment}{//                        including Windows.}}
\DoxyCodeLine{226 \textcolor{comment}{// Logging:}}
\DoxyCodeLine{227 \textcolor{comment}{//   GTEST\_LOG\_()   -\/ logs messages at the specified severity level.}}
\DoxyCodeLine{228 \textcolor{comment}{//   LogToStderr()  -\/ directs all log messages to stderr.}}
\DoxyCodeLine{229 \textcolor{comment}{//   FlushInfoLog() -\/ flushes informational log messages.}}
\DoxyCodeLine{230 \textcolor{comment}{//}}
\DoxyCodeLine{231 \textcolor{comment}{// Stdout and stderr capturing:}}
\DoxyCodeLine{232 \textcolor{comment}{//   CaptureStdout()     -\/ starts capturing stdout.}}
\DoxyCodeLine{233 \textcolor{comment}{//   GetCapturedStdout() -\/ stops capturing stdout and returns the captured}}
\DoxyCodeLine{234 \textcolor{comment}{//                         string.}}
\DoxyCodeLine{235 \textcolor{comment}{//   CaptureStderr()     -\/ starts capturing stderr.}}
\DoxyCodeLine{236 \textcolor{comment}{//   GetCapturedStderr() -\/ stops capturing stderr and returns the captured}}
\DoxyCodeLine{237 \textcolor{comment}{//                         string.}}
\DoxyCodeLine{238 \textcolor{comment}{//}}
\DoxyCodeLine{239 \textcolor{comment}{// Integer types:}}
\DoxyCodeLine{240 \textcolor{comment}{//   TypeWithSize   -\/ maps an integer to a int type.}}
\DoxyCodeLine{241 \textcolor{comment}{//   TimeInMillis   -\/ integers of known sizes.}}
\DoxyCodeLine{242 \textcolor{comment}{//   BiggestInt     -\/ the biggest signed integer type.}}
\DoxyCodeLine{243 \textcolor{comment}{//}}
\DoxyCodeLine{244 \textcolor{comment}{// Command-\/line utilities:}}
\DoxyCodeLine{245 \textcolor{comment}{//   GetInjectableArgvs() -\/ returns the command line as a vector of strings.}}
\DoxyCodeLine{246 \textcolor{comment}{//}}
\DoxyCodeLine{247 \textcolor{comment}{// Environment variable utilities:}}
\DoxyCodeLine{248 \textcolor{comment}{//   GetEnv()             -\/ gets the value of an environment variable.}}
\DoxyCodeLine{249 \textcolor{comment}{//   BoolFromGTestEnv()   -\/ parses a bool environment variable.}}
\DoxyCodeLine{250 \textcolor{comment}{//   Int32FromGTestEnv()  -\/ parses an int32\_t environment variable.}}
\DoxyCodeLine{251 \textcolor{comment}{//   StringFromGTestEnv() -\/ parses a string environment variable.}}
\DoxyCodeLine{252 \textcolor{comment}{//}}
\DoxyCodeLine{253 \textcolor{comment}{// Deprecation warnings:}}
\DoxyCodeLine{254 \textcolor{comment}{//   GTEST\_INTERNAL\_DEPRECATED(message) -\/ attribute marking a function as}}
\DoxyCodeLine{255 \textcolor{comment}{//                                        deprecated; calling a marked function}}
\DoxyCodeLine{256 \textcolor{comment}{//                                        should generate a compiler warning}}
\DoxyCodeLine{257 }
\DoxyCodeLine{258 \textcolor{preprocessor}{\#include <ctype.h>}   \textcolor{comment}{// for isspace, etc}}
\DoxyCodeLine{259 \textcolor{preprocessor}{\#include <stddef.h>}  \textcolor{comment}{// for ptrdiff\_t}}
\DoxyCodeLine{260 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{261 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{262 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{263 }
\DoxyCodeLine{264 \textcolor{preprocessor}{\#include <cerrno>}}
\DoxyCodeLine{265 \textcolor{comment}{// \#include <condition\_variable>  // Guarded by GTEST\_IS\_THREADSAFE below}}
\DoxyCodeLine{266 \textcolor{preprocessor}{\#include <cstdint>}}
\DoxyCodeLine{267 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{268 \textcolor{preprocessor}{\#include <limits>}}
\DoxyCodeLine{269 \textcolor{preprocessor}{\#include <locale>}}
\DoxyCodeLine{270 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{271 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{272 \textcolor{comment}{// \#include <mutex>  // Guarded by GTEST\_IS\_THREADSAFE below}}
\DoxyCodeLine{273 \textcolor{preprocessor}{\#include <tuple>}}
\DoxyCodeLine{274 \textcolor{preprocessor}{\#include <type\_traits>}}
\DoxyCodeLine{275 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{276 }
\DoxyCodeLine{277 \textcolor{preprocessor}{\#ifndef \_WIN32\_WCE}}
\DoxyCodeLine{278 \textcolor{preprocessor}{\#include <sys/stat.h>}}
\DoxyCodeLine{279 \textcolor{preprocessor}{\#include <sys/types.h>}}
\DoxyCodeLine{280 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !\_WIN32\_WCE}}
\DoxyCodeLine{281 }
\DoxyCodeLine{282 \textcolor{preprocessor}{\#if defined \_\_APPLE\_\_}}
\DoxyCodeLine{283 \textcolor{preprocessor}{\#include <AvailabilityMacros.h>}}
\DoxyCodeLine{284 \textcolor{preprocessor}{\#include <TargetConditionals.h>}}
\DoxyCodeLine{285 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{286 }
\DoxyCodeLine{287 \textcolor{preprocessor}{\#include "{}gtest/internal/custom/gtest-\/port.h"{}}}
\DoxyCodeLine{288 \textcolor{preprocessor}{\#include "{}gtest/internal/gtest-\/port-\/arch.h"{}}}
\DoxyCodeLine{289 }
\DoxyCodeLine{290 \textcolor{preprocessor}{\#if GTEST\_HAS\_ABSL}}
\DoxyCodeLine{291 \textcolor{preprocessor}{\#include "{}absl/flags/declare.h"{}}}
\DoxyCodeLine{292 \textcolor{preprocessor}{\#include "{}absl/flags/flag.h"{}}}
\DoxyCodeLine{293 \textcolor{preprocessor}{\#include "{}absl/flags/reflection.h"{}}}
\DoxyCodeLine{294 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{295 }
\DoxyCodeLine{296 \textcolor{preprocessor}{\#if !defined(GTEST\_DEV\_EMAIL\_)}}
\DoxyCodeLine{297 \textcolor{preprocessor}{\#define GTEST\_DEV\_EMAIL\_ "{}googletestframework@@googlegroups.com"{}}}
\DoxyCodeLine{298 \textcolor{preprocessor}{\#define GTEST\_FLAG\_PREFIX\_ "{}gtest\_"{}}}
\DoxyCodeLine{299 \textcolor{preprocessor}{\#define GTEST\_FLAG\_PREFIX\_DASH\_ "{}gtest-\/"{}}}
\DoxyCodeLine{300 \textcolor{preprocessor}{\#define GTEST\_FLAG\_PREFIX\_UPPER\_ "{}GTEST\_"{}}}
\DoxyCodeLine{301 \textcolor{preprocessor}{\#define GTEST\_NAME\_ "{}Google Test"{}}}
\DoxyCodeLine{302 \textcolor{preprocessor}{\#define GTEST\_PROJECT\_URL\_ "{}https://github.com/google/googletest/"{}}}
\DoxyCodeLine{303 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_DEV\_EMAIL\_)}}
\DoxyCodeLine{304 }
\DoxyCodeLine{305 \textcolor{preprocessor}{\#if !defined(GTEST\_INIT\_GOOGLE\_TEST\_NAME\_)}}
\DoxyCodeLine{306 \textcolor{preprocessor}{\#define GTEST\_INIT\_GOOGLE\_TEST\_NAME\_ "{}testing::InitGoogleTest"{}}}
\DoxyCodeLine{307 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_INIT\_GOOGLE\_TEST\_NAME\_)}}
\DoxyCodeLine{308 }
\DoxyCodeLine{309 \textcolor{comment}{// Determines the version of gcc that is used to compile this.}}
\DoxyCodeLine{310 \textcolor{preprocessor}{\#ifdef \_\_GNUC\_\_}}
\DoxyCodeLine{311 \textcolor{comment}{// 40302 means version 4.3.2.}}
\DoxyCodeLine{312 \textcolor{preprocessor}{\#define GTEST\_GCC\_VER\_ \(\backslash\)}}
\DoxyCodeLine{313 \textcolor{preprocessor}{  (\_\_GNUC\_\_ * 10000 + \_\_GNUC\_MINOR\_\_ * 100 + \_\_GNUC\_PATCHLEVEL\_\_)}}
\DoxyCodeLine{314 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_GNUC\_\_}}
\DoxyCodeLine{315 }
\DoxyCodeLine{316 \textcolor{comment}{// Macros for disabling Microsoft Visual C++ warnings.}}
\DoxyCodeLine{317 \textcolor{comment}{//}}
\DoxyCodeLine{318 \textcolor{comment}{//   GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4800 4385)}}
\DoxyCodeLine{319 \textcolor{comment}{//   /* code that triggers warnings C4800 and C4385 */}}
\DoxyCodeLine{320 \textcolor{comment}{//   GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{321 \textcolor{preprocessor}{\#if defined(\_MSC\_VER)}}
\DoxyCodeLine{322 \textcolor{preprocessor}{\#define GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(warnings) \(\backslash\)}}
\DoxyCodeLine{323 \textcolor{preprocessor}{  \_\_pragma(warning(push)) \_\_pragma(warning(disable : warnings))}}
\DoxyCodeLine{324 \textcolor{preprocessor}{\#define GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_() \_\_pragma(warning(pop))}}
\DoxyCodeLine{325 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{326 \textcolor{comment}{// Not all compilers are MSVC}}
\DoxyCodeLine{327 \textcolor{preprocessor}{\#define GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(warnings)}}
\DoxyCodeLine{328 \textcolor{preprocessor}{\#define GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{329 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{330 }
\DoxyCodeLine{331 \textcolor{comment}{// Clang on Windows does not understand MSVC's pragma warning.}}
\DoxyCodeLine{332 \textcolor{comment}{// We need clang-\/specific way to disable function deprecation warning.}}
\DoxyCodeLine{333 \textcolor{preprocessor}{\#ifdef \_\_clang\_\_}}
\DoxyCodeLine{334 \textcolor{preprocessor}{\#define GTEST\_DISABLE\_MSC\_DEPRECATED\_PUSH\_()                            \(\backslash\)}}
\DoxyCodeLine{335 \textcolor{preprocessor}{  \_Pragma("{}clang diagnostic push"{}})                                      \(\backslash\)}
\DoxyCodeLine{336       \_Pragma("{}clang diagnostic ignored \(\backslash\)"{}-\/Wdeprecated-\/declarations\(\backslash\)"{}"{}) \(\backslash\)}
\DoxyCodeLine{337           \_Pragma("{}clang diagnostic ignored \(\backslash\)"{}-\/Wdeprecated-\/implementations\(\backslash\)"{}"{})}
\DoxyCodeLine{338 \textcolor{preprocessor}{\#define GTEST\_DISABLE\_MSC\_DEPRECATED\_POP\_() \_Pragma("{}clang diagnostic pop"{}})}
\DoxyCodeLine{339 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{340 \textcolor{preprocessor}{\#define GTEST\_DISABLE\_MSC\_DEPRECATED\_PUSH\_() \(\backslash\)}}
\DoxyCodeLine{341 \textcolor{preprocessor}{  GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4996)}}
\DoxyCodeLine{342 \textcolor{preprocessor}{\#define GTEST\_DISABLE\_MSC\_DEPRECATED\_POP\_() GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{343 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{344 }
\DoxyCodeLine{345 \textcolor{comment}{// Brings in definitions for functions used in the testing::internal::posix}}
\DoxyCodeLine{346 \textcolor{comment}{// namespace (read, write, close, chdir, isatty, stat). We do not currently}}
\DoxyCodeLine{347 \textcolor{comment}{// use them on Windows Mobile.}}
\DoxyCodeLine{348 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{349 \textcolor{preprocessor}{\#if !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{350 \textcolor{preprocessor}{\#include <direct.h>}}
\DoxyCodeLine{351 \textcolor{preprocessor}{\#include <io.h>}}
\DoxyCodeLine{352 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{353 \textcolor{comment}{// In order to avoid having to include <windows.h>, use forward declaration}}
\DoxyCodeLine{354 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS\_MINGW \&\& !defined(\_\_MINGW64\_VERSION\_MAJOR)}}
\DoxyCodeLine{355 \textcolor{comment}{// MinGW defined \_CRITICAL\_SECTION and \_RTL\_CRITICAL\_SECTION as two}}
\DoxyCodeLine{356 \textcolor{comment}{// separate (equivalent) structs, instead of using typedef}}
\DoxyCodeLine{357 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\_CRITICAL\_SECTION GTEST\_CRITICAL\_SECTION;}
\DoxyCodeLine{358 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{359 \textcolor{comment}{// Assume CRITICAL\_SECTION is a typedef of \_RTL\_CRITICAL\_SECTION.}}
\DoxyCodeLine{360 \textcolor{comment}{// This assumption is verified by}}
\DoxyCodeLine{361 \textcolor{comment}{// WindowsTypesTest.CRITICAL\_SECTIONIs\_RTL\_CRITICAL\_SECTION.}}
\DoxyCodeLine{362 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\_RTL\_CRITICAL\_SECTION GTEST\_CRITICAL\_SECTION;}
\DoxyCodeLine{363 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{364 \textcolor{preprocessor}{\#elif GTEST\_OS\_XTENSA}}
\DoxyCodeLine{365 \textcolor{preprocessor}{\#include <unistd.h>}}
\DoxyCodeLine{366 \textcolor{comment}{// Xtensa toolchains define strcasecmp in the string.h header instead of}}
\DoxyCodeLine{367 \textcolor{comment}{// strings.h. string.h is already included.}}
\DoxyCodeLine{368 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{369 \textcolor{comment}{// This assumes that non-\/Windows OSes provide unistd.h. For OSes where this}}
\DoxyCodeLine{370 \textcolor{comment}{// is not the case, we need to include headers that provide the functions}}
\DoxyCodeLine{371 \textcolor{comment}{// mentioned above.}}
\DoxyCodeLine{372 \textcolor{preprocessor}{\#include <strings.h>}}
\DoxyCodeLine{373 \textcolor{preprocessor}{\#include <unistd.h>}}
\DoxyCodeLine{374 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{375 }
\DoxyCodeLine{376 \textcolor{preprocessor}{\#if GTEST\_OS\_LINUX\_ANDROID}}
\DoxyCodeLine{377 \textcolor{comment}{// Used to define \_\_ANDROID\_API\_\_ matching the target NDK API level.}}
\DoxyCodeLine{378 \textcolor{preprocessor}{\#include <android/api-\/level.h>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{379 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{380 }
\DoxyCodeLine{381 \textcolor{comment}{// Defines this to true if and only if Google Test can use POSIX regular}}
\DoxyCodeLine{382 \textcolor{comment}{// expressions.}}
\DoxyCodeLine{383 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_POSIX\_RE}}
\DoxyCodeLine{384 \textcolor{preprocessor}{\#if GTEST\_OS\_LINUX\_ANDROID}}
\DoxyCodeLine{385 \textcolor{comment}{// On Android, <regex.h> is only available starting with Gingerbread.}}
\DoxyCodeLine{386 \textcolor{preprocessor}{\#define GTEST\_HAS\_POSIX\_RE (\_\_ANDROID\_API\_\_ >= 9)}}
\DoxyCodeLine{387 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{388 \textcolor{preprocessor}{\#define GTEST\_HAS\_POSIX\_RE (!GTEST\_OS\_WINDOWS \&\& !GTEST\_OS\_XTENSA)}}
\DoxyCodeLine{389 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{390 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{391 }
\DoxyCodeLine{392 \textcolor{comment}{// Select the regular expression implementation.}}
\DoxyCodeLine{393 \textcolor{preprocessor}{\#if GTEST\_HAS\_ABSL}}
\DoxyCodeLine{394 \textcolor{comment}{// When using Abseil, RE2 is required.}}
\DoxyCodeLine{395 \textcolor{preprocessor}{\#include "{}absl/strings/string\_view.h"{}}}
\DoxyCodeLine{396 \textcolor{preprocessor}{\#include "{}re2/re2.h"{}}}
\DoxyCodeLine{397 \textcolor{preprocessor}{\#define GTEST\_USES\_RE2 1}}
\DoxyCodeLine{398 \textcolor{preprocessor}{\#elif GTEST\_HAS\_POSIX\_RE}}
\DoxyCodeLine{399 \textcolor{preprocessor}{\#include <regex.h>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{400 \textcolor{preprocessor}{\#define GTEST\_USES\_POSIX\_RE 1}}
\DoxyCodeLine{401 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{402 \textcolor{comment}{// Use our own simple regex implementation.}}
\DoxyCodeLine{403 \textcolor{preprocessor}{\#define GTEST\_USES\_SIMPLE\_RE 1}}
\DoxyCodeLine{404 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{405 }
\DoxyCodeLine{406 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_EXCEPTIONS}}
\DoxyCodeLine{407 \textcolor{comment}{// The user didn't tell us whether exceptions are enabled, so we need}}
\DoxyCodeLine{408 \textcolor{comment}{// to figure it out.}}
\DoxyCodeLine{409 \textcolor{preprocessor}{\#if defined(\_MSC\_VER) \&\& defined(\_CPPUNWIND)}}
\DoxyCodeLine{410 \textcolor{comment}{// MSVC defines \_CPPUNWIND to 1 if and only if exceptions are enabled.}}
\DoxyCodeLine{411 \textcolor{preprocessor}{\#define GTEST\_HAS\_EXCEPTIONS 1}}
\DoxyCodeLine{412 \textcolor{preprocessor}{\#elif defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{413 \textcolor{comment}{// C++Builder's implementation of the STL uses the \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{414 \textcolor{comment}{// macro to enable exceptions, so we'll do the same.}}
\DoxyCodeLine{415 \textcolor{comment}{// Assumes that exceptions are enabled by default.}}
\DoxyCodeLine{416 \textcolor{preprocessor}{\#ifndef \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{417 \textcolor{preprocessor}{\#define \_HAS\_EXCEPTIONS 1}}
\DoxyCodeLine{418 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{419 \textcolor{preprocessor}{\#define GTEST\_HAS\_EXCEPTIONS \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{420 \textcolor{preprocessor}{\#elif defined(\_\_clang\_\_)}}
\DoxyCodeLine{421 \textcolor{comment}{// clang defines \_\_EXCEPTIONS if and only if exceptions are enabled before clang}}
\DoxyCodeLine{422 \textcolor{comment}{// 220714, but if and only if cleanups are enabled after that. In Obj-\/C++ files,}}
\DoxyCodeLine{423 \textcolor{comment}{// there can be cleanups for ObjC exceptions which also need cleanups, even if}}
\DoxyCodeLine{424 \textcolor{comment}{// C++ exceptions are disabled. clang has \_\_has\_feature(cxx\_exceptions) which}}
\DoxyCodeLine{425 \textcolor{comment}{// checks for C++ exceptions starting at clang r206352, but which checked for}}
\DoxyCodeLine{426 \textcolor{comment}{// cleanups prior to that. To reliably check for C++ exception availability with}}
\DoxyCodeLine{427 \textcolor{comment}{// clang, check for}}
\DoxyCodeLine{428 \textcolor{comment}{// \_\_EXCEPTIONS \&\& \_\_has\_feature(cxx\_exceptions).}}
\DoxyCodeLine{429 \textcolor{preprocessor}{\#define GTEST\_HAS\_EXCEPTIONS (\_\_EXCEPTIONS \&\& \_\_has\_feature(cxx\_exceptions))}}
\DoxyCodeLine{430 \textcolor{preprocessor}{\#elif defined(\_\_GNUC\_\_) \&\& \_\_EXCEPTIONS}}
\DoxyCodeLine{431 \textcolor{comment}{// gcc defines \_\_EXCEPTIONS to 1 if and only if exceptions are enabled.}}
\DoxyCodeLine{432 \textcolor{preprocessor}{\#define GTEST\_HAS\_EXCEPTIONS 1}}
\DoxyCodeLine{433 \textcolor{preprocessor}{\#elif defined(\_\_SUNPRO\_CC)}}
\DoxyCodeLine{434 \textcolor{comment}{// Sun Pro CC supports exceptions.  However, there is no compile-\/time way of}}
\DoxyCodeLine{435 \textcolor{comment}{// detecting whether they are enabled or not.  Therefore, we assume that}}
\DoxyCodeLine{436 \textcolor{comment}{// they are enabled unless the user tells us otherwise.}}
\DoxyCodeLine{437 \textcolor{preprocessor}{\#define GTEST\_HAS\_EXCEPTIONS 1}}
\DoxyCodeLine{438 \textcolor{preprocessor}{\#elif defined(\_\_IBMCPP\_\_) \&\& \_\_EXCEPTIONS}}
\DoxyCodeLine{439 \textcolor{comment}{// xlC defines \_\_EXCEPTIONS to 1 if and only if exceptions are enabled.}}
\DoxyCodeLine{440 \textcolor{preprocessor}{\#define GTEST\_HAS\_EXCEPTIONS 1}}
\DoxyCodeLine{441 \textcolor{preprocessor}{\#elif defined(\_\_HP\_aCC)}}
\DoxyCodeLine{442 \textcolor{comment}{// Exception handling is in effect by default in HP aCC compiler. It has to}}
\DoxyCodeLine{443 \textcolor{comment}{// be turned of by +noeh compiler option if desired.}}
\DoxyCodeLine{444 \textcolor{preprocessor}{\#define GTEST\_HAS\_EXCEPTIONS 1}}
\DoxyCodeLine{445 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{446 \textcolor{comment}{// For other compilers, we assume exceptions are disabled to be}}
\DoxyCodeLine{447 \textcolor{comment}{// conservative.}}
\DoxyCodeLine{448 \textcolor{preprocessor}{\#define GTEST\_HAS\_EXCEPTIONS 0}}
\DoxyCodeLine{449 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// defined(\_MSC\_VER) || defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{450 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_EXCEPTIONS}}
\DoxyCodeLine{451 }
\DoxyCodeLine{452 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_STD\_WSTRING}}
\DoxyCodeLine{453 \textcolor{comment}{// The user didn't tell us whether ::std::wstring is available, so we need}}
\DoxyCodeLine{454 \textcolor{comment}{// to figure it out.}}
\DoxyCodeLine{455 \textcolor{comment}{// Cygwin 1.7 and below doesn't support ::std::wstring.}}
\DoxyCodeLine{456 \textcolor{comment}{// Solaris' libc++ doesn't support it either.  Android has}}
\DoxyCodeLine{457 \textcolor{comment}{// no support for it at least as recent as Froyo (2.2).}}
\DoxyCodeLine{458 \textcolor{preprocessor}{\#define GTEST\_HAS\_STD\_WSTRING                                         \(\backslash\)}}
\DoxyCodeLine{459 \textcolor{preprocessor}{  (!(GTEST\_OS\_LINUX\_ANDROID || GTEST\_OS\_CYGWIN || GTEST\_OS\_SOLARIS || \(\backslash\)}}
\DoxyCodeLine{460 \textcolor{preprocessor}{     GTEST\_OS\_HAIKU || GTEST\_OS\_ESP32 || GTEST\_OS\_ESP8266 || GTEST\_OS\_XTENSA))}}
\DoxyCodeLine{461 }
\DoxyCodeLine{462 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_STD\_WSTRING}}
\DoxyCodeLine{463 }
\DoxyCodeLine{464 \textcolor{comment}{// Determines whether RTTI is available.}}
\DoxyCodeLine{465 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_RTTI}}
\DoxyCodeLine{466 \textcolor{comment}{// The user didn't tell us whether RTTI is enabled, so we need to}}
\DoxyCodeLine{467 \textcolor{comment}{// figure it out.}}
\DoxyCodeLine{468 }
\DoxyCodeLine{469 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{470 }
\DoxyCodeLine{471 \textcolor{preprocessor}{\#ifdef \_CPPRTTI  }\textcolor{comment}{// MSVC defines this macro if and only if RTTI is enabled.}}
\DoxyCodeLine{472 \textcolor{preprocessor}{\#define GTEST\_HAS\_RTTI 1}}
\DoxyCodeLine{473 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{474 \textcolor{preprocessor}{\#define GTEST\_HAS\_RTTI 0}}
\DoxyCodeLine{475 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{476 }
\DoxyCodeLine{477 \textcolor{comment}{// Starting with version 4.3.2, gcc defines \_\_GXX\_RTTI if and only if RTTI is}}
\DoxyCodeLine{478 \textcolor{comment}{// enabled.}}
\DoxyCodeLine{479 \textcolor{preprocessor}{\#elif defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{480 }
\DoxyCodeLine{481 \textcolor{preprocessor}{\#ifdef \_\_GXX\_RTTI}}
\DoxyCodeLine{482 \textcolor{comment}{// When building against STLport with the Android NDK and with}}
\DoxyCodeLine{483 \textcolor{comment}{// -\/frtti -\/fno-\/exceptions, the build fails at link time with undefined}}
\DoxyCodeLine{484 \textcolor{comment}{// references to \_\_cxa\_bad\_typeid. Note sure if STL or toolchain bug,}}
\DoxyCodeLine{485 \textcolor{comment}{// so disable RTTI when detected.}}
\DoxyCodeLine{486 \textcolor{preprocessor}{\#if GTEST\_OS\_LINUX\_ANDROID \&\& defined(\_STLPORT\_MAJOR) \&\& !defined(\_\_EXCEPTIONS)}}
\DoxyCodeLine{487 \textcolor{preprocessor}{\#define GTEST\_HAS\_RTTI 0}}
\DoxyCodeLine{488 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{489 \textcolor{preprocessor}{\#define GTEST\_HAS\_RTTI 1}}
\DoxyCodeLine{490 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_LINUX\_ANDROID \&\& \_\_STLPORT\_MAJOR \&\& !\_\_EXCEPTIONS}}
\DoxyCodeLine{491 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{492 \textcolor{preprocessor}{\#define GTEST\_HAS\_RTTI 0}}
\DoxyCodeLine{493 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_GXX\_RTTI}}
\DoxyCodeLine{494 }
\DoxyCodeLine{495 \textcolor{comment}{// Clang defines \_\_GXX\_RTTI starting with version 3.0, but its manual recommends}}
\DoxyCodeLine{496 \textcolor{comment}{// using has\_feature instead. has\_feature(cxx\_rtti) is supported since 2.7, the}}
\DoxyCodeLine{497 \textcolor{comment}{// first version with C++ support.}}
\DoxyCodeLine{498 \textcolor{preprocessor}{\#elif defined(\_\_clang\_\_)}}
\DoxyCodeLine{499 }
\DoxyCodeLine{500 \textcolor{preprocessor}{\#define GTEST\_HAS\_RTTI \_\_has\_feature(cxx\_rtti)}}
\DoxyCodeLine{501 }
\DoxyCodeLine{502 \textcolor{comment}{// Starting with version 9.0 IBM Visual Age defines \_\_RTTI\_ALL\_\_ to 1 if}}
\DoxyCodeLine{503 \textcolor{comment}{// both the typeid and dynamic\_cast features are present.}}
\DoxyCodeLine{504 \textcolor{preprocessor}{\#elif defined(\_\_IBMCPP\_\_) \&\& (\_\_IBMCPP\_\_ >= 900)}}
\DoxyCodeLine{505 }
\DoxyCodeLine{506 \textcolor{preprocessor}{\#ifdef \_\_RTTI\_ALL\_\_}}
\DoxyCodeLine{507 \textcolor{preprocessor}{\#define GTEST\_HAS\_RTTI 1}}
\DoxyCodeLine{508 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{509 \textcolor{preprocessor}{\#define GTEST\_HAS\_RTTI 0}}
\DoxyCodeLine{510 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{511 }
\DoxyCodeLine{512 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{513 }
\DoxyCodeLine{514 \textcolor{comment}{// For all other compilers, we assume RTTI is enabled.}}
\DoxyCodeLine{515 \textcolor{preprocessor}{\#define GTEST\_HAS\_RTTI 1}}
\DoxyCodeLine{516 }
\DoxyCodeLine{517 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_MSC\_VER}}
\DoxyCodeLine{518 }
\DoxyCodeLine{519 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_RTTI}}
\DoxyCodeLine{520 }
\DoxyCodeLine{521 \textcolor{comment}{// It's this header's responsibility to \#include <typeinfo> when RTTI}}
\DoxyCodeLine{522 \textcolor{comment}{// is enabled.}}
\DoxyCodeLine{523 \textcolor{preprocessor}{\#if GTEST\_HAS\_RTTI}}
\DoxyCodeLine{524 \textcolor{preprocessor}{\#include <typeinfo>}}
\DoxyCodeLine{525 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{526 }
\DoxyCodeLine{527 \textcolor{comment}{// Determines whether Google Test can use the pthreads library.}}
\DoxyCodeLine{528 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{529 \textcolor{comment}{// The user didn't tell us explicitly, so we make reasonable assumptions about}}
\DoxyCodeLine{530 \textcolor{comment}{// which platforms have pthreads support.}}
\DoxyCodeLine{531 \textcolor{comment}{//}}
\DoxyCodeLine{532 \textcolor{comment}{// To disable threading support in Google Test, add -\/DGTEST\_HAS\_PTHREAD=0}}
\DoxyCodeLine{533 \textcolor{comment}{// to your compiler flags.}}
\DoxyCodeLine{534 \textcolor{preprocessor}{\#define GTEST\_HAS\_PTHREAD                                                      \(\backslash\)}}
\DoxyCodeLine{535 \textcolor{preprocessor}{  (GTEST\_OS\_LINUX || GTEST\_OS\_MAC || GTEST\_OS\_HPUX || GTEST\_OS\_QNX ||          \(\backslash\)}}
\DoxyCodeLine{536 \textcolor{preprocessor}{   GTEST\_OS\_FREEBSD || GTEST\_OS\_NACL || GTEST\_OS\_NETBSD || GTEST\_OS\_FUCHSIA || \(\backslash\)}}
\DoxyCodeLine{537 \textcolor{preprocessor}{   GTEST\_OS\_DRAGONFLY || GTEST\_OS\_GNU\_KFREEBSD || GTEST\_OS\_OPENBSD ||          \(\backslash\)}}
\DoxyCodeLine{538 \textcolor{preprocessor}{   GTEST\_OS\_HAIKU || GTEST\_OS\_GNU\_HURD)}}
\DoxyCodeLine{539 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{540 }
\DoxyCodeLine{541 \textcolor{preprocessor}{\#if GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{542 \textcolor{comment}{// gtest-\/port.h guarantees to \#include <pthread.h> when GTEST\_HAS\_PTHREAD is}}
\DoxyCodeLine{543 \textcolor{comment}{// true.}}
\DoxyCodeLine{544 \textcolor{preprocessor}{\#include <pthread.h>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{545 }
\DoxyCodeLine{546 \textcolor{comment}{// For timespec and nanosleep, used below.}}
\DoxyCodeLine{547 \textcolor{preprocessor}{\#include <time.h>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{548 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{549 }
\DoxyCodeLine{550 \textcolor{comment}{// Determines whether clone(2) is supported.}}
\DoxyCodeLine{551 \textcolor{comment}{// Usually it will only be available on Linux, excluding}}
\DoxyCodeLine{552 \textcolor{comment}{// Linux on the Itanium architecture.}}
\DoxyCodeLine{553 \textcolor{comment}{// Also see http://linux.die.net/man/2/clone.}}
\DoxyCodeLine{554 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_CLONE}}
\DoxyCodeLine{555 \textcolor{comment}{// The user didn't tell us, so we need to figure it out.}}
\DoxyCodeLine{556 }
\DoxyCodeLine{557 \textcolor{preprocessor}{\#if GTEST\_OS\_LINUX \&\& !defined(\_\_ia64\_\_)}}
\DoxyCodeLine{558 \textcolor{preprocessor}{\#if GTEST\_OS\_LINUX\_ANDROID}}
\DoxyCodeLine{559 \textcolor{comment}{// On Android, clone() became available at different API levels for each 32-\/bit}}
\DoxyCodeLine{560 \textcolor{comment}{// architecture.}}
\DoxyCodeLine{561 \textcolor{preprocessor}{\#if defined(\_\_LP64\_\_) || (defined(\_\_arm\_\_) \&\& \_\_ANDROID\_API\_\_ >= 9) || \(\backslash\)}}
\DoxyCodeLine{562 \textcolor{preprocessor}{    (defined(\_\_mips\_\_) \&\& \_\_ANDROID\_API\_\_ >= 12) ||                    \(\backslash\)}}
\DoxyCodeLine{563 \textcolor{preprocessor}{    (defined(\_\_i386\_\_) \&\& \_\_ANDROID\_API\_\_ >= 17)}}
\DoxyCodeLine{564 \textcolor{preprocessor}{\#define GTEST\_HAS\_CLONE 1}}
\DoxyCodeLine{565 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{566 \textcolor{preprocessor}{\#define GTEST\_HAS\_CLONE 0}}
\DoxyCodeLine{567 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{568 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{569 \textcolor{preprocessor}{\#define GTEST\_HAS\_CLONE 1}}
\DoxyCodeLine{570 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{571 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{572 \textcolor{preprocessor}{\#define GTEST\_HAS\_CLONE 0}}
\DoxyCodeLine{573 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_LINUX \&\& !defined(\_\_ia64\_\_)}}
\DoxyCodeLine{574 }
\DoxyCodeLine{575 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_CLONE}}
\DoxyCodeLine{576 }
\DoxyCodeLine{577 \textcolor{comment}{// Determines whether to support stream redirection. This is used to test}}
\DoxyCodeLine{578 \textcolor{comment}{// output correctness and to implement death tests.}}
\DoxyCodeLine{579 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{580 \textcolor{comment}{// By default, we assume that stream redirection is supported on all}}
\DoxyCodeLine{581 \textcolor{comment}{// platforms except known mobile ones.}}
\DoxyCodeLine{582 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS\_MOBILE || GTEST\_OS\_WINDOWS\_PHONE || \(\backslash\)}}
\DoxyCodeLine{583 \textcolor{preprocessor}{    GTEST\_OS\_WINDOWS\_RT || GTEST\_OS\_ESP8266 || GTEST\_OS\_XTENSA}}
\DoxyCodeLine{584 \textcolor{preprocessor}{\#define GTEST\_HAS\_STREAM\_REDIRECTION 0}}
\DoxyCodeLine{585 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{586 \textcolor{preprocessor}{\#define GTEST\_HAS\_STREAM\_REDIRECTION 1}}
\DoxyCodeLine{587 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{588 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{589 }
\DoxyCodeLine{590 \textcolor{comment}{// Determines whether to support death tests.}}
\DoxyCodeLine{591 \textcolor{comment}{// pops up a dialog window that cannot be suppressed programmatically.}}
\DoxyCodeLine{592 \textcolor{preprocessor}{\#if (GTEST\_OS\_LINUX || GTEST\_OS\_CYGWIN || GTEST\_OS\_SOLARIS ||             \(\backslash\)}}
\DoxyCodeLine{593 \textcolor{preprocessor}{     (GTEST\_OS\_MAC \&\& !GTEST\_OS\_IOS) ||                                   \(\backslash\)}}
\DoxyCodeLine{594 \textcolor{preprocessor}{     (GTEST\_OS\_WINDOWS\_DESKTOP \&\& \_MSC\_VER) || GTEST\_OS\_WINDOWS\_MINGW ||  \(\backslash\)}}
\DoxyCodeLine{595 \textcolor{preprocessor}{     GTEST\_OS\_AIX || GTEST\_OS\_HPUX || GTEST\_OS\_OPENBSD || GTEST\_OS\_QNX || \(\backslash\)}}
\DoxyCodeLine{596 \textcolor{preprocessor}{     GTEST\_OS\_FREEBSD || GTEST\_OS\_NETBSD || GTEST\_OS\_FUCHSIA ||           \(\backslash\)}}
\DoxyCodeLine{597 \textcolor{preprocessor}{     GTEST\_OS\_DRAGONFLY || GTEST\_OS\_GNU\_KFREEBSD || GTEST\_OS\_HAIKU ||     \(\backslash\)}}
\DoxyCodeLine{598 \textcolor{preprocessor}{     GTEST\_OS\_GNU\_HURD)}}
\DoxyCodeLine{599 \textcolor{preprocessor}{\#define GTEST\_HAS\_DEATH\_TEST 1}}
\DoxyCodeLine{600 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{601 }
\DoxyCodeLine{602 \textcolor{comment}{// Determines whether to support type-\/driven tests.}}
\DoxyCodeLine{603 }
\DoxyCodeLine{604 \textcolor{comment}{// Typed tests need <typeinfo> and variadic macros, which GCC, VC++ 8.0,}}
\DoxyCodeLine{605 \textcolor{comment}{// Sun Pro CC, IBM Visual Age, and HP aCC support.}}
\DoxyCodeLine{606 \textcolor{preprocessor}{\#if defined(\_\_GNUC\_\_) || defined(\_MSC\_VER) || defined(\_\_SUNPRO\_CC) || \(\backslash\)}}
\DoxyCodeLine{607 \textcolor{preprocessor}{    defined(\_\_IBMCPP\_\_) || defined(\_\_HP\_aCC)}}
\DoxyCodeLine{608 \textcolor{preprocessor}{\#define GTEST\_HAS\_TYPED\_TEST 1}}
\DoxyCodeLine{609 \textcolor{preprocessor}{\#define GTEST\_HAS\_TYPED\_TEST\_P 1}}
\DoxyCodeLine{610 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{611 }
\DoxyCodeLine{612 \textcolor{comment}{// Determines whether the system compiler uses UTF-\/16 for encoding wide strings.}}
\DoxyCodeLine{613 \textcolor{preprocessor}{\#define GTEST\_WIDE\_STRING\_USES\_UTF16\_ \(\backslash\)}}
\DoxyCodeLine{614 \textcolor{preprocessor}{  (GTEST\_OS\_WINDOWS || GTEST\_OS\_CYGWIN || GTEST\_OS\_AIX || GTEST\_OS\_OS2)}}
\DoxyCodeLine{615 }
\DoxyCodeLine{616 \textcolor{comment}{// Determines whether test results can be streamed to a socket.}}
\DoxyCodeLine{617 \textcolor{preprocessor}{\#if GTEST\_OS\_LINUX || GTEST\_OS\_GNU\_KFREEBSD || GTEST\_OS\_DRAGONFLY || \(\backslash\)}}
\DoxyCodeLine{618 \textcolor{preprocessor}{    GTEST\_OS\_FREEBSD || GTEST\_OS\_NETBSD || GTEST\_OS\_OPENBSD ||       \(\backslash\)}}
\DoxyCodeLine{619 \textcolor{preprocessor}{    GTEST\_OS\_GNU\_HURD}}
\DoxyCodeLine{620 \textcolor{preprocessor}{\#define GTEST\_CAN\_STREAM\_RESULTS\_ 1}}
\DoxyCodeLine{621 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{622 }
\DoxyCodeLine{623 \textcolor{comment}{// Defines some utility macros.}}
\DoxyCodeLine{624 }
\DoxyCodeLine{625 \textcolor{comment}{// The GNU compiler emits a warning if nested "{}if"{} statements are followed by}}
\DoxyCodeLine{626 \textcolor{comment}{// an "{}else"{} statement and braces are not used to explicitly disambiguate the}}
\DoxyCodeLine{627 \textcolor{comment}{// "{}else"{} binding.  This leads to problems with code like:}}
\DoxyCodeLine{628 \textcolor{comment}{//}}
\DoxyCodeLine{629 \textcolor{comment}{//   if (gate)}}
\DoxyCodeLine{630 \textcolor{comment}{//     ASSERT\_*(condition) << "{}Some message"{};}}
\DoxyCodeLine{631 \textcolor{comment}{//}}
\DoxyCodeLine{632 \textcolor{comment}{// The "{}switch (0) case 0:"{} idiom is used to suppress this.}}
\DoxyCodeLine{633 \textcolor{preprocessor}{\#ifdef \_\_INTEL\_COMPILER}}
\DoxyCodeLine{634 \textcolor{preprocessor}{\#define GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_}}
\DoxyCodeLine{635 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{636 \textcolor{preprocessor}{\#define GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_ \(\backslash\)}}
\DoxyCodeLine{637 \textcolor{preprocessor}{  switch (0)                          \(\backslash\)}}
\DoxyCodeLine{638 \textcolor{preprocessor}{  case 0:                             \(\backslash\)}}
\DoxyCodeLine{639 \textcolor{preprocessor}{  default:  }\textcolor{comment}{// NOLINT}}
\DoxyCodeLine{640 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{641 }
\DoxyCodeLine{642 \textcolor{comment}{// Use this annotation at the end of a struct/class definition to}}
\DoxyCodeLine{643 \textcolor{comment}{// prevent the compiler from optimizing away instances that are never}}
\DoxyCodeLine{644 \textcolor{comment}{// used.  This is useful when all interesting logic happens inside the}}
\DoxyCodeLine{645 \textcolor{comment}{// c'tor and / or d'tor.  Example:}}
\DoxyCodeLine{646 \textcolor{comment}{//}}
\DoxyCodeLine{647 \textcolor{comment}{//   struct Foo \{}}
\DoxyCodeLine{648 \textcolor{comment}{//     Foo() \{ ... \}}}
\DoxyCodeLine{649 \textcolor{comment}{//   \} GTEST\_ATTRIBUTE\_UNUSED\_;}}
\DoxyCodeLine{650 \textcolor{comment}{//}}
\DoxyCodeLine{651 \textcolor{comment}{// Also use it after a variable or parameter declaration to tell the}}
\DoxyCodeLine{652 \textcolor{comment}{// compiler the variable/parameter does not have to be used.}}
\DoxyCodeLine{653 \textcolor{preprocessor}{\#if defined(\_\_GNUC\_\_) \&\& !defined(COMPILER\_ICC)}}
\DoxyCodeLine{654 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_UNUSED\_ \_\_attribute\_\_((unused))}}
\DoxyCodeLine{655 \textcolor{preprocessor}{\#elif defined(\_\_clang\_\_)}}
\DoxyCodeLine{656 \textcolor{preprocessor}{\#if \_\_has\_attribute(unused)}}
\DoxyCodeLine{657 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_UNUSED\_ \_\_attribute\_\_((unused))}}
\DoxyCodeLine{658 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{659 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{660 \textcolor{preprocessor}{\#ifndef GTEST\_ATTRIBUTE\_UNUSED\_}}
\DoxyCodeLine{661 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_UNUSED\_}}
\DoxyCodeLine{662 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{663 }
\DoxyCodeLine{664 \textcolor{comment}{// Use this annotation before a function that takes a printf format string.}}
\DoxyCodeLine{665 \textcolor{preprocessor}{\#if (defined(\_\_GNUC\_\_) || defined(\_\_clang\_\_)) \&\& !defined(COMPILER\_ICC)}}
\DoxyCodeLine{666 \textcolor{preprocessor}{\#if defined(\_\_MINGW\_PRINTF\_FORMAT)}}
\DoxyCodeLine{667 \textcolor{comment}{// MinGW has two different printf implementations. Ensure the format macro}}
\DoxyCodeLine{668 \textcolor{comment}{// matches the selected implementation. See}}
\DoxyCodeLine{669 \textcolor{comment}{// https://sourceforge.net/p/mingw-\/w64/wiki2/gnu\%20printf/.}}
\DoxyCodeLine{670 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_PRINTF\_(string\_index, first\_to\_check) \(\backslash\)}}
\DoxyCodeLine{671 \textcolor{preprocessor}{  \_\_attribute\_\_((                                             \(\backslash\)}}
\DoxyCodeLine{672 \textcolor{preprocessor}{      \_\_format\_\_(\_\_MINGW\_PRINTF\_FORMAT, string\_index, first\_to\_check)))}}
\DoxyCodeLine{673 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{674 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_PRINTF\_(string\_index, first\_to\_check) \(\backslash\)}}
\DoxyCodeLine{675 \textcolor{preprocessor}{  \_\_attribute\_\_((\_\_format\_\_(\_\_printf\_\_, string\_index, first\_to\_check)))}}
\DoxyCodeLine{676 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{677 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{678 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_PRINTF\_(string\_index, first\_to\_check)}}
\DoxyCodeLine{679 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{680 }
\DoxyCodeLine{681 \textcolor{comment}{// Tell the compiler to warn about unused return values for functions declared}}
\DoxyCodeLine{682 \textcolor{comment}{// with this macro.  The macro should be used on function declarations}}
\DoxyCodeLine{683 \textcolor{comment}{// following the argument list:}}
\DoxyCodeLine{684 \textcolor{comment}{//}}
\DoxyCodeLine{685 \textcolor{comment}{//   Sprocket* AllocateSprocket() GTEST\_MUST\_USE\_RESULT\_;}}
\DoxyCodeLine{686 \textcolor{preprocessor}{\#if defined(\_\_GNUC\_\_) \&\& !defined(COMPILER\_ICC)}}
\DoxyCodeLine{687 \textcolor{preprocessor}{\#define GTEST\_MUST\_USE\_RESULT\_ \_\_attribute\_\_((warn\_unused\_result))}}
\DoxyCodeLine{688 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{689 \textcolor{preprocessor}{\#define GTEST\_MUST\_USE\_RESULT\_}}
\DoxyCodeLine{690 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_GNUC\_\_ \&\& !COMPILER\_ICC}}
\DoxyCodeLine{691 }
\DoxyCodeLine{692 \textcolor{comment}{// MS C++ compiler emits warning when a conditional expression is compile time}}
\DoxyCodeLine{693 \textcolor{comment}{// constant. In some contexts this warning is false positive and needs to be}}
\DoxyCodeLine{694 \textcolor{comment}{// suppressed. Use the following two macros in such cases:}}
\DoxyCodeLine{695 \textcolor{comment}{//}}
\DoxyCodeLine{696 \textcolor{comment}{// GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_()}}
\DoxyCodeLine{697 \textcolor{comment}{// while (true) \{}}
\DoxyCodeLine{698 \textcolor{comment}{// GTEST\_INTENTIONAL\_CONST\_COND\_POP\_()}}
\DoxyCodeLine{699 \textcolor{comment}{// \}}}
\DoxyCodeLine{700 \textcolor{preprocessor}{\#define GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_() \(\backslash\)}}
\DoxyCodeLine{701 \textcolor{preprocessor}{  GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4127)}}
\DoxyCodeLine{702 \textcolor{preprocessor}{\#define GTEST\_INTENTIONAL\_CONST\_COND\_POP\_() GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{703 }
\DoxyCodeLine{704 \textcolor{comment}{// Determine whether the compiler supports Microsoft's Structured Exception}}
\DoxyCodeLine{705 \textcolor{comment}{// Handling.  This is supported by several Windows compilers but generally}}
\DoxyCodeLine{706 \textcolor{comment}{// does not exist on any other system.}}
\DoxyCodeLine{707 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_SEH}}
\DoxyCodeLine{708 \textcolor{comment}{// The user didn't tell us, so we need to figure it out.}}
\DoxyCodeLine{709 }
\DoxyCodeLine{710 \textcolor{preprocessor}{\#if defined(\_MSC\_VER) || defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{711 \textcolor{comment}{// These two compilers are known to support SEH.}}
\DoxyCodeLine{712 \textcolor{preprocessor}{\#define GTEST\_HAS\_SEH 1}}
\DoxyCodeLine{713 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{714 \textcolor{comment}{// Assume no SEH.}}
\DoxyCodeLine{715 \textcolor{preprocessor}{\#define GTEST\_HAS\_SEH 0}}
\DoxyCodeLine{716 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{717 }
\DoxyCodeLine{718 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_SEH}}
\DoxyCodeLine{719 }
\DoxyCodeLine{720 \textcolor{preprocessor}{\#ifndef GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{721 }
\DoxyCodeLine{722 \textcolor{preprocessor}{\#define GTEST\_IS\_THREADSAFE                                                 \(\backslash\)}}
\DoxyCodeLine{723 \textcolor{preprocessor}{  (GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_ ||                                     \(\backslash\)}}
\DoxyCodeLine{724 \textcolor{preprocessor}{   (GTEST\_OS\_WINDOWS \&\& !GTEST\_OS\_WINDOWS\_PHONE \&\& !GTEST\_OS\_WINDOWS\_RT) || \(\backslash\)}}
\DoxyCodeLine{725 \textcolor{preprocessor}{   GTEST\_HAS\_PTHREAD)}}
\DoxyCodeLine{726 }
\DoxyCodeLine{727 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{728 }
\DoxyCodeLine{729 \textcolor{preprocessor}{\#if GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{730 \textcolor{comment}{// Some platforms don't support including these threading related headers.}}
\DoxyCodeLine{731 \textcolor{preprocessor}{\#include <condition\_variable>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{732 \textcolor{preprocessor}{\#include <mutex>}               \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{733 \textcolor{preprocessor}{\#endif                         }\textcolor{comment}{// GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{734 }
\DoxyCodeLine{735 \textcolor{comment}{// GTEST\_API\_ qualifies all symbols that must be exported. The definitions below}}
\DoxyCodeLine{736 \textcolor{comment}{// are guarded by \#ifndef to give embedders a chance to define GTEST\_API\_ in}}
\DoxyCodeLine{737 \textcolor{comment}{// gtest/internal/custom/gtest-\/port.h}}
\DoxyCodeLine{738 \textcolor{preprocessor}{\#ifndef GTEST\_API\_}}
\DoxyCodeLine{739 }
\DoxyCodeLine{740 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{741 \textcolor{preprocessor}{\#if GTEST\_LINKED\_AS\_SHARED\_LIBRARY}}
\DoxyCodeLine{742 \textcolor{preprocessor}{\#define GTEST\_API\_ \_\_declspec(dllimport)}}
\DoxyCodeLine{743 \textcolor{preprocessor}{\#elif GTEST\_CREATE\_SHARED\_LIBRARY}}
\DoxyCodeLine{744 \textcolor{preprocessor}{\#define GTEST\_API\_ \_\_declspec(dllexport)}}
\DoxyCodeLine{745 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{746 \textcolor{preprocessor}{\#elif \_\_GNUC\_\_ >= 4 || defined(\_\_clang\_\_)}}
\DoxyCodeLine{747 \textcolor{preprocessor}{\#define GTEST\_API\_ \_\_attribute\_\_((visibility("{}default"{}})))}
\DoxyCodeLine{748 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_MSC\_VER}}
\DoxyCodeLine{749 }
\DoxyCodeLine{750 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_API\_}}
\DoxyCodeLine{751 }
\DoxyCodeLine{752 \textcolor{preprocessor}{\#ifndef GTEST\_API\_}}
\DoxyCodeLine{753 \textcolor{preprocessor}{\#define GTEST\_API\_}}
\DoxyCodeLine{754 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_API\_}}
\DoxyCodeLine{755 }
\DoxyCodeLine{756 \textcolor{preprocessor}{\#ifndef GTEST\_DEFAULT\_DEATH\_TEST\_STYLE}}
\DoxyCodeLine{757 \textcolor{preprocessor}{\#define GTEST\_DEFAULT\_DEATH\_TEST\_STYLE "{}fast"{}}}
\DoxyCodeLine{758 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_DEFAULT\_DEATH\_TEST\_STYLE}}
\DoxyCodeLine{759 }
\DoxyCodeLine{760 \textcolor{preprocessor}{\#ifdef \_\_GNUC\_\_}}
\DoxyCodeLine{761 \textcolor{comment}{// Ask the compiler to never inline a given function.}}
\DoxyCodeLine{762 \textcolor{preprocessor}{\#define GTEST\_NO\_INLINE\_ \_\_attribute\_\_((noinline))}}
\DoxyCodeLine{763 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{764 \textcolor{preprocessor}{\#define GTEST\_NO\_INLINE\_}}
\DoxyCodeLine{765 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{766 }
\DoxyCodeLine{767 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_)}}
\DoxyCodeLine{768 \textcolor{comment}{// Nested ifs to avoid triggering MSVC warning.}}
\DoxyCodeLine{769 \textcolor{preprocessor}{\#if \_\_has\_attribute(disable\_tail\_calls)}}
\DoxyCodeLine{770 \textcolor{comment}{// Ask the compiler not to perform tail call optimization inside}}
\DoxyCodeLine{771 \textcolor{comment}{// the marked function.}}
\DoxyCodeLine{772 \textcolor{preprocessor}{\#define GTEST\_NO\_TAIL\_CALL\_ \_\_attribute\_\_((disable\_tail\_calls))}}
\DoxyCodeLine{773 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{774 \textcolor{preprocessor}{\#elif \_\_GNUC\_\_}}
\DoxyCodeLine{775 \textcolor{preprocessor}{\#define GTEST\_NO\_TAIL\_CALL\_ \(\backslash\)}}
\DoxyCodeLine{776 \textcolor{preprocessor}{  \_\_attribute\_\_((optimize("{}no-\/optimize-\/sibling-\/calls"{}})))}
\DoxyCodeLine{777 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{778 \textcolor{preprocessor}{\#define GTEST\_NO\_TAIL\_CALL\_}}
\DoxyCodeLine{779 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{780 }
\DoxyCodeLine{781 \textcolor{comment}{// \_LIBCPP\_VERSION is defined by the libc++ library from the LLVM project.}}
\DoxyCodeLine{782 \textcolor{preprocessor}{\#if !defined(GTEST\_HAS\_CXXABI\_H\_)}}
\DoxyCodeLine{783 \textcolor{preprocessor}{\#if defined(\_\_GLIBCXX\_\_) || (defined(\_LIBCPP\_VERSION) \&\& !defined(\_MSC\_VER))}}
\DoxyCodeLine{784 \textcolor{preprocessor}{\#define GTEST\_HAS\_CXXABI\_H\_ 1}}
\DoxyCodeLine{785 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{786 \textcolor{preprocessor}{\#define GTEST\_HAS\_CXXABI\_H\_ 0}}
\DoxyCodeLine{787 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{788 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{789 }
\DoxyCodeLine{790 \textcolor{comment}{// A function level attribute to disable checking for use of uninitialized}}
\DoxyCodeLine{791 \textcolor{comment}{// memory when built with MemorySanitizer.}}
\DoxyCodeLine{792 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_)}}
\DoxyCodeLine{793 \textcolor{preprocessor}{\#if \_\_has\_feature(memory\_sanitizer)}}
\DoxyCodeLine{794 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_ \_\_attribute\_\_((no\_sanitize\_memory))}}
\DoxyCodeLine{795 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{796 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_}}
\DoxyCodeLine{797 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_has\_feature(memory\_sanitizer)}}
\DoxyCodeLine{798 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{799 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_}}
\DoxyCodeLine{800 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_clang\_\_}}
\DoxyCodeLine{801 }
\DoxyCodeLine{802 \textcolor{comment}{// A function level attribute to disable AddressSanitizer instrumentation.}}
\DoxyCodeLine{803 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_)}}
\DoxyCodeLine{804 \textcolor{preprocessor}{\#if \_\_has\_feature(address\_sanitizer)}}
\DoxyCodeLine{805 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_ \(\backslash\)}}
\DoxyCodeLine{806 \textcolor{preprocessor}{  \_\_attribute\_\_((no\_sanitize\_address))}}
\DoxyCodeLine{807 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{808 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_}}
\DoxyCodeLine{809 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_has\_feature(address\_sanitizer)}}
\DoxyCodeLine{810 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{811 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_}}
\DoxyCodeLine{812 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_clang\_\_}}
\DoxyCodeLine{813 }
\DoxyCodeLine{814 \textcolor{comment}{// A function level attribute to disable HWAddressSanitizer instrumentation.}}
\DoxyCodeLine{815 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_)}}
\DoxyCodeLine{816 \textcolor{preprocessor}{\#if \_\_has\_feature(hwaddress\_sanitizer)}}
\DoxyCodeLine{817 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_HWADDRESS\_ \(\backslash\)}}
\DoxyCodeLine{818 \textcolor{preprocessor}{  \_\_attribute\_\_((no\_sanitize("{}hwaddress"{}})))}
\DoxyCodeLine{819 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{820 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_HWADDRESS\_}}
\DoxyCodeLine{821 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_has\_feature(hwaddress\_sanitizer)}}
\DoxyCodeLine{822 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{823 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_HWADDRESS\_}}
\DoxyCodeLine{824 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_clang\_\_}}
\DoxyCodeLine{825 }
\DoxyCodeLine{826 \textcolor{comment}{// A function level attribute to disable ThreadSanitizer instrumentation.}}
\DoxyCodeLine{827 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_)}}
\DoxyCodeLine{828 \textcolor{preprocessor}{\#if \_\_has\_feature(thread\_sanitizer)}}
\DoxyCodeLine{829 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_ \_\_attribute\_\_((no\_sanitize\_thread))}}
\DoxyCodeLine{830 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{831 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_}}
\DoxyCodeLine{832 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_has\_feature(thread\_sanitizer)}}
\DoxyCodeLine{833 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{834 \textcolor{preprocessor}{\#define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_}}
\DoxyCodeLine{835 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_clang\_\_}}
\DoxyCodeLine{836 }
\DoxyCodeLine{837 \textcolor{keyword}{namespace }testing \{}
\DoxyCodeLine{838 }
\DoxyCodeLine{839 \textcolor{keyword}{class }Message;}
\DoxyCodeLine{840 }
\DoxyCodeLine{841 \textcolor{comment}{// Legacy imports for backwards compatibility.}}
\DoxyCodeLine{842 \textcolor{comment}{// New code should use std:: names directly.}}
\DoxyCodeLine{843 \textcolor{keyword}{using }std::get;}
\DoxyCodeLine{844 \textcolor{keyword}{using }std::make\_tuple;}
\DoxyCodeLine{845 \textcolor{keyword}{using }std::tuple;}
\DoxyCodeLine{846 \textcolor{keyword}{using }std::tuple\_element;}
\DoxyCodeLine{847 \textcolor{keyword}{using }std::tuple\_size;}
\DoxyCodeLine{848 }
\DoxyCodeLine{849 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{850 }
\DoxyCodeLine{851 \textcolor{comment}{// A secret type that Google Test users don't know about.  It has no}}
\DoxyCodeLine{852 \textcolor{comment}{// definition on purpose.  Therefore it's impossible to create a}}
\DoxyCodeLine{853 \textcolor{comment}{// Secret object, which is what we want.}}
\DoxyCodeLine{854 \textcolor{keyword}{class }Secret;}
\DoxyCodeLine{855 }
\DoxyCodeLine{856 \textcolor{comment}{// A helper for suppressing warnings on constant condition.  It just}}
\DoxyCodeLine{857 \textcolor{comment}{// returns 'condition'.}}
\DoxyCodeLine{858 GTEST\_API\_ \textcolor{keywordtype}{bool} IsTrue(\textcolor{keywordtype}{bool} condition);}
\DoxyCodeLine{859 }
\DoxyCodeLine{860 \textcolor{comment}{// Defines RE.}}
\DoxyCodeLine{861 }
\DoxyCodeLine{862 \textcolor{preprocessor}{\#if GTEST\_USES\_RE2}}
\DoxyCodeLine{863 }
\DoxyCodeLine{864 \textcolor{comment}{// This is almost `using RE = ::RE2`, except it is copy-\/constructible, and it}}
\DoxyCodeLine{865 \textcolor{comment}{// needs to disambiguate the `std::string`, `absl::string\_view`, and `const}}
\DoxyCodeLine{866 \textcolor{comment}{// char*` constructors.}}
\DoxyCodeLine{867 \textcolor{keyword}{class }GTEST\_API\_ RE \{}
\DoxyCodeLine{868  \textcolor{keyword}{public}:}
\DoxyCodeLine{869   RE(absl::string\_view regex) : regex\_(regex) \{\}                  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{870   RE(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* regex) : RE(absl::string\_view(regex)) \{\}         \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{871   RE(\textcolor{keyword}{const} std::string\& regex) : RE(absl::string\_view(regex)) \{\}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{872   RE(\textcolor{keyword}{const} RE\& other) : RE(other.pattern()) \{\}}
\DoxyCodeLine{873 }
\DoxyCodeLine{874   \textcolor{keyword}{const} std::string\& pattern()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} regex\_.pattern(); \}}
\DoxyCodeLine{875 }
\DoxyCodeLine{876   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} FullMatch(absl::string\_view str, \textcolor{keyword}{const} RE\& re) \{}
\DoxyCodeLine{877     \textcolor{keywordflow}{return} RE2::FullMatch(str, re.regex\_);}
\DoxyCodeLine{878   \}}
\DoxyCodeLine{879   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} PartialMatch(absl::string\_view str, \textcolor{keyword}{const} RE\& re) \{}
\DoxyCodeLine{880     \textcolor{keywordflow}{return} RE2::PartialMatch(str, re.regex\_);}
\DoxyCodeLine{881   \}}
\DoxyCodeLine{882 }
\DoxyCodeLine{883  \textcolor{keyword}{private}:}
\DoxyCodeLine{884   RE2 regex\_;}
\DoxyCodeLine{885 \};}
\DoxyCodeLine{886 }
\DoxyCodeLine{887 \textcolor{preprocessor}{\#elif GTEST\_USES\_POSIX\_RE || GTEST\_USES\_SIMPLE\_RE}}
\DoxyCodeLine{888 }
\DoxyCodeLine{889 \textcolor{comment}{// A simple C++ wrapper for <regex.h>.  It uses the POSIX Extended}}
\DoxyCodeLine{890 \textcolor{comment}{// Regular Expression syntax.}}
\DoxyCodeLine{891 \textcolor{keyword}{class }GTEST\_API\_ \mbox{\hyperlink{classtesting_1_1internal_1_1RE}{RE}} \{}
\DoxyCodeLine{892  \textcolor{keyword}{public}:}
\DoxyCodeLine{893   \textcolor{comment}{// A copy constructor is required by the Standard to initialize object}}
\DoxyCodeLine{894   \textcolor{comment}{// references from r-\/values.}}
\DoxyCodeLine{895   \mbox{\hyperlink{classtesting_1_1internal_1_1RE}{RE}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1RE}{RE}}\& other) \{ Init(other.pattern()); \}}
\DoxyCodeLine{896 }
\DoxyCodeLine{897   \textcolor{comment}{// Constructs an RE from a string.}}
\DoxyCodeLine{898   \mbox{\hyperlink{classtesting_1_1internal_1_1RE}{RE}}(const ::std::string\& regex) \{ Init(regex.c\_str()); \}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{899 }
\DoxyCodeLine{900   \mbox{\hyperlink{classtesting_1_1internal_1_1RE}{RE}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* regex) \{ Init(regex); \}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{901   \mbox{\hyperlink{classtesting_1_1internal_1_1RE}{\string~RE}}();}
\DoxyCodeLine{902 }
\DoxyCodeLine{903   \textcolor{comment}{// Returns the string representation of the regex.}}
\DoxyCodeLine{904   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* pattern()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} pattern\_; \}}
\DoxyCodeLine{905 }
\DoxyCodeLine{906   \textcolor{comment}{// FullMatch(str, re) returns true if and only if regular expression re}}
\DoxyCodeLine{907   \textcolor{comment}{// matches the entire str.}}
\DoxyCodeLine{908   \textcolor{comment}{// PartialMatch(str, re) returns true if and only if regular expression re}}
\DoxyCodeLine{909   \textcolor{comment}{// matches a substring of str (including str itself).}}
\DoxyCodeLine{910   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} FullMatch(const ::std::string\& str, \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1RE}{RE}}\& re) \{}
\DoxyCodeLine{911     \textcolor{keywordflow}{return} FullMatch(str.c\_str(), re);}
\DoxyCodeLine{912   \}}
\DoxyCodeLine{913   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} PartialMatch(const ::std::string\& str, \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1RE}{RE}}\& re) \{}
\DoxyCodeLine{914     \textcolor{keywordflow}{return} PartialMatch(str.c\_str(), re);}
\DoxyCodeLine{915   \}}
\DoxyCodeLine{916 }
\DoxyCodeLine{917   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} FullMatch(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* str, \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1RE}{RE}}\& re);}
\DoxyCodeLine{918   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} PartialMatch(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* str, \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1RE}{RE}}\& re);}
\DoxyCodeLine{919 }
\DoxyCodeLine{920  \textcolor{keyword}{private}:}
\DoxyCodeLine{921   \textcolor{keywordtype}{void} Init(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* regex);}
\DoxyCodeLine{922   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* pattern\_;}
\DoxyCodeLine{923   \textcolor{keywordtype}{bool} is\_valid\_;}
\DoxyCodeLine{924 }
\DoxyCodeLine{925 \textcolor{preprocessor}{\#if GTEST\_USES\_POSIX\_RE}}
\DoxyCodeLine{926 }
\DoxyCodeLine{927   regex\_t full\_regex\_;     \textcolor{comment}{// For FullMatch().}}
\DoxyCodeLine{928   regex\_t partial\_regex\_;  \textcolor{comment}{// For PartialMatch().}}
\DoxyCodeLine{929 }
\DoxyCodeLine{930 \textcolor{preprocessor}{\#else  }\textcolor{comment}{// GTEST\_USES\_SIMPLE\_RE}}
\DoxyCodeLine{931 }
\DoxyCodeLine{932   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* full\_pattern\_;  \textcolor{comment}{// For FullMatch();}}
\DoxyCodeLine{933 }
\DoxyCodeLine{934 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{935 \};}
\DoxyCodeLine{936 }
\DoxyCodeLine{937 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// ::testing::internal::RE implementation}}
\DoxyCodeLine{938 }
\DoxyCodeLine{939 \textcolor{comment}{// Formats a source file path and a line number as they would appear}}
\DoxyCodeLine{940 \textcolor{comment}{// in an error message from the compiler used to compile this code.}}
\DoxyCodeLine{941 GTEST\_API\_ ::std::string FormatFileLocation(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* file, \textcolor{keywordtype}{int} line);}
\DoxyCodeLine{942 }
\DoxyCodeLine{943 \textcolor{comment}{// Formats a file location for compiler-\/independent XML output.}}
\DoxyCodeLine{944 \textcolor{comment}{// Although this function is not platform dependent, we put it next to}}
\DoxyCodeLine{945 \textcolor{comment}{// FormatFileLocation in order to contrast the two functions.}}
\DoxyCodeLine{946 GTEST\_API\_ ::std::string FormatCompilerIndependentFileLocation(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* file,}
\DoxyCodeLine{947                                                                \textcolor{keywordtype}{int} line);}
\DoxyCodeLine{948 }
\DoxyCodeLine{949 \textcolor{comment}{// Defines logging utilities:}}
\DoxyCodeLine{950 \textcolor{comment}{//   GTEST\_LOG\_(severity) -\/ logs messages at the specified severity level. The}}
\DoxyCodeLine{951 \textcolor{comment}{//                          message itself is streamed into the macro.}}
\DoxyCodeLine{952 \textcolor{comment}{//   LogToStderr()  -\/ directs all log messages to stderr.}}
\DoxyCodeLine{953 \textcolor{comment}{//   FlushInfoLog() -\/ flushes informational log messages.}}
\DoxyCodeLine{954 }
\DoxyCodeLine{955 \textcolor{keyword}{enum} GTestLogSeverity \{ GTEST\_INFO, GTEST\_WARNING, GTEST\_ERROR, GTEST\_FATAL \};}
\DoxyCodeLine{956 }
\DoxyCodeLine{957 \textcolor{comment}{// Formats log entry severity, provides a stream object for streaming the}}
\DoxyCodeLine{958 \textcolor{comment}{// log message, and terminates the message with a newline when going out of}}
\DoxyCodeLine{959 \textcolor{comment}{// scope.}}
\DoxyCodeLine{960 \textcolor{keyword}{class }GTEST\_API\_ \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{GTestLog}} \{}
\DoxyCodeLine{961  \textcolor{keyword}{public}:}
\DoxyCodeLine{962   \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{GTestLog}}(GTestLogSeverity severity, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* file, \textcolor{keywordtype}{int} line);}
\DoxyCodeLine{963 }
\DoxyCodeLine{964   \textcolor{comment}{// Flushes the buffers and, if severity is GTEST\_FATAL, aborts the program.}}
\DoxyCodeLine{965   \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{\string~GTestLog}}();}
\DoxyCodeLine{966 }
\DoxyCodeLine{967   ::std::ostream\& GetStream() \{ return ::std::cerr; \}}
\DoxyCodeLine{968 }
\DoxyCodeLine{969  \textcolor{keyword}{private}:}
\DoxyCodeLine{970   \textcolor{keyword}{const} GTestLogSeverity severity\_;}
\DoxyCodeLine{971 }
\DoxyCodeLine{972   \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{GTestLog}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{GTestLog}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{973   \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{GTestLog}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1GTestLog}{GTestLog}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{974 \};}
\DoxyCodeLine{975 }
\DoxyCodeLine{976 \textcolor{preprocessor}{\#if !defined(GTEST\_LOG\_)}}
\DoxyCodeLine{977 }
\DoxyCodeLine{978 \textcolor{preprocessor}{\#define GTEST\_LOG\_(severity)                                           \(\backslash\)}}
\DoxyCodeLine{979 \textcolor{preprocessor}{  ::testing::internal::GTestLog(::testing::internal::GTEST\_\#\#severity, \(\backslash\)}}
\DoxyCodeLine{980 \textcolor{preprocessor}{                                \_\_FILE\_\_, \_\_LINE\_\_)                    \(\backslash\)}}
\DoxyCodeLine{981 \textcolor{preprocessor}{      .GetStream()}}
\DoxyCodeLine{982 }
\DoxyCodeLine{983 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} LogToStderr() \{\}}
\DoxyCodeLine{984 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} FlushInfoLog() \{ fflush(\textcolor{keyword}{nullptr}); \}}
\DoxyCodeLine{985 }
\DoxyCodeLine{986 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_LOG\_)}}
\DoxyCodeLine{987 }
\DoxyCodeLine{988 \textcolor{preprocessor}{\#if !defined(GTEST\_CHECK\_)}}
\DoxyCodeLine{989 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE.}}
\DoxyCodeLine{990 \textcolor{comment}{//}}
\DoxyCodeLine{991 \textcolor{comment}{// GTEST\_CHECK\_ is an all-\/mode assert. It aborts the program if the condition}}
\DoxyCodeLine{992 \textcolor{comment}{// is not satisfied.}}
\DoxyCodeLine{993 \textcolor{comment}{//  Synopsis:}}
\DoxyCodeLine{994 \textcolor{comment}{//    GTEST\_CHECK\_(boolean\_condition);}}
\DoxyCodeLine{995 \textcolor{comment}{//     or}}
\DoxyCodeLine{996 \textcolor{comment}{//    GTEST\_CHECK\_(boolean\_condition) << "{}Additional message"{};}}
\DoxyCodeLine{997 \textcolor{comment}{//}}
\DoxyCodeLine{998 \textcolor{comment}{//    This checks the condition and if the condition is not satisfied}}
\DoxyCodeLine{999 \textcolor{comment}{//    it prints message about the condition violation, including the}}
\DoxyCodeLine{1000 \textcolor{comment}{//    condition itself, plus additional message streamed into it, if any,}}
\DoxyCodeLine{1001 \textcolor{comment}{//    and then it aborts the program. It aborts the program irrespective of}}
\DoxyCodeLine{1002 \textcolor{comment}{//    whether it is built in the debug mode or not.}}
\DoxyCodeLine{1003 \textcolor{preprocessor}{\#define GTEST\_CHECK\_(condition)               \(\backslash\)}}
\DoxyCodeLine{1004 \textcolor{preprocessor}{  GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_               \(\backslash\)}}
\DoxyCodeLine{1005 \textcolor{preprocessor}{  if (::testing::internal::IsTrue(condition)) \(\backslash\)}}
\DoxyCodeLine{1006 \textcolor{preprocessor}{    ;                                         \(\backslash\)}}
\DoxyCodeLine{1007 \textcolor{preprocessor}{  else                                        \(\backslash\)}}
\DoxyCodeLine{1008 \textcolor{preprocessor}{    GTEST\_LOG\_(FATAL) << "{}Condition "{}} \#condition "{} failed. "{}}
\DoxyCodeLine{1009 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_CHECK\_)}}
\DoxyCodeLine{1010 }
\DoxyCodeLine{1011 \textcolor{comment}{// An all-\/mode assert to verify that the given POSIX-\/style function}}
\DoxyCodeLine{1012 \textcolor{comment}{// call returns 0 (indicating success).  Known limitation: this}}
\DoxyCodeLine{1013 \textcolor{comment}{// doesn't expand to a balanced 'if' statement, so enclose the macro}}
\DoxyCodeLine{1014 \textcolor{comment}{// in \{\} if you need to use it as the only statement in an 'if'}}
\DoxyCodeLine{1015 \textcolor{comment}{// branch.}}
\DoxyCodeLine{1016 \textcolor{preprocessor}{\#define GTEST\_CHECK\_POSIX\_SUCCESS\_(posix\_call) \(\backslash\)}}
\DoxyCodeLine{1017 \textcolor{preprocessor}{  if (const int gtest\_error = (posix\_call))    \(\backslash\)}}
\DoxyCodeLine{1018 \textcolor{preprocessor}{  GTEST\_LOG\_(FATAL) << \#posix\_call << "{}failed with error "{}} << gtest\_error}
\DoxyCodeLine{1019 }
\DoxyCodeLine{1020 \textcolor{comment}{// Transforms "{}T"{} into "{}const T\&"{} according to standard reference collapsing}}
\DoxyCodeLine{1021 \textcolor{comment}{// rules (this is only needed as a backport for C++98 compilers that do not}}
\DoxyCodeLine{1022 \textcolor{comment}{// support reference collapsing). Specifically, it transforms:}}
\DoxyCodeLine{1023 \textcolor{comment}{//}}
\DoxyCodeLine{1024 \textcolor{comment}{//   char         ==> const char\&}}
\DoxyCodeLine{1025 \textcolor{comment}{//   const char   ==> const char\&}}
\DoxyCodeLine{1026 \textcolor{comment}{//   char\&        ==> char\&}}
\DoxyCodeLine{1027 \textcolor{comment}{//   const char\&  ==> const char\&}}
\DoxyCodeLine{1028 \textcolor{comment}{//}}
\DoxyCodeLine{1029 \textcolor{comment}{// Note that the non-\/const reference will not have "{}const"{} added. This is}}
\DoxyCodeLine{1030 \textcolor{comment}{// standard, and necessary so that "{}T"{} can always bind to "{}const T\&"{}.}}
\DoxyCodeLine{1031 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1032 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1internal_1_1ConstRef}{ConstRef}} \{}
\DoxyCodeLine{1033   \textcolor{keyword}{typedef} \textcolor{keyword}{const} T\& type;}
\DoxyCodeLine{1034 \};}
\DoxyCodeLine{1035 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1036 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1internal_1_1ConstRef}{ConstRef}}<T\&> \{}
\DoxyCodeLine{1037   \textcolor{keyword}{typedef} T\& type;}
\DoxyCodeLine{1038 \};}
\DoxyCodeLine{1039 }
\DoxyCodeLine{1040 \textcolor{comment}{// The argument T must depend on some template parameters.}}
\DoxyCodeLine{1041 \textcolor{preprocessor}{\#define GTEST\_REFERENCE\_TO\_CONST\_(T) \(\backslash\)}}
\DoxyCodeLine{1042 \textcolor{preprocessor}{  typename ::testing::internal::ConstRef<T>::type}}
\DoxyCodeLine{1043 }
\DoxyCodeLine{1044 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE IN USER CODE.}}
\DoxyCodeLine{1045 \textcolor{comment}{//}}
\DoxyCodeLine{1046 \textcolor{comment}{// Use ImplicitCast\_ as a safe version of static\_cast for upcasting in}}
\DoxyCodeLine{1047 \textcolor{comment}{// the type hierarchy (e.g. casting a Foo* to a SuperclassOfFoo* or a}}
\DoxyCodeLine{1048 \textcolor{comment}{// const Foo*).  When you use ImplicitCast\_, the compiler checks that}}
\DoxyCodeLine{1049 \textcolor{comment}{// the cast is safe.  Such explicit ImplicitCast\_s are necessary in}}
\DoxyCodeLine{1050 \textcolor{comment}{// surprisingly many situations where C++ demands an exact type match}}
\DoxyCodeLine{1051 \textcolor{comment}{// instead of an argument type convertible to a target type.}}
\DoxyCodeLine{1052 \textcolor{comment}{//}}
\DoxyCodeLine{1053 \textcolor{comment}{// The syntax for using ImplicitCast\_ is the same as for static\_cast:}}
\DoxyCodeLine{1054 \textcolor{comment}{//}}
\DoxyCodeLine{1055 \textcolor{comment}{//   ImplicitCast\_<ToType>(expr)}}
\DoxyCodeLine{1056 \textcolor{comment}{//}}
\DoxyCodeLine{1057 \textcolor{comment}{// ImplicitCast\_ would have been part of the C++ standard library,}}
\DoxyCodeLine{1058 \textcolor{comment}{// but the proposal was submitted too late.  It will probably make}}
\DoxyCodeLine{1059 \textcolor{comment}{// its way into the language in the future.}}
\DoxyCodeLine{1060 \textcolor{comment}{//}}
\DoxyCodeLine{1061 \textcolor{comment}{// This relatively ugly name is intentional. It prevents clashes with}}
\DoxyCodeLine{1062 \textcolor{comment}{// similar functions users may have (e.g., implicit\_cast). The internal}}
\DoxyCodeLine{1063 \textcolor{comment}{// namespace alone is not enough because the function can be found by ADL.}}
\DoxyCodeLine{1064 \textcolor{keyword}{template} <\textcolor{keyword}{typename} To>}
\DoxyCodeLine{1065 \textcolor{keyword}{inline} \mbox{\hyperlink{classtesting_1_1internal_1_1To}{To}} ImplicitCast\_(\mbox{\hyperlink{classtesting_1_1internal_1_1To}{To}} x) \{}
\DoxyCodeLine{1066   \textcolor{keywordflow}{return} x;}
\DoxyCodeLine{1067 \}}
\DoxyCodeLine{1068 }
\DoxyCodeLine{1069 \textcolor{comment}{// When you upcast (that is, cast a pointer from type Foo to type}}
\DoxyCodeLine{1070 \textcolor{comment}{// SuperclassOfFoo), it's fine to use ImplicitCast\_<>, since upcasts}}
\DoxyCodeLine{1071 \textcolor{comment}{// always succeed.  When you downcast (that is, cast a pointer from}}
\DoxyCodeLine{1072 \textcolor{comment}{// type Foo to type SubclassOfFoo), static\_cast<> isn't safe, because}}
\DoxyCodeLine{1073 \textcolor{comment}{// how do you know the pointer is really of type SubclassOfFoo?  It}}
\DoxyCodeLine{1074 \textcolor{comment}{// could be a bare Foo, or of type DifferentSubclassOfFoo.  Thus,}}
\DoxyCodeLine{1075 \textcolor{comment}{// when you downcast, you should use this macro.  In debug mode, we}}
\DoxyCodeLine{1076 \textcolor{comment}{// use dynamic\_cast<> to double-\/check the downcast is legal (we die}}
\DoxyCodeLine{1077 \textcolor{comment}{// if it's not).  In normal mode, we do the efficient static\_cast<>}}
\DoxyCodeLine{1078 \textcolor{comment}{// instead.  Thus, it's important to test in debug mode to make sure}}
\DoxyCodeLine{1079 \textcolor{comment}{// the cast is legal!}}
\DoxyCodeLine{1080 \textcolor{comment}{//    This is the only place in the code we should use dynamic\_cast<>.}}
\DoxyCodeLine{1081 \textcolor{comment}{// In particular, you SHOULDN'T be using dynamic\_cast<> in order to}}
\DoxyCodeLine{1082 \textcolor{comment}{// do RTTI (eg code like this:}}
\DoxyCodeLine{1083 \textcolor{comment}{//    if (dynamic\_cast<Subclass1>(foo)) HandleASubclass1Object(foo);}}
\DoxyCodeLine{1084 \textcolor{comment}{//    if (dynamic\_cast<Subclass2>(foo)) HandleASubclass2Object(foo);}}
\DoxyCodeLine{1085 \textcolor{comment}{// You should design the code some other way not to need this.}}
\DoxyCodeLine{1086 \textcolor{comment}{//}}
\DoxyCodeLine{1087 \textcolor{comment}{// This relatively ugly name is intentional. It prevents clashes with}}
\DoxyCodeLine{1088 \textcolor{comment}{// similar functions users may have (e.g., down\_cast). The internal}}
\DoxyCodeLine{1089 \textcolor{comment}{// namespace alone is not enough because the function can be found by ADL.}}
\DoxyCodeLine{1090 \textcolor{keyword}{template} <\textcolor{keyword}{typename} To, \textcolor{keyword}{typename} From>  \textcolor{comment}{// use like this: DownCast\_<T*>(foo);}}
\DoxyCodeLine{1091 \textcolor{keyword}{inline} To DownCast\_(From* f) \{         \textcolor{comment}{// so we only accept pointers}}
\DoxyCodeLine{1092   \textcolor{comment}{// Ensures that To is a sub-\/type of From *.  This test is here only}}
\DoxyCodeLine{1093   \textcolor{comment}{// for compile-\/time type checking, and has no overhead in an}}
\DoxyCodeLine{1094   \textcolor{comment}{// optimized build at run-\/time, as it will be optimized away}}
\DoxyCodeLine{1095   \textcolor{comment}{// completely.}}
\DoxyCodeLine{1096   GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_()}
\DoxyCodeLine{1097   if (false) \{}
\DoxyCodeLine{1098     GTEST\_INTENTIONAL\_CONST\_COND\_POP\_()}
\DoxyCodeLine{1099     const To to = \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{1100     ::testing::internal::ImplicitCast\_<From*>(to);}
\DoxyCodeLine{1101   \}}
\DoxyCodeLine{1102 }
\DoxyCodeLine{1103 \textcolor{preprocessor}{\#if GTEST\_HAS\_RTTI}}
\DoxyCodeLine{1104   \textcolor{comment}{// RTTI: debug mode only!}}
\DoxyCodeLine{1105   GTEST\_CHECK\_(f == \textcolor{keyword}{nullptr} || \textcolor{keyword}{dynamic\_cast<}To\textcolor{keyword}{>}(f) != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{1106 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1107   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}To\textcolor{keyword}{>}(f);}
\DoxyCodeLine{1108 \}}
\DoxyCodeLine{1109 }
\DoxyCodeLine{1110 \textcolor{comment}{// Downcasts the pointer of type Base to Derived.}}
\DoxyCodeLine{1111 \textcolor{comment}{// Derived must be a subclass of Base. The parameter MUST}}
\DoxyCodeLine{1112 \textcolor{comment}{// point to a class of type Derived, not any subclass of it.}}
\DoxyCodeLine{1113 \textcolor{comment}{// When RTTI is available, the function performs a runtime}}
\DoxyCodeLine{1114 \textcolor{comment}{// check to enforce this.}}
\DoxyCodeLine{1115 \textcolor{keyword}{template} <\textcolor{keyword}{class} Derived, \textcolor{keyword}{class} Base>}
\DoxyCodeLine{1116 Derived* CheckedDowncastToActualType(\mbox{\hyperlink{classBase}{Base}}* base) \{}
\DoxyCodeLine{1117 \textcolor{preprocessor}{\#if GTEST\_HAS\_RTTI}}
\DoxyCodeLine{1118   GTEST\_CHECK\_(\textcolor{keyword}{typeid}(*base) == \textcolor{keyword}{typeid}(Derived));}
\DoxyCodeLine{1119 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1120 }
\DoxyCodeLine{1121 \textcolor{preprocessor}{\#if GTEST\_HAS\_DOWNCAST\_}}
\DoxyCodeLine{1122   return ::down\_cast<Derived*>(base);}
\DoxyCodeLine{1123 \textcolor{preprocessor}{\#elif GTEST\_HAS\_RTTI}}
\DoxyCodeLine{1124   \textcolor{keywordflow}{return} \textcolor{keyword}{dynamic\_cast<}Derived*\textcolor{keyword}{>}(base);  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1125 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1126   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}Derived*\textcolor{keyword}{>}(base);  \textcolor{comment}{// Poor man's downcast.}}
\DoxyCodeLine{1127 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1128 \}}
\DoxyCodeLine{1129 }
\DoxyCodeLine{1130 \textcolor{preprocessor}{\#if GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{1131 }
\DoxyCodeLine{1132 \textcolor{comment}{// Defines the stderr capturer:}}
\DoxyCodeLine{1133 \textcolor{comment}{//   CaptureStdout     -\/ starts capturing stdout.}}
\DoxyCodeLine{1134 \textcolor{comment}{//   GetCapturedStdout -\/ stops capturing stdout and returns the captured string.}}
\DoxyCodeLine{1135 \textcolor{comment}{//   CaptureStderr     -\/ starts capturing stderr.}}
\DoxyCodeLine{1136 \textcolor{comment}{//   GetCapturedStderr -\/ stops capturing stderr and returns the captured string.}}
\DoxyCodeLine{1137 \textcolor{comment}{//}}
\DoxyCodeLine{1138 GTEST\_API\_ \textcolor{keywordtype}{void} CaptureStdout();}
\DoxyCodeLine{1139 GTEST\_API\_ std::string GetCapturedStdout();}
\DoxyCodeLine{1140 GTEST\_API\_ \textcolor{keywordtype}{void} CaptureStderr();}
\DoxyCodeLine{1141 GTEST\_API\_ std::string GetCapturedStderr();}
\DoxyCodeLine{1142 }
\DoxyCodeLine{1143 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{1144 \textcolor{comment}{// Returns the size (in bytes) of a file.}}
\DoxyCodeLine{1145 GTEST\_API\_ \textcolor{keywordtype}{size\_t} GetFileSize(FILE* file);}
\DoxyCodeLine{1146 }
\DoxyCodeLine{1147 \textcolor{comment}{// Reads the entire content of a file as a string.}}
\DoxyCodeLine{1148 GTEST\_API\_ std::string ReadEntireFile(FILE* file);}
\DoxyCodeLine{1149 }
\DoxyCodeLine{1150 \textcolor{comment}{// All command line arguments.}}
\DoxyCodeLine{1151 GTEST\_API\_ std::vector<std::string> GetArgvs();}
\DoxyCodeLine{1152 }
\DoxyCodeLine{1153 \textcolor{preprocessor}{\#if GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{1154 }
\DoxyCodeLine{1155 std::vector<std::string> GetInjectableArgvs();}
\DoxyCodeLine{1156 \textcolor{comment}{// Deprecated: pass the args vector by value instead.}}
\DoxyCodeLine{1157 \textcolor{keywordtype}{void} SetInjectableArgvs(\textcolor{keyword}{const} std::vector<std::string>* new\_argvs);}
\DoxyCodeLine{1158 \textcolor{keywordtype}{void} SetInjectableArgvs(\textcolor{keyword}{const} std::vector<std::string>\& new\_argvs);}
\DoxyCodeLine{1159 \textcolor{keywordtype}{void} ClearInjectableArgvs();}
\DoxyCodeLine{1160 }
\DoxyCodeLine{1161 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{1162 }
\DoxyCodeLine{1163 \textcolor{comment}{// Defines synchronization primitives.}}
\DoxyCodeLine{1164 \textcolor{preprocessor}{\#if GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{1165 }
\DoxyCodeLine{1166 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{1167 \textcolor{comment}{// Provides leak-\/safe Windows kernel handle ownership.}}
\DoxyCodeLine{1168 \textcolor{comment}{// Used in death tests and in threading support.}}
\DoxyCodeLine{1169 \textcolor{keyword}{class }GTEST\_API\_ AutoHandle \{}
\DoxyCodeLine{1170  \textcolor{keyword}{public}:}
\DoxyCodeLine{1171   \textcolor{comment}{// Assume that Win32 HANDLE type is equivalent to void*. Doing so allows us to}}
\DoxyCodeLine{1172   \textcolor{comment}{// avoid including <windows.h> in this header file. Including <windows.h> is}}
\DoxyCodeLine{1173   \textcolor{comment}{// undesirable because it defines a lot of symbols and macros that tend to}}
\DoxyCodeLine{1174   \textcolor{comment}{// conflict with client code. This assumption is verified by}}
\DoxyCodeLine{1175   \textcolor{comment}{// WindowsTypesTest.HANDLEIsVoidStar.}}
\DoxyCodeLine{1176   \textcolor{keyword}{typedef} \textcolor{keywordtype}{void}* Handle;}
\DoxyCodeLine{1177   AutoHandle();}
\DoxyCodeLine{1178   \textcolor{keyword}{explicit} AutoHandle(Handle handle);}
\DoxyCodeLine{1179 }
\DoxyCodeLine{1180   \string~AutoHandle();}
\DoxyCodeLine{1181 }
\DoxyCodeLine{1182   Handle Get() \textcolor{keyword}{const};}
\DoxyCodeLine{1183   \textcolor{keywordtype}{void} Reset();}
\DoxyCodeLine{1184   \textcolor{keywordtype}{void} Reset(Handle handle);}
\DoxyCodeLine{1185 }
\DoxyCodeLine{1186  \textcolor{keyword}{private}:}
\DoxyCodeLine{1187   \textcolor{comment}{// Returns true if and only if the handle is a valid handle object that can be}}
\DoxyCodeLine{1188   \textcolor{comment}{// closed.}}
\DoxyCodeLine{1189   \textcolor{keywordtype}{bool} IsCloseable() \textcolor{keyword}{const};}
\DoxyCodeLine{1190 }
\DoxyCodeLine{1191   Handle handle\_;}
\DoxyCodeLine{1192 }
\DoxyCodeLine{1193   AutoHandle(\textcolor{keyword}{const} AutoHandle\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1194   AutoHandle\& operator=(\textcolor{keyword}{const} AutoHandle\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1195 \};}
\DoxyCodeLine{1196 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1197 }
\DoxyCodeLine{1198 \textcolor{preprocessor}{\#if GTEST\_HAS\_NOTIFICATION\_}}
\DoxyCodeLine{1199 \textcolor{comment}{// Notification has already been imported into the namespace.}}
\DoxyCodeLine{1200 \textcolor{comment}{// Nothing to do here.}}
\DoxyCodeLine{1201 }
\DoxyCodeLine{1202 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1203 GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4251 \(\backslash\)}
\DoxyCodeLine{1204 \textcolor{comment}{/* class A needs to have dll-\/interface to be used by clients of class B */})}
\DoxyCodeLine{1205 }
\DoxyCodeLine{1206 \textcolor{comment}{// Allows a controller thread to pause execution of newly created}}
\DoxyCodeLine{1207 \textcolor{comment}{// threads until notified.  Instances of this class must be created}}
\DoxyCodeLine{1208 \textcolor{comment}{// and destroyed in the controller thread.}}
\DoxyCodeLine{1209 \textcolor{comment}{//}}
\DoxyCodeLine{1210 \textcolor{comment}{// This class is only for testing Google Test's own constructs. Do not}}
\DoxyCodeLine{1211 \textcolor{comment}{// use it in user tests, either directly or indirectly.}}
\DoxyCodeLine{1212 \textcolor{comment}{// TODO(b/203539622): Replace unconditionally with absl::Notification.}}
\DoxyCodeLine{1213 class GTEST\_API\_ Notification \{}
\DoxyCodeLine{1214  \textcolor{keyword}{public}:}
\DoxyCodeLine{1215   Notification() : notified\_(false) \{\}}
\DoxyCodeLine{1216   Notification(\textcolor{keyword}{const} Notification\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1217   Notification\& operator=(\textcolor{keyword}{const} Notification\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1218 }
\DoxyCodeLine{1219   \textcolor{comment}{// Notifies all threads created with this notification to start. Must}}
\DoxyCodeLine{1220   \textcolor{comment}{// be called from the controller thread.}}
\DoxyCodeLine{1221   \textcolor{keywordtype}{void} Notify() \{}
\DoxyCodeLine{1222     std::lock\_guard<std::mutex> lock(mu\_);}
\DoxyCodeLine{1223     notified\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{1224     cv\_.notify\_all();}
\DoxyCodeLine{1225   \}}
\DoxyCodeLine{1226 }
\DoxyCodeLine{1227   \textcolor{comment}{// Blocks until the controller thread notifies. Must be called from a test}}
\DoxyCodeLine{1228   \textcolor{comment}{// thread.}}
\DoxyCodeLine{1229   \textcolor{keywordtype}{void} WaitForNotification() \{}
\DoxyCodeLine{1230     std::unique\_lock<std::mutex> lock(mu\_);}
\DoxyCodeLine{1231     cv\_.wait(lock, [\textcolor{keyword}{this}]() \{ \textcolor{keywordflow}{return} notified\_; \});}
\DoxyCodeLine{1232   \}}
\DoxyCodeLine{1233 }
\DoxyCodeLine{1234  \textcolor{keyword}{private}:}
\DoxyCodeLine{1235   std::mutex mu\_;}
\DoxyCodeLine{1236   std::condition\_variable cv\_;}
\DoxyCodeLine{1237   \textcolor{keywordtype}{bool} notified\_;}
\DoxyCodeLine{1238 \};}
\DoxyCodeLine{1239 GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()  \textcolor{comment}{// 4251}}
\DoxyCodeLine{1240 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_NOTIFICATION\_}}
\DoxyCodeLine{1241 }
\DoxyCodeLine{1242 \textcolor{comment}{// On MinGW, we can have both GTEST\_OS\_WINDOWS and GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{1243 \textcolor{comment}{// defined, but we don't want to use MinGW's pthreads implementation, which}}
\DoxyCodeLine{1244 \textcolor{comment}{// has conformance problems with some versions of the POSIX standard.}}
\DoxyCodeLine{1245 \textcolor{preprocessor}{\#if GTEST\_HAS\_PTHREAD \&\& !GTEST\_OS\_WINDOWS\_MINGW}}
\DoxyCodeLine{1246 }
\DoxyCodeLine{1247 \textcolor{comment}{// As a C-\/function, ThreadFuncWithCLinkage cannot be templated itself.}}
\DoxyCodeLine{1248 \textcolor{comment}{// Consequently, it cannot select a correct instantiation of ThreadWithParam}}
\DoxyCodeLine{1249 \textcolor{comment}{// in order to call its Run(). Introducing ThreadWithParamBase as a}}
\DoxyCodeLine{1250 \textcolor{comment}{// non-\/templated base class for ThreadWithParam allows us to bypass this}}
\DoxyCodeLine{1251 \textcolor{comment}{// problem.}}
\DoxyCodeLine{1252 \textcolor{keyword}{class }ThreadWithParamBase \{}
\DoxyCodeLine{1253  \textcolor{keyword}{public}:}
\DoxyCodeLine{1254   \textcolor{keyword}{virtual} \string~ThreadWithParamBase() \{\}}
\DoxyCodeLine{1255   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Run() = 0;}
\DoxyCodeLine{1256 \};}
\DoxyCodeLine{1257 }
\DoxyCodeLine{1258 \textcolor{comment}{// pthread\_create() accepts a pointer to a function type with the C linkage.}}
\DoxyCodeLine{1259 \textcolor{comment}{// According to the Standard (7.5/1), function types with different linkages}}
\DoxyCodeLine{1260 \textcolor{comment}{// are different even if they are otherwise identical.  Some compilers (for}}
\DoxyCodeLine{1261 \textcolor{comment}{// example, SunStudio) treat them as different types.  Since class methods}}
\DoxyCodeLine{1262 \textcolor{comment}{// cannot be defined with C-\/linkage we need to define a free C-\/function to}}
\DoxyCodeLine{1263 \textcolor{comment}{// pass into pthread\_create().}}
\DoxyCodeLine{1264 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \textcolor{keyword}{inline} \textcolor{keywordtype}{void}* ThreadFuncWithCLinkage(\textcolor{keywordtype}{void}* thread) \{}
\DoxyCodeLine{1265   \textcolor{keyword}{static\_cast<}ThreadWithParamBase*\textcolor{keyword}{>}(thread)-\/>Run();}
\DoxyCodeLine{1266   \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1267 \}}
\DoxyCodeLine{1268 }
\DoxyCodeLine{1269 \textcolor{comment}{// Helper class for testing Google Test's multi-\/threading constructs.}}
\DoxyCodeLine{1270 \textcolor{comment}{// To use it, write:}}
\DoxyCodeLine{1271 \textcolor{comment}{//}}
\DoxyCodeLine{1272 \textcolor{comment}{//   void ThreadFunc(int param) \{ /* Do things with param */ \}}}
\DoxyCodeLine{1273 \textcolor{comment}{//   Notification thread\_can\_start;}}
\DoxyCodeLine{1274 \textcolor{comment}{//   ...}}
\DoxyCodeLine{1275 \textcolor{comment}{//   // The thread\_can\_start parameter is optional; you can supply NULL.}}
\DoxyCodeLine{1276 \textcolor{comment}{//   ThreadWithParam<int> thread(\&ThreadFunc, 5, \&thread\_can\_start);}}
\DoxyCodeLine{1277 \textcolor{comment}{//   thread\_can\_start.Notify();}}
\DoxyCodeLine{1278 \textcolor{comment}{//}}
\DoxyCodeLine{1279 \textcolor{comment}{// These classes are only for testing Google Test's own constructs. Do}}
\DoxyCodeLine{1280 \textcolor{comment}{// not use them in user tests, either directly or indirectly.}}
\DoxyCodeLine{1281 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1282 \textcolor{keyword}{class }ThreadWithParam : \textcolor{keyword}{public} ThreadWithParamBase \{}
\DoxyCodeLine{1283  \textcolor{keyword}{public}:}
\DoxyCodeLine{1284   \textcolor{keyword}{typedef} \textcolor{keywordtype}{void} UserThreadFunc(T);}
\DoxyCodeLine{1285 }
\DoxyCodeLine{1286   ThreadWithParam(UserThreadFunc* func, T param, Notification* thread\_can\_start)}
\DoxyCodeLine{1287       : func\_(func),}
\DoxyCodeLine{1288         param\_(param),}
\DoxyCodeLine{1289         thread\_can\_start\_(thread\_can\_start),}
\DoxyCodeLine{1290         finished\_(false) \{}
\DoxyCodeLine{1291     ThreadWithParamBase* \textcolor{keyword}{const} base = \textcolor{keyword}{this};}
\DoxyCodeLine{1292     \textcolor{comment}{// The thread can be created only after all fields except thread\_}}
\DoxyCodeLine{1293     \textcolor{comment}{// have been initialized.}}
\DoxyCodeLine{1294     GTEST\_CHECK\_POSIX\_SUCCESS\_(}
\DoxyCodeLine{1295         pthread\_create(\&thread\_, \textcolor{keyword}{nullptr}, \&ThreadFuncWithCLinkage, base));}
\DoxyCodeLine{1296   \}}
\DoxyCodeLine{1297   \string~ThreadWithParam()\textcolor{keyword}{ override }\{ Join(); \}}
\DoxyCodeLine{1298 }
\DoxyCodeLine{1299   \textcolor{keywordtype}{void} Join() \{}
\DoxyCodeLine{1300     \textcolor{keywordflow}{if} (!finished\_) \{}
\DoxyCodeLine{1301       GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_join(thread\_, \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{1302       finished\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{1303     \}}
\DoxyCodeLine{1304   \}}
\DoxyCodeLine{1305 }
\DoxyCodeLine{1306   \textcolor{keywordtype}{void} Run()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{1307     \textcolor{keywordflow}{if} (thread\_can\_start\_ != \textcolor{keyword}{nullptr}) thread\_can\_start\_-\/>WaitForNotification();}
\DoxyCodeLine{1308     func\_(param\_);}
\DoxyCodeLine{1309   \}}
\DoxyCodeLine{1310 }
\DoxyCodeLine{1311  \textcolor{keyword}{private}:}
\DoxyCodeLine{1312   UserThreadFunc* \textcolor{keyword}{const} func\_;  \textcolor{comment}{// User-\/supplied thread function.}}
\DoxyCodeLine{1313   \textcolor{keyword}{const} T param\_;  \textcolor{comment}{// User-\/supplied parameter to the thread function.}}
\DoxyCodeLine{1314   \textcolor{comment}{// When non-\/NULL, used to block execution until the controller thread}}
\DoxyCodeLine{1315   \textcolor{comment}{// notifies.}}
\DoxyCodeLine{1316   Notification* \textcolor{keyword}{const} thread\_can\_start\_;}
\DoxyCodeLine{1317   \textcolor{keywordtype}{bool} finished\_;  \textcolor{comment}{// true if and only if we know that the thread function has}}
\DoxyCodeLine{1318                    \textcolor{comment}{// finished.}}
\DoxyCodeLine{1319   pthread\_t thread\_;  \textcolor{comment}{// The native thread object.}}
\DoxyCodeLine{1320 }
\DoxyCodeLine{1321   ThreadWithParam(\textcolor{keyword}{const} ThreadWithParam\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1322   ThreadWithParam\& operator=(\textcolor{keyword}{const} ThreadWithParam\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1323 \};}
\DoxyCodeLine{1324 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !GTEST\_OS\_WINDOWS \&\& GTEST\_HAS\_PTHREAD ||}}
\DoxyCodeLine{1325         \textcolor{comment}{// GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{1326 }
\DoxyCodeLine{1327 \textcolor{preprocessor}{\#if GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{1328 \textcolor{comment}{// Mutex and ThreadLocal have already been imported into the namespace.}}
\DoxyCodeLine{1329 \textcolor{comment}{// Nothing to do here.}}
\DoxyCodeLine{1330 }
\DoxyCodeLine{1331 \textcolor{preprocessor}{\#elif GTEST\_OS\_WINDOWS \&\& !GTEST\_OS\_WINDOWS\_PHONE \&\& !GTEST\_OS\_WINDOWS\_RT}}
\DoxyCodeLine{1332 }
\DoxyCodeLine{1333 \textcolor{comment}{// Mutex implements mutex on Windows platforms.  It is used in conjunction}}
\DoxyCodeLine{1334 \textcolor{comment}{// with class MutexLock:}}
\DoxyCodeLine{1335 \textcolor{comment}{//}}
\DoxyCodeLine{1336 \textcolor{comment}{//   Mutex mutex;}}
\DoxyCodeLine{1337 \textcolor{comment}{//   ...}}
\DoxyCodeLine{1338 \textcolor{comment}{//   MutexLock lock(\&mutex);  // Acquires the mutex and releases it at the}}
\DoxyCodeLine{1339 \textcolor{comment}{//                            // end of the current scope.}}
\DoxyCodeLine{1340 \textcolor{comment}{//}}
\DoxyCodeLine{1341 \textcolor{comment}{// A static Mutex *must* be defined or declared using one of the following}}
\DoxyCodeLine{1342 \textcolor{comment}{// macros:}}
\DoxyCodeLine{1343 \textcolor{comment}{//   GTEST\_DEFINE\_STATIC\_MUTEX\_(g\_some\_mutex);}}
\DoxyCodeLine{1344 \textcolor{comment}{//   GTEST\_DECLARE\_STATIC\_MUTEX\_(g\_some\_mutex);}}
\DoxyCodeLine{1345 \textcolor{comment}{//}}
\DoxyCodeLine{1346 \textcolor{comment}{// (A non-\/static Mutex is defined/declared in the usual way).}}
\DoxyCodeLine{1347 \textcolor{keyword}{class }GTEST\_API\_ Mutex \{}
\DoxyCodeLine{1348  \textcolor{keyword}{public}:}
\DoxyCodeLine{1349   \textcolor{keyword}{enum} MutexType \{ kStatic = 0, kDynamic = 1 \};}
\DoxyCodeLine{1350   \textcolor{comment}{// We rely on kStaticMutex being 0 as it is to what the linker initializes}}
\DoxyCodeLine{1351   \textcolor{comment}{// type\_ in static mutexes.  critical\_section\_ will be initialized lazily}}
\DoxyCodeLine{1352   \textcolor{comment}{// in ThreadSafeLazyInit().}}
\DoxyCodeLine{1353   \textcolor{keyword}{enum} StaticConstructorSelector \{ kStaticMutex = 0 \};}
\DoxyCodeLine{1354 }
\DoxyCodeLine{1355   \textcolor{comment}{// This constructor intentionally does nothing.  It relies on type\_ being}}
\DoxyCodeLine{1356   \textcolor{comment}{// statically initialized to 0 (effectively setting it to kStatic) and on}}
\DoxyCodeLine{1357   \textcolor{comment}{// ThreadSafeLazyInit() to lazily initialize the rest of the members.}}
\DoxyCodeLine{1358   \textcolor{keyword}{explicit} Mutex(StaticConstructorSelector \textcolor{comment}{/*dummy*/}) \{\}}
\DoxyCodeLine{1359 }
\DoxyCodeLine{1360   Mutex();}
\DoxyCodeLine{1361   \string~Mutex();}
\DoxyCodeLine{1362 }
\DoxyCodeLine{1363   \textcolor{keywordtype}{void} Lock();}
\DoxyCodeLine{1364 }
\DoxyCodeLine{1365   \textcolor{keywordtype}{void} Unlock();}
\DoxyCodeLine{1366 }
\DoxyCodeLine{1367   \textcolor{comment}{// Does nothing if the current thread holds the mutex. Otherwise, crashes}}
\DoxyCodeLine{1368   \textcolor{comment}{// with high probability.}}
\DoxyCodeLine{1369   \textcolor{keywordtype}{void} AssertHeld();}
\DoxyCodeLine{1370 }
\DoxyCodeLine{1371  \textcolor{keyword}{private}:}
\DoxyCodeLine{1372   \textcolor{comment}{// Initializes owner\_thread\_id\_ and critical\_section\_ in static mutexes.}}
\DoxyCodeLine{1373   \textcolor{keywordtype}{void} ThreadSafeLazyInit();}
\DoxyCodeLine{1374 }
\DoxyCodeLine{1375   \textcolor{comment}{// Per https://blogs.msdn.microsoft.com/oldnewthing/20040223-\/00/?p=40503,}}
\DoxyCodeLine{1376   \textcolor{comment}{// we assume that 0 is an invalid value for thread IDs.}}
\DoxyCodeLine{1377   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} owner\_thread\_id\_;}
\DoxyCodeLine{1378 }
\DoxyCodeLine{1379   \textcolor{comment}{// For static mutexes, we rely on these members being initialized to zeros}}
\DoxyCodeLine{1380   \textcolor{comment}{// by the linker.}}
\DoxyCodeLine{1381   MutexType type\_;}
\DoxyCodeLine{1382   \textcolor{keywordtype}{long} critical\_section\_init\_phase\_;  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1383   GTEST\_CRITICAL\_SECTION* critical\_section\_;}
\DoxyCodeLine{1384 }
\DoxyCodeLine{1385   Mutex(\textcolor{keyword}{const} Mutex\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1386   Mutex\& operator=(\textcolor{keyword}{const} Mutex\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1387 \};}
\DoxyCodeLine{1388 }
\DoxyCodeLine{1389 \textcolor{preprocessor}{\#define GTEST\_DECLARE\_STATIC\_MUTEX\_(mutex) \(\backslash\)}}
\DoxyCodeLine{1390 \textcolor{preprocessor}{  extern ::testing::internal::Mutex mutex}}
\DoxyCodeLine{1391 }
\DoxyCodeLine{1392 \textcolor{preprocessor}{\#define GTEST\_DEFINE\_STATIC\_MUTEX\_(mutex) \(\backslash\)}}
\DoxyCodeLine{1393 \textcolor{preprocessor}{  ::testing::internal::Mutex mutex(::testing::internal::Mutex::kStaticMutex)}}
\DoxyCodeLine{1394 }
\DoxyCodeLine{1395 \textcolor{comment}{// We cannot name this class MutexLock because the ctor declaration would}}
\DoxyCodeLine{1396 \textcolor{comment}{// conflict with a macro named MutexLock, which is defined on some}}
\DoxyCodeLine{1397 \textcolor{comment}{// platforms. That macro is used as a defensive measure to prevent against}}
\DoxyCodeLine{1398 \textcolor{comment}{// inadvertent misuses of MutexLock like "{}MutexLock(\&mu)"{} rather than}}
\DoxyCodeLine{1399 \textcolor{comment}{// "{}MutexLock l(\&mu)"{}.  Hence the typedef trick below.}}
\DoxyCodeLine{1400 \textcolor{keyword}{class }GTestMutexLock \{}
\DoxyCodeLine{1401  \textcolor{keyword}{public}:}
\DoxyCodeLine{1402   \textcolor{keyword}{explicit} GTestMutexLock(Mutex* mutex) : mutex\_(mutex) \{ mutex\_-\/>Lock(); \}}
\DoxyCodeLine{1403 }
\DoxyCodeLine{1404   \string~GTestMutexLock() \{ mutex\_-\/>Unlock(); \}}
\DoxyCodeLine{1405 }
\DoxyCodeLine{1406  \textcolor{keyword}{private}:}
\DoxyCodeLine{1407   Mutex* \textcolor{keyword}{const} mutex\_;}
\DoxyCodeLine{1408 }
\DoxyCodeLine{1409   GTestMutexLock(\textcolor{keyword}{const} GTestMutexLock\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1410   GTestMutexLock\& operator=(\textcolor{keyword}{const} GTestMutexLock\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1411 \};}
\DoxyCodeLine{1412 }
\DoxyCodeLine{1413 \textcolor{keyword}{typedef} GTestMutexLock MutexLock;}
\DoxyCodeLine{1414 }
\DoxyCodeLine{1415 \textcolor{comment}{// Base class for ValueHolder<T>.  Allows a caller to hold and delete a value}}
\DoxyCodeLine{1416 \textcolor{comment}{// without knowing its type.}}
\DoxyCodeLine{1417 \textcolor{keyword}{class }ThreadLocalValueHolderBase \{}
\DoxyCodeLine{1418  \textcolor{keyword}{public}:}
\DoxyCodeLine{1419   \textcolor{keyword}{virtual} \string~ThreadLocalValueHolderBase() \{\}}
\DoxyCodeLine{1420 \};}
\DoxyCodeLine{1421 }
\DoxyCodeLine{1422 \textcolor{comment}{// Provides a way for a thread to send notifications to a ThreadLocal}}
\DoxyCodeLine{1423 \textcolor{comment}{// regardless of its parameter type.}}
\DoxyCodeLine{1424 \textcolor{keyword}{class }ThreadLocalBase \{}
\DoxyCodeLine{1425  \textcolor{keyword}{public}:}
\DoxyCodeLine{1426   \textcolor{comment}{// Creates a new ValueHolder<T> object holding a default value passed to}}
\DoxyCodeLine{1427   \textcolor{comment}{// this ThreadLocal<T>'s constructor and returns it.  It is the caller's}}
\DoxyCodeLine{1428   \textcolor{comment}{// responsibility not to call this when the ThreadLocal<T> instance already}}
\DoxyCodeLine{1429   \textcolor{comment}{// has a value on the current thread.}}
\DoxyCodeLine{1430   \textcolor{keyword}{virtual} ThreadLocalValueHolderBase* NewValueForCurrentThread() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{1431 }
\DoxyCodeLine{1432  \textcolor{keyword}{protected}:}
\DoxyCodeLine{1433   ThreadLocalBase() \{\}}
\DoxyCodeLine{1434   \textcolor{keyword}{virtual} \string~ThreadLocalBase() \{\}}
\DoxyCodeLine{1435 }
\DoxyCodeLine{1436  \textcolor{keyword}{private}:}
\DoxyCodeLine{1437   ThreadLocalBase(\textcolor{keyword}{const} ThreadLocalBase\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1438   ThreadLocalBase\& operator=(\textcolor{keyword}{const} ThreadLocalBase\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1439 \};}
\DoxyCodeLine{1440 }
\DoxyCodeLine{1441 \textcolor{comment}{// Maps a thread to a set of ThreadLocals that have values instantiated on that}}
\DoxyCodeLine{1442 \textcolor{comment}{// thread and notifies them when the thread exits.  A ThreadLocal instance is}}
\DoxyCodeLine{1443 \textcolor{comment}{// expected to persist until all threads it has values on have terminated.}}
\DoxyCodeLine{1444 \textcolor{keyword}{class }GTEST\_API\_ ThreadLocalRegistry \{}
\DoxyCodeLine{1445  \textcolor{keyword}{public}:}
\DoxyCodeLine{1446   \textcolor{comment}{// Registers thread\_local\_instance as having value on the current thread.}}
\DoxyCodeLine{1447   \textcolor{comment}{// Returns a value that can be used to identify the thread from other threads.}}
\DoxyCodeLine{1448   \textcolor{keyword}{static} ThreadLocalValueHolderBase* GetValueOnCurrentThread(}
\DoxyCodeLine{1449       \textcolor{keyword}{const} ThreadLocalBase* thread\_local\_instance);}
\DoxyCodeLine{1450 }
\DoxyCodeLine{1451   \textcolor{comment}{// Invoked when a ThreadLocal instance is destroyed.}}
\DoxyCodeLine{1452   \textcolor{keyword}{static} \textcolor{keywordtype}{void} OnThreadLocalDestroyed(}
\DoxyCodeLine{1453       \textcolor{keyword}{const} ThreadLocalBase* thread\_local\_instance);}
\DoxyCodeLine{1454 \};}
\DoxyCodeLine{1455 }
\DoxyCodeLine{1456 \textcolor{keyword}{class }GTEST\_API\_ ThreadWithParamBase \{}
\DoxyCodeLine{1457  \textcolor{keyword}{public}:}
\DoxyCodeLine{1458   \textcolor{keywordtype}{void} Join();}
\DoxyCodeLine{1459 }
\DoxyCodeLine{1460  \textcolor{keyword}{protected}:}
\DoxyCodeLine{1461   \textcolor{keyword}{class }Runnable \{}
\DoxyCodeLine{1462    \textcolor{keyword}{public}:}
\DoxyCodeLine{1463     \textcolor{keyword}{virtual} \string~Runnable() \{\}}
\DoxyCodeLine{1464     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Run() = 0;}
\DoxyCodeLine{1465   \};}
\DoxyCodeLine{1466 }
\DoxyCodeLine{1467   ThreadWithParamBase(Runnable* runnable, Notification* thread\_can\_start);}
\DoxyCodeLine{1468   \textcolor{keyword}{virtual} \string~ThreadWithParamBase();}
\DoxyCodeLine{1469 }
\DoxyCodeLine{1470  \textcolor{keyword}{private}:}
\DoxyCodeLine{1471   AutoHandle thread\_;}
\DoxyCodeLine{1472 \};}
\DoxyCodeLine{1473 }
\DoxyCodeLine{1474 \textcolor{comment}{// Helper class for testing Google Test's multi-\/threading constructs.}}
\DoxyCodeLine{1475 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1476 \textcolor{keyword}{class }ThreadWithParam : \textcolor{keyword}{public} ThreadWithParamBase \{}
\DoxyCodeLine{1477  \textcolor{keyword}{public}:}
\DoxyCodeLine{1478   \textcolor{keyword}{typedef} \textcolor{keywordtype}{void} UserThreadFunc(T);}
\DoxyCodeLine{1479 }
\DoxyCodeLine{1480   ThreadWithParam(UserThreadFunc* func, T param, Notification* thread\_can\_start)}
\DoxyCodeLine{1481       : ThreadWithParamBase(new RunnableImpl(func, param), thread\_can\_start) \{\}}
\DoxyCodeLine{1482   \textcolor{keyword}{virtual} \string~ThreadWithParam() \{\}}
\DoxyCodeLine{1483 }
\DoxyCodeLine{1484  \textcolor{keyword}{private}:}
\DoxyCodeLine{1485   \textcolor{keyword}{class }RunnableImpl : \textcolor{keyword}{public} Runnable \{}
\DoxyCodeLine{1486    \textcolor{keyword}{public}:}
\DoxyCodeLine{1487     RunnableImpl(UserThreadFunc* func, T param) : func\_(func), param\_(param) \{\}}
\DoxyCodeLine{1488     \textcolor{keyword}{virtual} \string~RunnableImpl() \{\}}
\DoxyCodeLine{1489     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Run() \{ func\_(param\_); \}}
\DoxyCodeLine{1490 }
\DoxyCodeLine{1491    \textcolor{keyword}{private}:}
\DoxyCodeLine{1492     UserThreadFunc* \textcolor{keyword}{const} func\_;}
\DoxyCodeLine{1493     \textcolor{keyword}{const} T param\_;}
\DoxyCodeLine{1494 }
\DoxyCodeLine{1495     RunnableImpl(\textcolor{keyword}{const} RunnableImpl\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1496     RunnableImpl\& operator=(\textcolor{keyword}{const} RunnableImpl\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1497   \};}
\DoxyCodeLine{1498 }
\DoxyCodeLine{1499   ThreadWithParam(\textcolor{keyword}{const} ThreadWithParam\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1500   ThreadWithParam\& operator=(\textcolor{keyword}{const} ThreadWithParam\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1501 \};}
\DoxyCodeLine{1502 }
\DoxyCodeLine{1503 \textcolor{comment}{// Implements thread-\/local storage on Windows systems.}}
\DoxyCodeLine{1504 \textcolor{comment}{//}}
\DoxyCodeLine{1505 \textcolor{comment}{//   // Thread 1}}
\DoxyCodeLine{1506 \textcolor{comment}{//   ThreadLocal<int> tl(100);  // 100 is the default value for each thread.}}
\DoxyCodeLine{1507 \textcolor{comment}{//}}
\DoxyCodeLine{1508 \textcolor{comment}{//   // Thread 2}}
\DoxyCodeLine{1509 \textcolor{comment}{//   tl.set(150);  // Changes the value for thread 2 only.}}
\DoxyCodeLine{1510 \textcolor{comment}{//   EXPECT\_EQ(150, tl.get());}}
\DoxyCodeLine{1511 \textcolor{comment}{//}}
\DoxyCodeLine{1512 \textcolor{comment}{//   // Thread 1}}
\DoxyCodeLine{1513 \textcolor{comment}{//   EXPECT\_EQ(100, tl.get());  // In thread 1, tl has the original value.}}
\DoxyCodeLine{1514 \textcolor{comment}{//   tl.set(200);}}
\DoxyCodeLine{1515 \textcolor{comment}{//   EXPECT\_EQ(200, tl.get());}}
\DoxyCodeLine{1516 \textcolor{comment}{//}}
\DoxyCodeLine{1517 \textcolor{comment}{// The template type argument T must have a public copy constructor.}}
\DoxyCodeLine{1518 \textcolor{comment}{// In addition, the default ThreadLocal constructor requires T to have}}
\DoxyCodeLine{1519 \textcolor{comment}{// a public default constructor.}}
\DoxyCodeLine{1520 \textcolor{comment}{//}}
\DoxyCodeLine{1521 \textcolor{comment}{// The users of a TheadLocal instance have to make sure that all but one}}
\DoxyCodeLine{1522 \textcolor{comment}{// threads (including the main one) using that instance have exited before}}
\DoxyCodeLine{1523 \textcolor{comment}{// destroying it. Otherwise, the per-\/thread objects managed for them by the}}
\DoxyCodeLine{1524 \textcolor{comment}{// ThreadLocal instance are not guaranteed to be destroyed on all platforms.}}
\DoxyCodeLine{1525 \textcolor{comment}{//}}
\DoxyCodeLine{1526 \textcolor{comment}{// Google Test only uses global ThreadLocal objects.  That means they}}
\DoxyCodeLine{1527 \textcolor{comment}{// will die after main() has returned.  Therefore, no per-\/thread}}
\DoxyCodeLine{1528 \textcolor{comment}{// object managed by Google Test will be leaked as long as all threads}}
\DoxyCodeLine{1529 \textcolor{comment}{// using Google Test have exited when main() returns.}}
\DoxyCodeLine{1530 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1531 \textcolor{keyword}{class }ThreadLocal : \textcolor{keyword}{public} ThreadLocalBase \{}
\DoxyCodeLine{1532  \textcolor{keyword}{public}:}
\DoxyCodeLine{1533   ThreadLocal() : default\_factory\_(new DefaultValueHolderFactory()) \{\}}
\DoxyCodeLine{1534   \textcolor{keyword}{explicit} ThreadLocal(\textcolor{keyword}{const} T\& value)}
\DoxyCodeLine{1535       : default\_factory\_(new InstanceValueHolderFactory(value)) \{\}}
\DoxyCodeLine{1536 }
\DoxyCodeLine{1537   \string~ThreadLocal()\textcolor{keyword}{ override }\{ ThreadLocalRegistry::OnThreadLocalDestroyed(\textcolor{keyword}{this}); \}}
\DoxyCodeLine{1538 }
\DoxyCodeLine{1539   T* pointer() \{ \textcolor{keywordflow}{return} GetOrCreateValue(); \}}
\DoxyCodeLine{1540   \textcolor{keyword}{const} T* pointer()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} GetOrCreateValue(); \}}
\DoxyCodeLine{1541   \textcolor{keyword}{const} T\& get()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *pointer(); \}}
\DoxyCodeLine{1542   \textcolor{keywordtype}{void} set(\textcolor{keyword}{const} T\& value) \{ *pointer() = value; \}}
\DoxyCodeLine{1543 }
\DoxyCodeLine{1544  \textcolor{keyword}{private}:}
\DoxyCodeLine{1545   \textcolor{comment}{// Holds a value of T.  Can be deleted via its base class without the caller}}
\DoxyCodeLine{1546   \textcolor{comment}{// knowing the type of T.}}
\DoxyCodeLine{1547   \textcolor{keyword}{class }ValueHolder : \textcolor{keyword}{public} ThreadLocalValueHolderBase \{}
\DoxyCodeLine{1548    \textcolor{keyword}{public}:}
\DoxyCodeLine{1549     ValueHolder() : value\_() \{\}}
\DoxyCodeLine{1550     \textcolor{keyword}{explicit} ValueHolder(\textcolor{keyword}{const} T\& value) : value\_(value) \{\}}
\DoxyCodeLine{1551 }
\DoxyCodeLine{1552     T* pointer() \{ \textcolor{keywordflow}{return} \&value\_; \}}
\DoxyCodeLine{1553 }
\DoxyCodeLine{1554    \textcolor{keyword}{private}:}
\DoxyCodeLine{1555     T value\_;}
\DoxyCodeLine{1556     ValueHolder(\textcolor{keyword}{const} ValueHolder\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1557     ValueHolder\& operator=(\textcolor{keyword}{const} ValueHolder\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1558   \};}
\DoxyCodeLine{1559 }
\DoxyCodeLine{1560   T* GetOrCreateValue()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1561     \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}ValueHolder*\textcolor{keyword}{>}(}
\DoxyCodeLine{1562                ThreadLocalRegistry::GetValueOnCurrentThread(\textcolor{keyword}{this}))}
\DoxyCodeLine{1563         -\/>pointer();}
\DoxyCodeLine{1564   \}}
\DoxyCodeLine{1565 }
\DoxyCodeLine{1566   ThreadLocalValueHolderBase* NewValueForCurrentThread()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{1567     \textcolor{keywordflow}{return} default\_factory\_-\/>MakeNewHolder();}
\DoxyCodeLine{1568   \}}
\DoxyCodeLine{1569 }
\DoxyCodeLine{1570   \textcolor{keyword}{class }ValueHolderFactory \{}
\DoxyCodeLine{1571    \textcolor{keyword}{public}:}
\DoxyCodeLine{1572     ValueHolderFactory() \{\}}
\DoxyCodeLine{1573     \textcolor{keyword}{virtual} \string~ValueHolderFactory() \{\}}
\DoxyCodeLine{1574     \textcolor{keyword}{virtual} ValueHolder* MakeNewHolder() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{1575 }
\DoxyCodeLine{1576    \textcolor{keyword}{private}:}
\DoxyCodeLine{1577     ValueHolderFactory(\textcolor{keyword}{const} ValueHolderFactory\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1578     ValueHolderFactory\& operator=(\textcolor{keyword}{const} ValueHolderFactory\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1579   \};}
\DoxyCodeLine{1580 }
\DoxyCodeLine{1581   \textcolor{keyword}{class }DefaultValueHolderFactory : \textcolor{keyword}{public} ValueHolderFactory \{}
\DoxyCodeLine{1582    \textcolor{keyword}{public}:}
\DoxyCodeLine{1583     DefaultValueHolderFactory() \{\}}
\DoxyCodeLine{1584     ValueHolder* MakeNewHolder()\textcolor{keyword}{ const override }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{new} ValueHolder(); \}}
\DoxyCodeLine{1585 }
\DoxyCodeLine{1586    \textcolor{keyword}{private}:}
\DoxyCodeLine{1587     DefaultValueHolderFactory(\textcolor{keyword}{const} DefaultValueHolderFactory\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1588     DefaultValueHolderFactory\& operator=(\textcolor{keyword}{const} DefaultValueHolderFactory\&) =}
\DoxyCodeLine{1589         \textcolor{keyword}{delete};}
\DoxyCodeLine{1590   \};}
\DoxyCodeLine{1591 }
\DoxyCodeLine{1592   \textcolor{keyword}{class }InstanceValueHolderFactory : \textcolor{keyword}{public} ValueHolderFactory \{}
\DoxyCodeLine{1593    \textcolor{keyword}{public}:}
\DoxyCodeLine{1594     \textcolor{keyword}{explicit} InstanceValueHolderFactory(\textcolor{keyword}{const} T\& value) : value\_(value) \{\}}
\DoxyCodeLine{1595     ValueHolder* MakeNewHolder()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{1596       \textcolor{keywordflow}{return} \textcolor{keyword}{new} ValueHolder(value\_);}
\DoxyCodeLine{1597     \}}
\DoxyCodeLine{1598 }
\DoxyCodeLine{1599    \textcolor{keyword}{private}:}
\DoxyCodeLine{1600     \textcolor{keyword}{const} T value\_;  \textcolor{comment}{// The value for each thread.}}
\DoxyCodeLine{1601 }
\DoxyCodeLine{1602     InstanceValueHolderFactory(\textcolor{keyword}{const} InstanceValueHolderFactory\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1603     InstanceValueHolderFactory\& operator=(\textcolor{keyword}{const} InstanceValueHolderFactory\&) =}
\DoxyCodeLine{1604         \textcolor{keyword}{delete};}
\DoxyCodeLine{1605   \};}
\DoxyCodeLine{1606 }
\DoxyCodeLine{1607   std::unique\_ptr<ValueHolderFactory> default\_factory\_;}
\DoxyCodeLine{1608 }
\DoxyCodeLine{1609   ThreadLocal(\textcolor{keyword}{const} ThreadLocal\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1610   ThreadLocal\& operator=(\textcolor{keyword}{const} ThreadLocal\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1611 \};}
\DoxyCodeLine{1612 }
\DoxyCodeLine{1613 \textcolor{preprocessor}{\#elif GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{1614 }
\DoxyCodeLine{1615 \textcolor{comment}{// MutexBase and Mutex implement mutex on pthreads-\/based platforms.}}
\DoxyCodeLine{1616 \textcolor{keyword}{class }MutexBase \{}
\DoxyCodeLine{1617  \textcolor{keyword}{public}:}
\DoxyCodeLine{1618   \textcolor{comment}{// Acquires this mutex.}}
\DoxyCodeLine{1619   \textcolor{keywordtype}{void} Lock() \{}
\DoxyCodeLine{1620     GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_lock(\&mutex\_));}
\DoxyCodeLine{1621     owner\_ = pthread\_self();}
\DoxyCodeLine{1622     has\_owner\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{1623   \}}
\DoxyCodeLine{1624 }
\DoxyCodeLine{1625   \textcolor{comment}{// Releases this mutex.}}
\DoxyCodeLine{1626   \textcolor{keywordtype}{void} Unlock() \{}
\DoxyCodeLine{1627     \textcolor{comment}{// Since the lock is being released the owner\_ field should no longer be}}
\DoxyCodeLine{1628     \textcolor{comment}{// considered valid. We don't protect writing to has\_owner\_ here, as it's}}
\DoxyCodeLine{1629     \textcolor{comment}{// the caller's responsibility to ensure that the current thread holds the}}
\DoxyCodeLine{1630     \textcolor{comment}{// mutex when this is called.}}
\DoxyCodeLine{1631     has\_owner\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{1632     GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_unlock(\&mutex\_));}
\DoxyCodeLine{1633   \}}
\DoxyCodeLine{1634 }
\DoxyCodeLine{1635   \textcolor{comment}{// Does nothing if the current thread holds the mutex. Otherwise, crashes}}
\DoxyCodeLine{1636   \textcolor{comment}{// with high probability.}}
\DoxyCodeLine{1637   \textcolor{keywordtype}{void} AssertHeld()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1638     GTEST\_CHECK\_(has\_owner\_ \&\& pthread\_equal(owner\_, pthread\_self()))}
\DoxyCodeLine{1639         << \textcolor{stringliteral}{"{}The current thread is not holding the mutex @"{}} << \textcolor{keyword}{this};}
\DoxyCodeLine{1640   \}}
\DoxyCodeLine{1641 }
\DoxyCodeLine{1642   \textcolor{comment}{// A static mutex may be used before main() is entered.  It may even}}
\DoxyCodeLine{1643   \textcolor{comment}{// be used before the dynamic initialization stage.  Therefore we}}
\DoxyCodeLine{1644   \textcolor{comment}{// must be able to initialize a static mutex object at link time.}}
\DoxyCodeLine{1645   \textcolor{comment}{// This means MutexBase has to be a POD and its member variables}}
\DoxyCodeLine{1646   \textcolor{comment}{// have to be public.}}
\DoxyCodeLine{1647  \textcolor{keyword}{public}:}
\DoxyCodeLine{1648   pthread\_mutex\_t mutex\_;  \textcolor{comment}{// The underlying pthread mutex.}}
\DoxyCodeLine{1649   \textcolor{comment}{// has\_owner\_ indicates whether the owner\_ field below contains a valid thread}}
\DoxyCodeLine{1650   \textcolor{comment}{// ID and is therefore safe to inspect (e.g., to use in pthread\_equal()). All}}
\DoxyCodeLine{1651   \textcolor{comment}{// accesses to the owner\_ field should be protected by a check of this field.}}
\DoxyCodeLine{1652   \textcolor{comment}{// An alternative might be to memset() owner\_ to all zeros, but there's no}}
\DoxyCodeLine{1653   \textcolor{comment}{// guarantee that a zero'd pthread\_t is necessarily invalid or even different}}
\DoxyCodeLine{1654   \textcolor{comment}{// from pthread\_self().}}
\DoxyCodeLine{1655   \textcolor{keywordtype}{bool} has\_owner\_;}
\DoxyCodeLine{1656   pthread\_t owner\_;  \textcolor{comment}{// The thread holding the mutex.}}
\DoxyCodeLine{1657 \};}
\DoxyCodeLine{1658 }
\DoxyCodeLine{1659 \textcolor{comment}{// Forward-\/declares a static mutex.}}
\DoxyCodeLine{1660 \textcolor{preprocessor}{\#define GTEST\_DECLARE\_STATIC\_MUTEX\_(mutex) \(\backslash\)}}
\DoxyCodeLine{1661 \textcolor{preprocessor}{  extern ::testing::internal::MutexBase mutex}}
\DoxyCodeLine{1662 }
\DoxyCodeLine{1663 \textcolor{comment}{// Defines and statically (i.e. at link time) initializes a static mutex.}}
\DoxyCodeLine{1664 \textcolor{comment}{// The initialization list here does not explicitly initialize each field,}}
\DoxyCodeLine{1665 \textcolor{comment}{// instead relying on default initialization for the unspecified fields. In}}
\DoxyCodeLine{1666 \textcolor{comment}{// particular, the owner\_ field (a pthread\_t) is not explicitly initialized.}}
\DoxyCodeLine{1667 \textcolor{comment}{// This allows initialization to work whether pthread\_t is a scalar or struct.}}
\DoxyCodeLine{1668 \textcolor{comment}{// The flag -\/Wmissing-\/field-\/initializers must not be specified for this to work.}}
\DoxyCodeLine{1669 \textcolor{preprocessor}{\#define GTEST\_DEFINE\_STATIC\_MUTEX\_(mutex) \(\backslash\)}}
\DoxyCodeLine{1670 \textcolor{preprocessor}{  ::testing::internal::MutexBase mutex = \{PTHREAD\_MUTEX\_INITIALIZER, false, 0\}}}
\DoxyCodeLine{1671 }
\DoxyCodeLine{1672 \textcolor{comment}{// The Mutex class can only be used for mutexes created at runtime. It}}
\DoxyCodeLine{1673 \textcolor{comment}{// shares its API with MutexBase otherwise.}}
\DoxyCodeLine{1674 \textcolor{keyword}{class }Mutex : \textcolor{keyword}{public} MutexBase \{}
\DoxyCodeLine{1675  \textcolor{keyword}{public}:}
\DoxyCodeLine{1676   Mutex() \{}
\DoxyCodeLine{1677     GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_init(\&mutex\_, \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{1678     has\_owner\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{1679   \}}
\DoxyCodeLine{1680   \string~Mutex() \{ GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_destroy(\&mutex\_)); \}}
\DoxyCodeLine{1681 }
\DoxyCodeLine{1682  \textcolor{keyword}{private}:}
\DoxyCodeLine{1683   Mutex(\textcolor{keyword}{const} Mutex\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1684   Mutex\& operator=(\textcolor{keyword}{const} Mutex\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1685 \};}
\DoxyCodeLine{1686 }
\DoxyCodeLine{1687 \textcolor{comment}{// We cannot name this class MutexLock because the ctor declaration would}}
\DoxyCodeLine{1688 \textcolor{comment}{// conflict with a macro named MutexLock, which is defined on some}}
\DoxyCodeLine{1689 \textcolor{comment}{// platforms. That macro is used as a defensive measure to prevent against}}
\DoxyCodeLine{1690 \textcolor{comment}{// inadvertent misuses of MutexLock like "{}MutexLock(\&mu)"{} rather than}}
\DoxyCodeLine{1691 \textcolor{comment}{// "{}MutexLock l(\&mu)"{}.  Hence the typedef trick below.}}
\DoxyCodeLine{1692 \textcolor{keyword}{class }GTestMutexLock \{}
\DoxyCodeLine{1693  \textcolor{keyword}{public}:}
\DoxyCodeLine{1694   \textcolor{keyword}{explicit} GTestMutexLock(MutexBase* mutex) : mutex\_(mutex) \{ mutex\_-\/>Lock(); \}}
\DoxyCodeLine{1695 }
\DoxyCodeLine{1696   \string~GTestMutexLock() \{ mutex\_-\/>Unlock(); \}}
\DoxyCodeLine{1697 }
\DoxyCodeLine{1698  \textcolor{keyword}{private}:}
\DoxyCodeLine{1699   MutexBase* \textcolor{keyword}{const} mutex\_;}
\DoxyCodeLine{1700 }
\DoxyCodeLine{1701   GTestMutexLock(\textcolor{keyword}{const} GTestMutexLock\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1702   GTestMutexLock\& operator=(\textcolor{keyword}{const} GTestMutexLock\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1703 \};}
\DoxyCodeLine{1704 }
\DoxyCodeLine{1705 \textcolor{keyword}{typedef} GTestMutexLock MutexLock;}
\DoxyCodeLine{1706 }
\DoxyCodeLine{1707 \textcolor{comment}{// Helpers for ThreadLocal.}}
\DoxyCodeLine{1708 }
\DoxyCodeLine{1709 \textcolor{comment}{// pthread\_key\_create() requires DeleteThreadLocalValue() to have}}
\DoxyCodeLine{1710 \textcolor{comment}{// C-\/linkage.  Therefore it cannot be templatized to access}}
\DoxyCodeLine{1711 \textcolor{comment}{// ThreadLocal<T>.  Hence the need for class}}
\DoxyCodeLine{1712 \textcolor{comment}{// ThreadLocalValueHolderBase.}}
\DoxyCodeLine{1713 \textcolor{keyword}{class }ThreadLocalValueHolderBase \{}
\DoxyCodeLine{1714  \textcolor{keyword}{public}:}
\DoxyCodeLine{1715   \textcolor{keyword}{virtual} \string~ThreadLocalValueHolderBase() \{\}}
\DoxyCodeLine{1716 \};}
\DoxyCodeLine{1717 }
\DoxyCodeLine{1718 \textcolor{comment}{// Called by pthread to delete thread-\/local data stored by}}
\DoxyCodeLine{1719 \textcolor{comment}{// pthread\_setspecific().}}
\DoxyCodeLine{1720 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} DeleteThreadLocalValue(\textcolor{keywordtype}{void}* value\_holder) \{}
\DoxyCodeLine{1721   \textcolor{keyword}{delete} \textcolor{keyword}{static\_cast<}ThreadLocalValueHolderBase*\textcolor{keyword}{>}(value\_holder);}
\DoxyCodeLine{1722 \}}
\DoxyCodeLine{1723 }
\DoxyCodeLine{1724 \textcolor{comment}{// Implements thread-\/local storage on pthreads-\/based systems.}}
\DoxyCodeLine{1725 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1726 \textcolor{keyword}{class }GTEST\_API\_ ThreadLocal \{}
\DoxyCodeLine{1727  \textcolor{keyword}{public}:}
\DoxyCodeLine{1728   ThreadLocal()}
\DoxyCodeLine{1729       : key\_(CreateKey()), default\_factory\_(new DefaultValueHolderFactory()) \{\}}
\DoxyCodeLine{1730   \textcolor{keyword}{explicit} ThreadLocal(\textcolor{keyword}{const} T\& value)}
\DoxyCodeLine{1731       : key\_(CreateKey()),}
\DoxyCodeLine{1732         default\_factory\_(new InstanceValueHolderFactory(value)) \{\}}
\DoxyCodeLine{1733 }
\DoxyCodeLine{1734   \string~ThreadLocal() \{}
\DoxyCodeLine{1735     \textcolor{comment}{// Destroys the managed object for the current thread, if any.}}
\DoxyCodeLine{1736     DeleteThreadLocalValue(pthread\_getspecific(key\_));}
\DoxyCodeLine{1737 }
\DoxyCodeLine{1738     \textcolor{comment}{// Releases resources associated with the key.  This will *not*}}
\DoxyCodeLine{1739     \textcolor{comment}{// delete managed objects for other threads.}}
\DoxyCodeLine{1740     GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_key\_delete(key\_));}
\DoxyCodeLine{1741   \}}
\DoxyCodeLine{1742 }
\DoxyCodeLine{1743   T* pointer() \{ \textcolor{keywordflow}{return} GetOrCreateValue(); \}}
\DoxyCodeLine{1744   \textcolor{keyword}{const} T* pointer()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} GetOrCreateValue(); \}}
\DoxyCodeLine{1745   \textcolor{keyword}{const} T\& get()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *pointer(); \}}
\DoxyCodeLine{1746   \textcolor{keywordtype}{void} set(\textcolor{keyword}{const} T\& value) \{ *pointer() = value; \}}
\DoxyCodeLine{1747 }
\DoxyCodeLine{1748  \textcolor{keyword}{private}:}
\DoxyCodeLine{1749   \textcolor{comment}{// Holds a value of type T.}}
\DoxyCodeLine{1750   \textcolor{keyword}{class }ValueHolder : \textcolor{keyword}{public} ThreadLocalValueHolderBase \{}
\DoxyCodeLine{1751    \textcolor{keyword}{public}:}
\DoxyCodeLine{1752     ValueHolder() : value\_() \{\}}
\DoxyCodeLine{1753     \textcolor{keyword}{explicit} ValueHolder(\textcolor{keyword}{const} T\& value) : value\_(value) \{\}}
\DoxyCodeLine{1754 }
\DoxyCodeLine{1755     T* pointer() \{ \textcolor{keywordflow}{return} \&value\_; \}}
\DoxyCodeLine{1756 }
\DoxyCodeLine{1757    \textcolor{keyword}{private}:}
\DoxyCodeLine{1758     T value\_;}
\DoxyCodeLine{1759     ValueHolder(\textcolor{keyword}{const} ValueHolder\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1760     ValueHolder\& operator=(\textcolor{keyword}{const} ValueHolder\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1761   \};}
\DoxyCodeLine{1762 }
\DoxyCodeLine{1763   \textcolor{keyword}{static} pthread\_key\_t CreateKey() \{}
\DoxyCodeLine{1764     pthread\_key\_t key;}
\DoxyCodeLine{1765     \textcolor{comment}{// When a thread exits, DeleteThreadLocalValue() will be called on}}
\DoxyCodeLine{1766     \textcolor{comment}{// the object managed for that thread.}}
\DoxyCodeLine{1767     GTEST\_CHECK\_POSIX\_SUCCESS\_(}
\DoxyCodeLine{1768         pthread\_key\_create(\&key, \&DeleteThreadLocalValue));}
\DoxyCodeLine{1769     \textcolor{keywordflow}{return} key;}
\DoxyCodeLine{1770   \}}
\DoxyCodeLine{1771 }
\DoxyCodeLine{1772   T* GetOrCreateValue()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1773     ThreadLocalValueHolderBase* \textcolor{keyword}{const} holder =}
\DoxyCodeLine{1774         \textcolor{keyword}{static\_cast<}ThreadLocalValueHolderBase*\textcolor{keyword}{>}(pthread\_getspecific(key\_));}
\DoxyCodeLine{1775     \textcolor{keywordflow}{if} (holder != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{1776       \textcolor{keywordflow}{return} CheckedDowncastToActualType<ValueHolder>(holder)-\/>pointer();}
\DoxyCodeLine{1777     \}}
\DoxyCodeLine{1778 }
\DoxyCodeLine{1779     ValueHolder* \textcolor{keyword}{const} new\_holder = default\_factory\_-\/>MakeNewHolder();}
\DoxyCodeLine{1780     ThreadLocalValueHolderBase* \textcolor{keyword}{const} holder\_base = new\_holder;}
\DoxyCodeLine{1781     GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_setspecific(key\_, holder\_base));}
\DoxyCodeLine{1782     \textcolor{keywordflow}{return} new\_holder-\/>pointer();}
\DoxyCodeLine{1783   \}}
\DoxyCodeLine{1784 }
\DoxyCodeLine{1785   \textcolor{keyword}{class }ValueHolderFactory \{}
\DoxyCodeLine{1786    \textcolor{keyword}{public}:}
\DoxyCodeLine{1787     ValueHolderFactory() \{\}}
\DoxyCodeLine{1788     \textcolor{keyword}{virtual} \string~ValueHolderFactory() \{\}}
\DoxyCodeLine{1789     \textcolor{keyword}{virtual} ValueHolder* MakeNewHolder() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{1790 }
\DoxyCodeLine{1791    \textcolor{keyword}{private}:}
\DoxyCodeLine{1792     ValueHolderFactory(\textcolor{keyword}{const} ValueHolderFactory\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1793     ValueHolderFactory\& operator=(\textcolor{keyword}{const} ValueHolderFactory\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1794   \};}
\DoxyCodeLine{1795 }
\DoxyCodeLine{1796   \textcolor{keyword}{class }DefaultValueHolderFactory : \textcolor{keyword}{public} ValueHolderFactory \{}
\DoxyCodeLine{1797    \textcolor{keyword}{public}:}
\DoxyCodeLine{1798     DefaultValueHolderFactory() \{\}}
\DoxyCodeLine{1799     ValueHolder* MakeNewHolder()\textcolor{keyword}{ const override }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{new} ValueHolder(); \}}
\DoxyCodeLine{1800 }
\DoxyCodeLine{1801    \textcolor{keyword}{private}:}
\DoxyCodeLine{1802     DefaultValueHolderFactory(\textcolor{keyword}{const} DefaultValueHolderFactory\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1803     DefaultValueHolderFactory\& operator=(\textcolor{keyword}{const} DefaultValueHolderFactory\&) =}
\DoxyCodeLine{1804         \textcolor{keyword}{delete};}
\DoxyCodeLine{1805   \};}
\DoxyCodeLine{1806 }
\DoxyCodeLine{1807   \textcolor{keyword}{class }InstanceValueHolderFactory : \textcolor{keyword}{public} ValueHolderFactory \{}
\DoxyCodeLine{1808    \textcolor{keyword}{public}:}
\DoxyCodeLine{1809     \textcolor{keyword}{explicit} InstanceValueHolderFactory(\textcolor{keyword}{const} T\& value) : value\_(value) \{\}}
\DoxyCodeLine{1810     ValueHolder* MakeNewHolder()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{1811       \textcolor{keywordflow}{return} \textcolor{keyword}{new} ValueHolder(value\_);}
\DoxyCodeLine{1812     \}}
\DoxyCodeLine{1813 }
\DoxyCodeLine{1814    \textcolor{keyword}{private}:}
\DoxyCodeLine{1815     \textcolor{keyword}{const} T value\_;  \textcolor{comment}{// The value for each thread.}}
\DoxyCodeLine{1816 }
\DoxyCodeLine{1817     InstanceValueHolderFactory(\textcolor{keyword}{const} InstanceValueHolderFactory\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1818     InstanceValueHolderFactory\& operator=(\textcolor{keyword}{const} InstanceValueHolderFactory\&) =}
\DoxyCodeLine{1819         \textcolor{keyword}{delete};}
\DoxyCodeLine{1820   \};}
\DoxyCodeLine{1821 }
\DoxyCodeLine{1822   \textcolor{comment}{// A key pthreads uses for looking up per-\/thread values.}}
\DoxyCodeLine{1823   \textcolor{keyword}{const} pthread\_key\_t key\_;}
\DoxyCodeLine{1824   std::unique\_ptr<ValueHolderFactory> default\_factory\_;}
\DoxyCodeLine{1825 }
\DoxyCodeLine{1826   ThreadLocal(\textcolor{keyword}{const} ThreadLocal\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1827   ThreadLocal\& operator=(\textcolor{keyword}{const} ThreadLocal\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1828 \};}
\DoxyCodeLine{1829 }
\DoxyCodeLine{1830 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{1831 }
\DoxyCodeLine{1832 \textcolor{preprocessor}{\#else  }\textcolor{comment}{// GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{1833 }
\DoxyCodeLine{1834 \textcolor{comment}{// A dummy implementation of synchronization primitives (mutex, lock,}}
\DoxyCodeLine{1835 \textcolor{comment}{// and thread-\/local variable).  Necessary for compiling Google Test where}}
\DoxyCodeLine{1836 \textcolor{comment}{// mutex is not supported -\/ using Google Test in multiple threads is not}}
\DoxyCodeLine{1837 \textcolor{comment}{// supported on such platforms.}}
\DoxyCodeLine{1838 }
\DoxyCodeLine{1839 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1Mutex}{Mutex}} \{}
\DoxyCodeLine{1840  \textcolor{keyword}{public}:}
\DoxyCodeLine{1841   \mbox{\hyperlink{classtesting_1_1internal_1_1Mutex}{Mutex}}() \{\}}
\DoxyCodeLine{1842   \textcolor{keywordtype}{void} Lock() \{\}}
\DoxyCodeLine{1843   \textcolor{keywordtype}{void} Unlock() \{\}}
\DoxyCodeLine{1844   \textcolor{keywordtype}{void} AssertHeld()\textcolor{keyword}{ const }\{\}}
\DoxyCodeLine{1845 \};}
\DoxyCodeLine{1846 }
\DoxyCodeLine{1847 \textcolor{preprocessor}{\#define GTEST\_DECLARE\_STATIC\_MUTEX\_(mutex) \(\backslash\)}}
\DoxyCodeLine{1848 \textcolor{preprocessor}{  extern ::testing::internal::Mutex mutex}}
\DoxyCodeLine{1849 }
\DoxyCodeLine{1850 \textcolor{preprocessor}{\#define GTEST\_DEFINE\_STATIC\_MUTEX\_(mutex) ::testing::internal::Mutex mutex}}
\DoxyCodeLine{1851 }
\DoxyCodeLine{1852 \textcolor{comment}{// We cannot name this class MutexLock because the ctor declaration would}}
\DoxyCodeLine{1853 \textcolor{comment}{// conflict with a macro named MutexLock, which is defined on some}}
\DoxyCodeLine{1854 \textcolor{comment}{// platforms. That macro is used as a defensive measure to prevent against}}
\DoxyCodeLine{1855 \textcolor{comment}{// inadvertent misuses of MutexLock like "{}MutexLock(\&mu)"{} rather than}}
\DoxyCodeLine{1856 \textcolor{comment}{// "{}MutexLock l(\&mu)"{}.  Hence the typedef trick below.}}
\DoxyCodeLine{1857 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1GTestMutexLock}{GTestMutexLock}} \{}
\DoxyCodeLine{1858  \textcolor{keyword}{public}:}
\DoxyCodeLine{1859   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1GTestMutexLock}{GTestMutexLock}}(\mbox{\hyperlink{classtesting_1_1internal_1_1Mutex}{Mutex}}*) \{\}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1860 \};}
\DoxyCodeLine{1861 }
\DoxyCodeLine{1862 \textcolor{keyword}{typedef} \mbox{\hyperlink{classtesting_1_1internal_1_1GTestMutexLock}{GTestMutexLock}} \mbox{\hyperlink{classtesting_1_1internal_1_1GTestMutexLock}{MutexLock}};}
\DoxyCodeLine{1863 }
\DoxyCodeLine{1864 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1865 \textcolor{keyword}{class }GTEST\_API\_ \mbox{\hyperlink{classtesting_1_1internal_1_1ThreadLocal}{ThreadLocal}} \{}
\DoxyCodeLine{1866  \textcolor{keyword}{public}:}
\DoxyCodeLine{1867   \mbox{\hyperlink{classtesting_1_1internal_1_1ThreadLocal}{ThreadLocal}}() : value\_() \{\}}
\DoxyCodeLine{1868   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1ThreadLocal}{ThreadLocal}}(\textcolor{keyword}{const} T\& value) : value\_(value) \{\}}
\DoxyCodeLine{1869   T* pointer() \{ \textcolor{keywordflow}{return} \&value\_; \}}
\DoxyCodeLine{1870   \textcolor{keyword}{const} T* pointer()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \&value\_; \}}
\DoxyCodeLine{1871   \textcolor{keyword}{const} T\& get()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} value\_; \}}
\DoxyCodeLine{1872   \textcolor{keywordtype}{void} set(\textcolor{keyword}{const} T\& value) \{ value\_ = value; \}}
\DoxyCodeLine{1873 }
\DoxyCodeLine{1874  \textcolor{keyword}{private}:}
\DoxyCodeLine{1875   T value\_;}
\DoxyCodeLine{1876 \};}
\DoxyCodeLine{1877 }
\DoxyCodeLine{1878 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{1879 }
\DoxyCodeLine{1880 \textcolor{comment}{// Returns the number of threads running in the process, or 0 to indicate that}}
\DoxyCodeLine{1881 \textcolor{comment}{// we cannot detect it.}}
\DoxyCodeLine{1882 GTEST\_API\_ \textcolor{keywordtype}{size\_t} GetThreadCount();}
\DoxyCodeLine{1883 }
\DoxyCodeLine{1884 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{1885 \textcolor{preprocessor}{\#define GTEST\_PATH\_SEP\_ "{}\(\backslash\)\(\backslash\)"{}}}
\DoxyCodeLine{1886 \textcolor{preprocessor}{\#define GTEST\_HAS\_ALT\_PATH\_SEP\_ 1}}
\DoxyCodeLine{1887 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1888 \textcolor{preprocessor}{\#define GTEST\_PATH\_SEP\_ "{}/"{}}}
\DoxyCodeLine{1889 \textcolor{preprocessor}{\#define GTEST\_HAS\_ALT\_PATH\_SEP\_ 0}}
\DoxyCodeLine{1890 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{1891 }
\DoxyCodeLine{1892 \textcolor{comment}{// Utilities for char.}}
\DoxyCodeLine{1893 }
\DoxyCodeLine{1894 \textcolor{comment}{// isspace(int ch) and friends accept an unsigned char or EOF.  char}}
\DoxyCodeLine{1895 \textcolor{comment}{// may be signed, depending on the compiler (or compiler flags).}}
\DoxyCodeLine{1896 \textcolor{comment}{// Therefore we need to cast a char to unsigned char before calling}}
\DoxyCodeLine{1897 \textcolor{comment}{// isspace(), etc.}}
\DoxyCodeLine{1898 }
\DoxyCodeLine{1899 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsAlpha(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{1900   \textcolor{keywordflow}{return} isalpha(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{1901 \}}
\DoxyCodeLine{1902 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsAlNum(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{1903   \textcolor{keywordflow}{return} isalnum(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{1904 \}}
\DoxyCodeLine{1905 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsDigit(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{1906   \textcolor{keywordflow}{return} isdigit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{1907 \}}
\DoxyCodeLine{1908 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsLower(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{1909   \textcolor{keywordflow}{return} islower(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{1910 \}}
\DoxyCodeLine{1911 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsSpace(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{1912   \textcolor{keywordflow}{return} isspace(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{1913 \}}
\DoxyCodeLine{1914 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsUpper(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{1915   \textcolor{keywordflow}{return} isupper(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{1916 \}}
\DoxyCodeLine{1917 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsXDigit(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{1918   \textcolor{keywordflow}{return} isxdigit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{1919 \}}
\DoxyCodeLine{1920 \textcolor{preprocessor}{\#ifdef \_\_cpp\_char8\_t}}
\DoxyCodeLine{1921 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsXDigit(\textcolor{keywordtype}{char8\_t} ch) \{}
\DoxyCodeLine{1922   \textcolor{keywordflow}{return} isxdigit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{1923 \}}
\DoxyCodeLine{1924 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1925 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsXDigit(\textcolor{keywordtype}{char16\_t} ch) \{}
\DoxyCodeLine{1926   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} low\_byte = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch);}
\DoxyCodeLine{1927   \textcolor{keywordflow}{return} ch == low\_byte \&\& isxdigit(low\_byte) != 0;}
\DoxyCodeLine{1928 \}}
\DoxyCodeLine{1929 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsXDigit(\textcolor{keywordtype}{char32\_t} ch) \{}
\DoxyCodeLine{1930   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} low\_byte = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch);}
\DoxyCodeLine{1931   \textcolor{keywordflow}{return} ch == low\_byte \&\& isxdigit(low\_byte) != 0;}
\DoxyCodeLine{1932 \}}
\DoxyCodeLine{1933 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsXDigit(\textcolor{keywordtype}{wchar\_t} ch) \{}
\DoxyCodeLine{1934   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} low\_byte = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch);}
\DoxyCodeLine{1935   \textcolor{keywordflow}{return} ch == low\_byte \&\& isxdigit(low\_byte) != 0;}
\DoxyCodeLine{1936 \}}
\DoxyCodeLine{1937 }
\DoxyCodeLine{1938 \textcolor{keyword}{inline} \textcolor{keywordtype}{char} ToLower(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{1939   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(tolower(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)));}
\DoxyCodeLine{1940 \}}
\DoxyCodeLine{1941 \textcolor{keyword}{inline} \textcolor{keywordtype}{char} ToUpper(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{1942   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(toupper(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)));}
\DoxyCodeLine{1943 \}}
\DoxyCodeLine{1944 }
\DoxyCodeLine{1945 \textcolor{keyword}{inline} std::string StripTrailingSpaces(std::string str) \{}
\DoxyCodeLine{1946   std::string::iterator it = str.end();}
\DoxyCodeLine{1947   \textcolor{keywordflow}{while} (it != str.begin() \&\& IsSpace(*-\/-\/it)) it = str.erase(it);}
\DoxyCodeLine{1948   \textcolor{keywordflow}{return} str;}
\DoxyCodeLine{1949 \}}
\DoxyCodeLine{1950 }
\DoxyCodeLine{1951 \textcolor{comment}{// The testing::internal::posix namespace holds wrappers for common}}
\DoxyCodeLine{1952 \textcolor{comment}{// POSIX functions.  These wrappers hide the differences between}}
\DoxyCodeLine{1953 \textcolor{comment}{// Windows/MSVC and POSIX systems.  Since some compilers define these}}
\DoxyCodeLine{1954 \textcolor{comment}{// standard functions as macros, the wrapper cannot have the same name}}
\DoxyCodeLine{1955 \textcolor{comment}{// as the wrapped function.}}
\DoxyCodeLine{1956 }
\DoxyCodeLine{1957 \textcolor{keyword}{namespace }posix \{}
\DoxyCodeLine{1958 }
\DoxyCodeLine{1959 \textcolor{comment}{// Functions with a different name on Windows.}}
\DoxyCodeLine{1960 }
\DoxyCodeLine{1961 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{1962 }
\DoxyCodeLine{1963 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\_stat StatStruct;}
\DoxyCodeLine{1964 }
\DoxyCodeLine{1965 \textcolor{preprocessor}{\#ifdef \_\_BORLANDC\_\_}}
\DoxyCodeLine{1966 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} DoIsATTY(\textcolor{keywordtype}{int} fd) \{ \textcolor{keywordflow}{return} isatty(fd); \}}
\DoxyCodeLine{1967 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} StrCaseCmp(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* s1, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* s2) \{}
\DoxyCodeLine{1968   \textcolor{keywordflow}{return} stricmp(s1, s2);}
\DoxyCodeLine{1969 \}}
\DoxyCodeLine{1970 \textcolor{keyword}{inline} \textcolor{keywordtype}{char}* StrDup(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* src) \{ \textcolor{keywordflow}{return} strdup(src); \}}
\DoxyCodeLine{1971 \textcolor{preprocessor}{\#else  }\textcolor{comment}{// !\_\_BORLANDC\_\_}}
\DoxyCodeLine{1972 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS\_MOBILE || GTEST\_OS\_ZOS || GTEST\_OS\_IOS || \(\backslash\)}}
\DoxyCodeLine{1973 \textcolor{preprocessor}{    GTEST\_OS\_WINDOWS\_PHONE || GTEST\_OS\_WINDOWS\_RT || defined(ESP\_PLATFORM)}}
\DoxyCodeLine{1974 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} DoIsATTY(\textcolor{keywordtype}{int} \textcolor{comment}{/* fd */}) \{ \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{1975 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1976 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} DoIsATTY(\textcolor{keywordtype}{int} fd) \{ \textcolor{keywordflow}{return} \_isatty(fd); \}}
\DoxyCodeLine{1977 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{1978 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} StrCaseCmp(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* s1, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* s2) \{}
\DoxyCodeLine{1979   \textcolor{keywordflow}{return} \_stricmp(s1, s2);}
\DoxyCodeLine{1980 \}}
\DoxyCodeLine{1981 \textcolor{keyword}{inline} \textcolor{keywordtype}{char}* StrDup(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* src) \{ \textcolor{keywordflow}{return} \_strdup(src); \}}
\DoxyCodeLine{1982 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_BORLANDC\_\_}}
\DoxyCodeLine{1983 }
\DoxyCodeLine{1984 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{1985 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} FileNo(FILE* file) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\_fileno(file)); \}}
\DoxyCodeLine{1986 \textcolor{comment}{// Stat(), RmDir(), and IsDir() are not needed on Windows CE at this}}
\DoxyCodeLine{1987 \textcolor{comment}{// time and thus not defined there.}}
\DoxyCodeLine{1988 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1989 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} FileNo(FILE* file) \{ \textcolor{keywordflow}{return} \_fileno(file); \}}
\DoxyCodeLine{1990 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} Stat(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* path, StatStruct* buf) \{ \textcolor{keywordflow}{return} \_stat(path, buf); \}}
\DoxyCodeLine{1991 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} RmDir(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* dir) \{ \textcolor{keywordflow}{return} \_rmdir(dir); \}}
\DoxyCodeLine{1992 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsDir(\textcolor{keyword}{const} StatStruct\& st) \{ \textcolor{keywordflow}{return} (\_S\_IFDIR \& st.st\_mode) != 0; \}}
\DoxyCodeLine{1993 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{1994 }
\DoxyCodeLine{1995 \textcolor{preprocessor}{\#elif GTEST\_OS\_ESP8266}}
\DoxyCodeLine{1996 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }stat StatStruct;}
\DoxyCodeLine{1997 }
\DoxyCodeLine{1998 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} FileNo(FILE* file) \{ \textcolor{keywordflow}{return} fileno(file); \}}
\DoxyCodeLine{1999 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} DoIsATTY(\textcolor{keywordtype}{int} fd) \{ \textcolor{keywordflow}{return} isatty(fd); \}}
\DoxyCodeLine{2000 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} Stat(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* path, StatStruct* buf) \{}
\DoxyCodeLine{2001   \textcolor{comment}{// stat function not implemented on ESP8266}}
\DoxyCodeLine{2002   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{2003 \}}
\DoxyCodeLine{2004 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} StrCaseCmp(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* s1, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* s2) \{}
\DoxyCodeLine{2005   \textcolor{keywordflow}{return} strcasecmp(s1, s2);}
\DoxyCodeLine{2006 \}}
\DoxyCodeLine{2007 \textcolor{keyword}{inline} \textcolor{keywordtype}{char}* StrDup(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* src) \{ \textcolor{keywordflow}{return} strdup(src); \}}
\DoxyCodeLine{2008 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} RmDir(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* dir) \{ \textcolor{keywordflow}{return} rmdir(dir); \}}
\DoxyCodeLine{2009 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsDir(\textcolor{keyword}{const} StatStruct\& st) \{ \textcolor{keywordflow}{return} S\_ISDIR(st.st\_mode); \}}
\DoxyCodeLine{2010 }
\DoxyCodeLine{2011 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2012 }
\DoxyCodeLine{2013 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }stat StatStruct;}
\DoxyCodeLine{2014 }
\DoxyCodeLine{2015 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} FileNo(FILE* file) \{ \textcolor{keywordflow}{return} fileno(file); \}}
\DoxyCodeLine{2016 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} DoIsATTY(\textcolor{keywordtype}{int} fd) \{ \textcolor{keywordflow}{return} isatty(fd); \}}
\DoxyCodeLine{2017 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} Stat(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* path, StatStruct* buf) \{ \textcolor{keywordflow}{return} stat(path, buf); \}}
\DoxyCodeLine{2018 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} StrCaseCmp(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* s1, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* s2) \{}
\DoxyCodeLine{2019   \textcolor{keywordflow}{return} strcasecmp(s1, s2);}
\DoxyCodeLine{2020 \}}
\DoxyCodeLine{2021 \textcolor{keyword}{inline} \textcolor{keywordtype}{char}* StrDup(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* src) \{ \textcolor{keywordflow}{return} strdup(src); \}}
\DoxyCodeLine{2022 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} RmDir(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* dir) \{ \textcolor{keywordflow}{return} rmdir(dir); \}}
\DoxyCodeLine{2023 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsDir(\textcolor{keyword}{const} StatStruct\& st) \{ \textcolor{keywordflow}{return} S\_ISDIR(st.st\_mode); \}}
\DoxyCodeLine{2024 }
\DoxyCodeLine{2025 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{2026 }
\DoxyCodeLine{2027 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} IsATTY(\textcolor{keywordtype}{int} fd) \{}
\DoxyCodeLine{2028   \textcolor{comment}{// DoIsATTY might change errno (for example ENOTTY in case you redirect stdout}}
\DoxyCodeLine{2029   \textcolor{comment}{// to a file on Linux), which is unexpected, so save the previous value, and}}
\DoxyCodeLine{2030   \textcolor{comment}{// restore it after the call.}}
\DoxyCodeLine{2031   \textcolor{keywordtype}{int} savedErrno = errno;}
\DoxyCodeLine{2032   \textcolor{keywordtype}{int} isAttyValue = DoIsATTY(fd);}
\DoxyCodeLine{2033   errno = savedErrno;}
\DoxyCodeLine{2034 }
\DoxyCodeLine{2035   \textcolor{keywordflow}{return} isAttyValue;}
\DoxyCodeLine{2036 \}}
\DoxyCodeLine{2037 }
\DoxyCodeLine{2038 \textcolor{comment}{// Functions deprecated by MSVC 8.0.}}
\DoxyCodeLine{2039 }
\DoxyCodeLine{2040 GTEST\_DISABLE\_MSC\_DEPRECATED\_PUSH\_()}
\DoxyCodeLine{2041 }
\DoxyCodeLine{2042 \textcolor{comment}{// ChDir(), FReopen(), FDOpen(), Read(), Write(), Close(), and}}
\DoxyCodeLine{2043 \textcolor{comment}{// StrError() aren't needed on Windows CE at this time and thus not}}
\DoxyCodeLine{2044 \textcolor{comment}{// defined there.}}
\DoxyCodeLine{2045 }
\DoxyCodeLine{2046 \textcolor{preprocessor}{\#if !GTEST\_OS\_WINDOWS\_MOBILE \&\& !GTEST\_OS\_WINDOWS\_PHONE \&\& \(\backslash\)}}
\DoxyCodeLine{2047 \textcolor{preprocessor}{    !GTEST\_OS\_WINDOWS\_RT \&\& !GTEST\_OS\_ESP8266 \&\& !GTEST\_OS\_XTENSA}}
\DoxyCodeLine{2048 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} ChDir(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* dir) \{ \textcolor{keywordflow}{return} chdir(dir); \}}
\DoxyCodeLine{2049 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2050 \textcolor{keyword}{inline} FILE* FOpen(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* path, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* mode) \{}
\DoxyCodeLine{2051 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS \&\& !GTEST\_OS\_WINDOWS\_MINGW}}
\DoxyCodeLine{2052   \textcolor{keyword}{struct }wchar\_codecvt : \textcolor{keyword}{public} std::codecvt<wchar\_t, char, std::mbstate\_t> \{\};}
\DoxyCodeLine{2053   std::wstring\_convert<wchar\_codecvt> converter;}
\DoxyCodeLine{2054   std::wstring wide\_path = converter.from\_bytes(path);}
\DoxyCodeLine{2055   std::wstring wide\_mode = converter.from\_bytes(mode);}
\DoxyCodeLine{2056   \textcolor{keywordflow}{return} \_wfopen(wide\_path.c\_str(), wide\_mode.c\_str());}
\DoxyCodeLine{2057 \textcolor{preprocessor}{\#else   }\textcolor{comment}{// GTEST\_OS\_WINDOWS \&\& !GTEST\_OS\_WINDOWS\_MINGW}}
\DoxyCodeLine{2058   \textcolor{keywordflow}{return} fopen(path, mode);}
\DoxyCodeLine{2059 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS \&\& !GTEST\_OS\_WINDOWS\_MINGW}}
\DoxyCodeLine{2060 \}}
\DoxyCodeLine{2061 \textcolor{preprocessor}{\#if !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2062 \textcolor{keyword}{inline} FILE* FReopen(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* path, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* mode, FILE* stream) \{}
\DoxyCodeLine{2063   \textcolor{keywordflow}{return} freopen(path, mode, stream);}
\DoxyCodeLine{2064 \}}
\DoxyCodeLine{2065 \textcolor{keyword}{inline} FILE* FDOpen(\textcolor{keywordtype}{int} fd, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* mode) \{ \textcolor{keywordflow}{return} fdopen(fd, mode); \}}
\DoxyCodeLine{2066 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2067 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} FClose(FILE* fp) \{ \textcolor{keywordflow}{return} fclose(fp); \}}
\DoxyCodeLine{2068 \textcolor{preprocessor}{\#if !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2069 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} Read(\textcolor{keywordtype}{int} fd, \textcolor{keywordtype}{void}* buf, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count) \{}
\DoxyCodeLine{2070   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(read(fd, buf, count));}
\DoxyCodeLine{2071 \}}
\DoxyCodeLine{2072 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} Write(\textcolor{keywordtype}{int} fd, \textcolor{keyword}{const} \textcolor{keywordtype}{void}* buf, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count) \{}
\DoxyCodeLine{2073   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(write(fd, buf, count));}
\DoxyCodeLine{2074 \}}
\DoxyCodeLine{2075 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} Close(\textcolor{keywordtype}{int} fd) \{ \textcolor{keywordflow}{return} close(fd); \}}
\DoxyCodeLine{2076 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char}* StrError(\textcolor{keywordtype}{int} errnum) \{ \textcolor{keywordflow}{return} strerror(errnum); \}}
\DoxyCodeLine{2077 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2078 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char}* GetEnv(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* name) \{}
\DoxyCodeLine{2079 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS\_MOBILE || GTEST\_OS\_WINDOWS\_PHONE || \(\backslash\)}}
\DoxyCodeLine{2080 \textcolor{preprocessor}{    GTEST\_OS\_WINDOWS\_RT || GTEST\_OS\_ESP8266 || GTEST\_OS\_XTENSA}}
\DoxyCodeLine{2081   \textcolor{comment}{// We are on an embedded platform, which has no environment variables.}}
\DoxyCodeLine{2082   \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}\textcolor{keyword}{>}(name);  \textcolor{comment}{// To prevent 'unused argument' warning.}}
\DoxyCodeLine{2083   \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2084 \textcolor{preprocessor}{\#elif defined(\_\_BORLANDC\_\_) || defined(\_\_SunOS\_5\_8) || defined(\_\_SunOS\_5\_9)}}
\DoxyCodeLine{2085   \textcolor{comment}{// Environment variables which we programmatically clear will be set to the}}
\DoxyCodeLine{2086   \textcolor{comment}{// empty string rather than unset (NULL).  Handle that case.}}
\DoxyCodeLine{2087   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* \textcolor{keyword}{const} env = getenv(name);}
\DoxyCodeLine{2088   \textcolor{keywordflow}{return} (env != \textcolor{keyword}{nullptr} \&\& env[0] != \textcolor{charliteral}{'\(\backslash\)0'}) ? env : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2089 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2090   \textcolor{keywordflow}{return} getenv(name);}
\DoxyCodeLine{2091 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2092 \}}
\DoxyCodeLine{2093 }
\DoxyCodeLine{2094 GTEST\_DISABLE\_MSC\_DEPRECATED\_POP\_()}
\DoxyCodeLine{2095 }
\DoxyCodeLine{2096 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2097 \textcolor{comment}{// Windows CE has no C library. The abort() function is used in}}
\DoxyCodeLine{2098 \textcolor{comment}{// several places in Google Test. This implementation provides a reasonable}}
\DoxyCodeLine{2099 \textcolor{comment}{// imitation of standard behaviour.}}
\DoxyCodeLine{2100 [[noreturn]] \textcolor{keywordtype}{void} Abort();}
\DoxyCodeLine{2101 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2102 [[noreturn]] \textcolor{keyword}{inline} \textcolor{keywordtype}{void} Abort() \{ abort(); \}}
\DoxyCodeLine{2103 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2104 }
\DoxyCodeLine{2105 \}  \textcolor{comment}{// namespace posix}}
\DoxyCodeLine{2106 }
\DoxyCodeLine{2107 \textcolor{comment}{// MSVC "{}deprecates"{} snprintf and issues warnings wherever it is used.  In}}
\DoxyCodeLine{2108 \textcolor{comment}{// order to avoid these warnings, we need to use \_snprintf or \_snprintf\_s on}}
\DoxyCodeLine{2109 \textcolor{comment}{// MSVC-\/based platforms.  We map the GTEST\_SNPRINTF\_ macro to the appropriate}}
\DoxyCodeLine{2110 \textcolor{comment}{// function in order to achieve that.  We use macro definition here because}}
\DoxyCodeLine{2111 \textcolor{comment}{// snprintf is a variadic function.}}
\DoxyCodeLine{2112 \textcolor{preprocessor}{\#if \_MSC\_VER \&\& !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2113 \textcolor{comment}{// MSVC 2005 and above support variadic macros.}}
\DoxyCodeLine{2114 \textcolor{preprocessor}{\#define GTEST\_SNPRINTF\_(buffer, size, format, ...) \(\backslash\)}}
\DoxyCodeLine{2115 \textcolor{preprocessor}{  \_snprintf\_s(buffer, size, size, format, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{2116 \textcolor{preprocessor}{\#elif defined(\_MSC\_VER)}}
\DoxyCodeLine{2117 \textcolor{comment}{// Windows CE does not define \_snprintf\_s}}
\DoxyCodeLine{2118 \textcolor{preprocessor}{\#define GTEST\_SNPRINTF\_ \_snprintf}}
\DoxyCodeLine{2119 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2120 \textcolor{preprocessor}{\#define GTEST\_SNPRINTF\_ snprintf}}
\DoxyCodeLine{2121 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2122 }
\DoxyCodeLine{2123 \textcolor{comment}{// The biggest signed integer type the compiler supports.}}
\DoxyCodeLine{2124 \textcolor{comment}{//}}
\DoxyCodeLine{2125 \textcolor{comment}{// long long is guaranteed to be at least 64-\/bits in C++11.}}
\DoxyCodeLine{2126 \textcolor{keyword}{using }BiggestInt = \textcolor{keywordtype}{long} long;  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{2127 }
\DoxyCodeLine{2128 \textcolor{comment}{// The maximum number a BiggestInt can represent.}}
\DoxyCodeLine{2129 \textcolor{keyword}{constexpr} BiggestInt kMaxBiggestInt = (std::numeric\_limits<BiggestInt>::max)();}
\DoxyCodeLine{2130 }
\DoxyCodeLine{2131 \textcolor{comment}{// This template class serves as a compile-\/time function from size to}}
\DoxyCodeLine{2132 \textcolor{comment}{// type.  It maps a size in bytes to a primitive type with that}}
\DoxyCodeLine{2133 \textcolor{comment}{// size. e.g.}}
\DoxyCodeLine{2134 \textcolor{comment}{//}}
\DoxyCodeLine{2135 \textcolor{comment}{//   TypeWithSize<4>::UInt}}
\DoxyCodeLine{2136 \textcolor{comment}{//}}
\DoxyCodeLine{2137 \textcolor{comment}{// is typedef-\/ed to be unsigned int (unsigned integer made up of 4}}
\DoxyCodeLine{2138 \textcolor{comment}{// bytes).}}
\DoxyCodeLine{2139 \textcolor{comment}{//}}
\DoxyCodeLine{2140 \textcolor{comment}{// Such functionality should belong to STL, but I cannot find it}}
\DoxyCodeLine{2141 \textcolor{comment}{// there.}}
\DoxyCodeLine{2142 \textcolor{comment}{//}}
\DoxyCodeLine{2143 \textcolor{comment}{// Google Test uses this class in the implementation of floating-\/point}}
\DoxyCodeLine{2144 \textcolor{comment}{// comparison.}}
\DoxyCodeLine{2145 \textcolor{comment}{//}}
\DoxyCodeLine{2146 \textcolor{comment}{// For now it only handles UInt (unsigned int) as that's all Google Test}}
\DoxyCodeLine{2147 \textcolor{comment}{// needs.  Other types can be easily added in the future if need}}
\DoxyCodeLine{2148 \textcolor{comment}{// arises.}}
\DoxyCodeLine{2149 \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} size>}
\DoxyCodeLine{2150 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1TypeWithSize}{TypeWithSize}} \{}
\DoxyCodeLine{2151  \textcolor{keyword}{public}:}
\DoxyCodeLine{2152   \textcolor{comment}{// This prevents the user from using TypeWithSize<N> with incorrect}}
\DoxyCodeLine{2153   \textcolor{comment}{// values of N.}}
\DoxyCodeLine{2154   \textcolor{keyword}{using }UInt = void;}
\DoxyCodeLine{2155 \};}
\DoxyCodeLine{2156 }
\DoxyCodeLine{2157 \textcolor{comment}{// The specialization for size 4.}}
\DoxyCodeLine{2158 \textcolor{keyword}{template} <>}
\DoxyCodeLine{2159 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1TypeWithSize}{TypeWithSize}}<4> \{}
\DoxyCodeLine{2160  \textcolor{keyword}{public}:}
\DoxyCodeLine{2161   \textcolor{keyword}{using }Int = std::int32\_t;}
\DoxyCodeLine{2162   \textcolor{keyword}{using }UInt = std::uint32\_t;}
\DoxyCodeLine{2163 \};}
\DoxyCodeLine{2164 }
\DoxyCodeLine{2165 \textcolor{comment}{// The specialization for size 8.}}
\DoxyCodeLine{2166 \textcolor{keyword}{template} <>}
\DoxyCodeLine{2167 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1TypeWithSize}{TypeWithSize}}<8> \{}
\DoxyCodeLine{2168  \textcolor{keyword}{public}:}
\DoxyCodeLine{2169   \textcolor{keyword}{using }Int = std::int64\_t;}
\DoxyCodeLine{2170   \textcolor{keyword}{using }UInt = std::uint64\_t;}
\DoxyCodeLine{2171 \};}
\DoxyCodeLine{2172 }
\DoxyCodeLine{2173 \textcolor{comment}{// Integer types of known sizes.}}
\DoxyCodeLine{2174 \textcolor{keyword}{using }TimeInMillis = int64\_t;  \textcolor{comment}{// Represents time in milliseconds.}}
\DoxyCodeLine{2175 }
\DoxyCodeLine{2176 \textcolor{comment}{// Utilities for command line flags and environment variables.}}
\DoxyCodeLine{2177 }
\DoxyCodeLine{2178 \textcolor{comment}{// Macro for referencing flags.}}
\DoxyCodeLine{2179 \textcolor{preprocessor}{\#if !defined(GTEST\_FLAG)}}
\DoxyCodeLine{2180 \textcolor{preprocessor}{\#define GTEST\_FLAG\_NAME\_(name) gtest\_\#\#name}}
\DoxyCodeLine{2181 \textcolor{preprocessor}{\#define GTEST\_FLAG(name) FLAGS\_gtest\_\#\#name}}
\DoxyCodeLine{2182 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_FLAG)}}
\DoxyCodeLine{2183 }
\DoxyCodeLine{2184 \textcolor{comment}{// Pick a command line flags implementation.}}
\DoxyCodeLine{2185 \textcolor{preprocessor}{\#if GTEST\_HAS\_ABSL}}
\DoxyCodeLine{2186 }
\DoxyCodeLine{2187 \textcolor{comment}{// Macros for defining flags.}}
\DoxyCodeLine{2188 \textcolor{preprocessor}{\#define GTEST\_DEFINE\_bool\_(name, default\_val, doc) \(\backslash\)}}
\DoxyCodeLine{2189 \textcolor{preprocessor}{  ABSL\_FLAG(bool, GTEST\_FLAG\_NAME\_(name), default\_val, doc)}}
\DoxyCodeLine{2190 \textcolor{preprocessor}{\#define GTEST\_DEFINE\_int32\_(name, default\_val, doc) \(\backslash\)}}
\DoxyCodeLine{2191 \textcolor{preprocessor}{  ABSL\_FLAG(int32\_t, GTEST\_FLAG\_NAME\_(name), default\_val, doc)}}
\DoxyCodeLine{2192 \textcolor{preprocessor}{\#define GTEST\_DEFINE\_string\_(name, default\_val, doc) \(\backslash\)}}
\DoxyCodeLine{2193 \textcolor{preprocessor}{  ABSL\_FLAG(std::string, GTEST\_FLAG\_NAME\_(name), default\_val, doc)}}
\DoxyCodeLine{2194 }
\DoxyCodeLine{2195 \textcolor{comment}{// Macros for declaring flags.}}
\DoxyCodeLine{2196 \textcolor{preprocessor}{\#define GTEST\_DECLARE\_bool\_(name) \(\backslash\)}}
\DoxyCodeLine{2197 \textcolor{preprocessor}{  ABSL\_DECLARE\_FLAG(bool, GTEST\_FLAG\_NAME\_(name))}}
\DoxyCodeLine{2198 \textcolor{preprocessor}{\#define GTEST\_DECLARE\_int32\_(name) \(\backslash\)}}
\DoxyCodeLine{2199 \textcolor{preprocessor}{  ABSL\_DECLARE\_FLAG(int32\_t, GTEST\_FLAG\_NAME\_(name))}}
\DoxyCodeLine{2200 \textcolor{preprocessor}{\#define GTEST\_DECLARE\_string\_(name) \(\backslash\)}}
\DoxyCodeLine{2201 \textcolor{preprocessor}{  ABSL\_DECLARE\_FLAG(std::string, GTEST\_FLAG\_NAME\_(name))}}
\DoxyCodeLine{2202 }
\DoxyCodeLine{2203 \textcolor{preprocessor}{\#define GTEST\_FLAG\_SAVER\_ ::absl::FlagSaver}}
\DoxyCodeLine{2204 }
\DoxyCodeLine{2205 \textcolor{preprocessor}{\#define GTEST\_FLAG\_GET(name) ::absl::GetFlag(GTEST\_FLAG(name))}}
\DoxyCodeLine{2206 \textcolor{preprocessor}{\#define GTEST\_FLAG\_SET(name, value) \(\backslash\)}}
\DoxyCodeLine{2207 \textcolor{preprocessor}{  (void)(::absl::SetFlag(\&GTEST\_FLAG(name), value))}}
\DoxyCodeLine{2208 \textcolor{preprocessor}{\#define GTEST\_USE\_OWN\_FLAGFILE\_FLAG\_ 0}}
\DoxyCodeLine{2209 }
\DoxyCodeLine{2210 \textcolor{preprocessor}{\#else  }\textcolor{comment}{// GTEST\_HAS\_ABSL}}
\DoxyCodeLine{2211 }
\DoxyCodeLine{2212 \textcolor{comment}{// Macros for defining flags.}}
\DoxyCodeLine{2213 \textcolor{preprocessor}{\#define GTEST\_DEFINE\_bool\_(name, default\_val, doc)  \(\backslash\)}}
\DoxyCodeLine{2214 \textcolor{preprocessor}{  namespace testing \{                               \(\backslash\)}}
\DoxyCodeLine{2215 \textcolor{preprocessor}{  GTEST\_API\_ bool GTEST\_FLAG(name) = (default\_val); \(\backslash\)}}
\DoxyCodeLine{2216 \textcolor{preprocessor}{  \}                                                 \(\backslash\)}}
\DoxyCodeLine{2217 \textcolor{preprocessor}{  static\_assert(true, "{}no-\/op to require trailing semicolon"{}})}
\DoxyCodeLine{2218 \textcolor{preprocessor}{\#define GTEST\_DEFINE\_int32\_(name, default\_val, doc)         \(\backslash\)}}
\DoxyCodeLine{2219 \textcolor{preprocessor}{  namespace testing \{                                       \(\backslash\)}}
\DoxyCodeLine{2220 \textcolor{preprocessor}{  GTEST\_API\_ std::int32\_t GTEST\_FLAG(name) = (default\_val); \(\backslash\)}}
\DoxyCodeLine{2221 \textcolor{preprocessor}{  \}                                                         \(\backslash\)}}
\DoxyCodeLine{2222 \textcolor{preprocessor}{  static\_assert(true, "{}no-\/op to require trailing semicolon"{}})}
\DoxyCodeLine{2223 \textcolor{preprocessor}{\#define GTEST\_DEFINE\_string\_(name, default\_val, doc)         \(\backslash\)}}
\DoxyCodeLine{2224 \textcolor{preprocessor}{  namespace testing \{                                        \(\backslash\)}}
\DoxyCodeLine{2225 \textcolor{preprocessor}{  GTEST\_API\_ ::std::string GTEST\_FLAG(name) = (default\_val); \(\backslash\)}}
\DoxyCodeLine{2226 \textcolor{preprocessor}{  \}                                                          \(\backslash\)}}
\DoxyCodeLine{2227 \textcolor{preprocessor}{  static\_assert(true, "{}no-\/op to require trailing semicolon"{}})}
\DoxyCodeLine{2228 }
\DoxyCodeLine{2229 \textcolor{comment}{// Macros for declaring flags.}}
\DoxyCodeLine{2230 \textcolor{preprocessor}{\#define GTEST\_DECLARE\_bool\_(name)          \(\backslash\)}}
\DoxyCodeLine{2231 \textcolor{preprocessor}{  namespace testing \{                      \(\backslash\)}}
\DoxyCodeLine{2232 \textcolor{preprocessor}{  GTEST\_API\_ extern bool GTEST\_FLAG(name); \(\backslash\)}}
\DoxyCodeLine{2233 \textcolor{preprocessor}{  \}                                        \(\backslash\)}}
\DoxyCodeLine{2234 \textcolor{preprocessor}{  static\_assert(true, "{}no-\/op to require trailing semicolon"{}})}
\DoxyCodeLine{2235 \textcolor{preprocessor}{\#define GTEST\_DECLARE\_int32\_(name)                 \(\backslash\)}}
\DoxyCodeLine{2236 \textcolor{preprocessor}{  namespace testing \{                              \(\backslash\)}}
\DoxyCodeLine{2237 \textcolor{preprocessor}{  GTEST\_API\_ extern std::int32\_t GTEST\_FLAG(name); \(\backslash\)}}
\DoxyCodeLine{2238 \textcolor{preprocessor}{  \}                                                \(\backslash\)}}
\DoxyCodeLine{2239 \textcolor{preprocessor}{  static\_assert(true, "{}no-\/op to require trailing semicolon"{}})}
\DoxyCodeLine{2240 \textcolor{preprocessor}{\#define GTEST\_DECLARE\_string\_(name)                 \(\backslash\)}}
\DoxyCodeLine{2241 \textcolor{preprocessor}{  namespace testing \{                               \(\backslash\)}}
\DoxyCodeLine{2242 \textcolor{preprocessor}{  GTEST\_API\_ extern ::std::string GTEST\_FLAG(name); \(\backslash\)}}
\DoxyCodeLine{2243 \textcolor{preprocessor}{  \}                                                 \(\backslash\)}}
\DoxyCodeLine{2244 \textcolor{preprocessor}{  static\_assert(true, "{}no-\/op to require trailing semicolon"{}})}
\DoxyCodeLine{2245 }
\DoxyCodeLine{2246 \textcolor{preprocessor}{\#define GTEST\_FLAG\_SAVER\_ ::testing::internal::GTestFlagSaver}}
\DoxyCodeLine{2247 }
\DoxyCodeLine{2248 \textcolor{preprocessor}{\#define GTEST\_FLAG\_GET(name) ::testing::GTEST\_FLAG(name)}}
\DoxyCodeLine{2249 \textcolor{preprocessor}{\#define GTEST\_FLAG\_SET(name, value) (void)(::testing::GTEST\_FLAG(name) = value)}}
\DoxyCodeLine{2250 \textcolor{preprocessor}{\#define GTEST\_USE\_OWN\_FLAGFILE\_FLAG\_ 1}}
\DoxyCodeLine{2251 }
\DoxyCodeLine{2252 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_ABSL}}
\DoxyCodeLine{2253 }
\DoxyCodeLine{2254 \textcolor{comment}{// Thread annotations}}
\DoxyCodeLine{2255 \textcolor{preprocessor}{\#if !defined(GTEST\_EXCLUSIVE\_LOCK\_REQUIRED\_)}}
\DoxyCodeLine{2256 \textcolor{preprocessor}{\#define GTEST\_EXCLUSIVE\_LOCK\_REQUIRED\_(locks)}}
\DoxyCodeLine{2257 \textcolor{preprocessor}{\#define GTEST\_LOCK\_EXCLUDED\_(locks)}}
\DoxyCodeLine{2258 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_EXCLUSIVE\_LOCK\_REQUIRED\_)}}
\DoxyCodeLine{2259 }
\DoxyCodeLine{2260 \textcolor{comment}{// Parses 'str' for a 32-\/bit signed integer.  If successful, writes the result}}
\DoxyCodeLine{2261 \textcolor{comment}{// to *value and returns true; otherwise leaves *value unchanged and returns}}
\DoxyCodeLine{2262 \textcolor{comment}{// false.}}
\DoxyCodeLine{2263 GTEST\_API\_ \textcolor{keywordtype}{bool} ParseInt32(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1Message}{Message}}\& src\_text, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* str,}
\DoxyCodeLine{2264                            int32\_t* value);}
\DoxyCodeLine{2265 }
\DoxyCodeLine{2266 \textcolor{comment}{// Parses a bool/int32\_t/string from the environment variable}}
\DoxyCodeLine{2267 \textcolor{comment}{// corresponding to the given Google Test flag.}}
\DoxyCodeLine{2268 \textcolor{keywordtype}{bool} BoolFromGTestEnv(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* flag, \textcolor{keywordtype}{bool} default\_val);}
\DoxyCodeLine{2269 GTEST\_API\_ int32\_t Int32FromGTestEnv(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* flag, int32\_t default\_val);}
\DoxyCodeLine{2270 std::string OutputFlagAlsoCheckEnvVar();}
\DoxyCodeLine{2271 \textcolor{keyword}{const} \textcolor{keywordtype}{char}* StringFromGTestEnv(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* flag, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* default\_val);}
\DoxyCodeLine{2272 }
\DoxyCodeLine{2273 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{2274 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{2275 }
\DoxyCodeLine{2276 \textcolor{preprocessor}{\#if !defined(GTEST\_INTERNAL\_DEPRECATED)}}
\DoxyCodeLine{2277 }
\DoxyCodeLine{2278 \textcolor{comment}{// Internal Macro to mark an API deprecated, for googletest usage only}}
\DoxyCodeLine{2279 \textcolor{comment}{// Usage: class GTEST\_INTERNAL\_DEPRECATED(message) MyClass or}}
\DoxyCodeLine{2280 \textcolor{comment}{// GTEST\_INTERNAL\_DEPRECATED(message) <return\_type> myFunction(); Every usage of}}
\DoxyCodeLine{2281 \textcolor{comment}{// a deprecated entity will trigger a warning when compiled with}}
\DoxyCodeLine{2282 \textcolor{comment}{// `-\/Wdeprecated-\/declarations` option (clang, gcc, any \_\_GNUC\_\_ compiler).}}
\DoxyCodeLine{2283 \textcolor{comment}{// For msvc /W3 option will need to be used}}
\DoxyCodeLine{2284 \textcolor{comment}{// Note that for 'other' compilers this macro evaluates to nothing to prevent}}
\DoxyCodeLine{2285 \textcolor{comment}{// compilations errors.}}
\DoxyCodeLine{2286 \textcolor{preprocessor}{\#if defined(\_MSC\_VER)}}
\DoxyCodeLine{2287 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_DEPRECATED(message) \_\_declspec(deprecated(message))}}
\DoxyCodeLine{2288 \textcolor{preprocessor}{\#elif defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{2289 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_DEPRECATED(message) \_\_attribute\_\_((deprecated(message)))}}
\DoxyCodeLine{2290 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2291 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_DEPRECATED(message)}}
\DoxyCodeLine{2292 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2293 }
\DoxyCodeLine{2294 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_INTERNAL\_DEPRECATED)}}
\DoxyCodeLine{2295 }
\DoxyCodeLine{2296 \textcolor{preprocessor}{\#if GTEST\_HAS\_ABSL}}
\DoxyCodeLine{2297 \textcolor{comment}{// Always use absl::any for UniversalPrinter<> specializations if googletest}}
\DoxyCodeLine{2298 \textcolor{comment}{// is built with absl support.}}
\DoxyCodeLine{2299 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_HAS\_ANY 1}}
\DoxyCodeLine{2300 \textcolor{preprocessor}{\#include "{}absl/types/any.h"{}}}
\DoxyCodeLine{2301 \textcolor{keyword}{namespace }testing \{}
\DoxyCodeLine{2302 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{2303 \textcolor{keyword}{using }Any = ::absl::any;}
\DoxyCodeLine{2304 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{2305 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{2306 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2307 \textcolor{preprocessor}{\#ifdef \_\_has\_include}}
\DoxyCodeLine{2308 \textcolor{preprocessor}{\#if \_\_has\_include(<any>) \&\& \_\_cplusplus >= 201703L}}
\DoxyCodeLine{2309 \textcolor{comment}{// Otherwise for C++17 and higher use std::any for UniversalPrinter<>}}
\DoxyCodeLine{2310 \textcolor{comment}{// specializations.}}
\DoxyCodeLine{2311 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_HAS\_ANY 1}}
\DoxyCodeLine{2312 \textcolor{preprocessor}{\#include <any>}}
\DoxyCodeLine{2313 \textcolor{keyword}{namespace }testing \{}
\DoxyCodeLine{2314 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{2315 \textcolor{keyword}{using }Any = ::std::any;}
\DoxyCodeLine{2316 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{2317 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{2318 \textcolor{comment}{// The case where absl is configured NOT to alias std::any is not}}
\DoxyCodeLine{2319 \textcolor{comment}{// supported.}}
\DoxyCodeLine{2320 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_has\_include(<any>) \&\& \_\_cplusplus >= 201703L}}
\DoxyCodeLine{2321 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_has\_include}}
\DoxyCodeLine{2322 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_ABSL}}
\DoxyCodeLine{2323 }
\DoxyCodeLine{2324 \textcolor{preprocessor}{\#if GTEST\_HAS\_ABSL}}
\DoxyCodeLine{2325 \textcolor{comment}{// Always use absl::optional for UniversalPrinter<> specializations if}}
\DoxyCodeLine{2326 \textcolor{comment}{// googletest is built with absl support.}}
\DoxyCodeLine{2327 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_HAS\_OPTIONAL 1}}
\DoxyCodeLine{2328 \textcolor{preprocessor}{\#include "{}absl/types/optional.h"{}}}
\DoxyCodeLine{2329 \textcolor{keyword}{namespace }testing \{}
\DoxyCodeLine{2330 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{2331 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{2332 \textcolor{keyword}{using }Optional = ::absl::optional<T>;}
\DoxyCodeLine{2333 inline ::absl::nullopt\_t Nullopt() \{ return ::absl::nullopt; \}}
\DoxyCodeLine{2334 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{2335 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{2336 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2337 \textcolor{preprocessor}{\#ifdef \_\_has\_include}}
\DoxyCodeLine{2338 \textcolor{preprocessor}{\#if \_\_has\_include(<optional>) \&\& \_\_cplusplus >= 201703L}}
\DoxyCodeLine{2339 \textcolor{comment}{// Otherwise for C++17 and higher use std::optional for UniversalPrinter<>}}
\DoxyCodeLine{2340 \textcolor{comment}{// specializations.}}
\DoxyCodeLine{2341 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_HAS\_OPTIONAL 1}}
\DoxyCodeLine{2342 \textcolor{preprocessor}{\#include <optional>}}
\DoxyCodeLine{2343 \textcolor{keyword}{namespace }testing \{}
\DoxyCodeLine{2344 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{2345 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{2346 \textcolor{keyword}{using }Optional = ::std::optional<T>;}
\DoxyCodeLine{2347 inline ::std::nullopt\_t Nullopt() \{ return ::std::nullopt; \}}
\DoxyCodeLine{2348 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{2349 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{2350 \textcolor{comment}{// The case where absl is configured NOT to alias std::optional is not}}
\DoxyCodeLine{2351 \textcolor{comment}{// supported.}}
\DoxyCodeLine{2352 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_has\_include(<optional>) \&\& \_\_cplusplus >= 201703L}}
\DoxyCodeLine{2353 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_has\_include}}
\DoxyCodeLine{2354 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_ABSL}}
\DoxyCodeLine{2355 }
\DoxyCodeLine{2356 \textcolor{preprocessor}{\#if GTEST\_HAS\_ABSL}}
\DoxyCodeLine{2357 \textcolor{comment}{// Always use absl::string\_view for Matcher<> specializations if googletest}}
\DoxyCodeLine{2358 \textcolor{comment}{// is built with absl support.}}
\DoxyCodeLine{2359 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_HAS\_STRING\_VIEW 1}}
\DoxyCodeLine{2360 \textcolor{preprocessor}{\#include "{}absl/strings/string\_view.h"{}}}
\DoxyCodeLine{2361 \textcolor{keyword}{namespace }testing \{}
\DoxyCodeLine{2362 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{2363 \textcolor{keyword}{using }StringView = ::absl::string\_view;}
\DoxyCodeLine{2364 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{2365 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{2366 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2367 \textcolor{preprocessor}{\#ifdef \_\_has\_include}}
\DoxyCodeLine{2368 \textcolor{preprocessor}{\#if \_\_has\_include(<string\_view>) \&\& \_\_cplusplus >= 201703L}}
\DoxyCodeLine{2369 \textcolor{comment}{// Otherwise for C++17 and higher use std::string\_view for Matcher<>}}
\DoxyCodeLine{2370 \textcolor{comment}{// specializations.}}
\DoxyCodeLine{2371 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_HAS\_STRING\_VIEW 1}}
\DoxyCodeLine{2372 \textcolor{preprocessor}{\#include <string\_view>}}
\DoxyCodeLine{2373 \textcolor{keyword}{namespace }testing \{}
\DoxyCodeLine{2374 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{2375 \textcolor{keyword}{using }StringView = ::std::string\_view;}
\DoxyCodeLine{2376 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{2377 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{2378 \textcolor{comment}{// The case where absl is configured NOT to alias std::string\_view is not}}
\DoxyCodeLine{2379 \textcolor{comment}{// supported.}}
\DoxyCodeLine{2380 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_has\_include(<string\_view>) \&\& \_\_cplusplus >= 201703L}}
\DoxyCodeLine{2381 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_has\_include}}
\DoxyCodeLine{2382 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_ABSL}}
\DoxyCodeLine{2383 }
\DoxyCodeLine{2384 \textcolor{preprocessor}{\#if GTEST\_HAS\_ABSL}}
\DoxyCodeLine{2385 \textcolor{comment}{// Always use absl::variant for UniversalPrinter<> specializations if googletest}}
\DoxyCodeLine{2386 \textcolor{comment}{// is built with absl support.}}
\DoxyCodeLine{2387 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_HAS\_VARIANT 1}}
\DoxyCodeLine{2388 \textcolor{preprocessor}{\#include "{}absl/types/variant.h"{}}}
\DoxyCodeLine{2389 \textcolor{keyword}{namespace }testing \{}
\DoxyCodeLine{2390 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{2391 \textcolor{keyword}{template} <\textcolor{keyword}{typename}... T>}
\DoxyCodeLine{2392 \textcolor{keyword}{using }Variant = ::absl::variant<T...>;}
\DoxyCodeLine{2393 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{2394 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{2395 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2396 \textcolor{preprocessor}{\#ifdef \_\_has\_include}}
\DoxyCodeLine{2397 \textcolor{preprocessor}{\#if \_\_has\_include(<variant>) \&\& \_\_cplusplus >= 201703L}}
\DoxyCodeLine{2398 \textcolor{comment}{// Otherwise for C++17 and higher use std::variant for UniversalPrinter<>}}
\DoxyCodeLine{2399 \textcolor{comment}{// specializations.}}
\DoxyCodeLine{2400 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_HAS\_VARIANT 1}}
\DoxyCodeLine{2401 \textcolor{preprocessor}{\#include <variant>}}
\DoxyCodeLine{2402 \textcolor{keyword}{namespace }testing \{}
\DoxyCodeLine{2403 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{2404 \textcolor{keyword}{template} <\textcolor{keyword}{typename}... T>}
\DoxyCodeLine{2405 \textcolor{keyword}{using }Variant = ::std::variant<T...>;}
\DoxyCodeLine{2406 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{2407 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{2408 \textcolor{comment}{// The case where absl is configured NOT to alias std::variant is not supported.}}
\DoxyCodeLine{2409 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_has\_include(<variant>) \&\& \_\_cplusplus >= 201703L}}
\DoxyCodeLine{2410 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_has\_include}}
\DoxyCodeLine{2411 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_ABSL}}
\DoxyCodeLine{2412 }
\DoxyCodeLine{2413 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GOOGLETEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PORT\_H\_}}

\end{DoxyCode}
