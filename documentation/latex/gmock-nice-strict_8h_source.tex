\hypertarget{gmock-nice-strict_8h_source}{}\doxysection{gmock-\/nice-\/strict.h}
\label{gmock-nice-strict_8h_source}\index{build/\_deps/googletest-\/src/googlemock/include/gmock/gmock-\/nice-\/strict.h@{build/\_deps/googletest-\/src/googlemock/include/gmock/gmock-\/nice-\/strict.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// Copyright 2008, Google Inc.}}
\DoxyCodeLine{2 \textcolor{comment}{// All rights reserved.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{// Redistribution and use in source and binary forms, with or without}}
\DoxyCodeLine{5 \textcolor{comment}{// modification, are permitted provided that the following conditions are}}
\DoxyCodeLine{6 \textcolor{comment}{// met:}}
\DoxyCodeLine{7 \textcolor{comment}{//}}
\DoxyCodeLine{8 \textcolor{comment}{//     * Redistributions of source code must retain the above copyright}}
\DoxyCodeLine{9 \textcolor{comment}{// notice, this list of conditions and the following disclaimer.}}
\DoxyCodeLine{10 \textcolor{comment}{//     * Redistributions in binary form must reproduce the above}}
\DoxyCodeLine{11 \textcolor{comment}{// copyright notice, this list of conditions and the following disclaimer}}
\DoxyCodeLine{12 \textcolor{comment}{// in the documentation and/or other materials provided with the}}
\DoxyCodeLine{13 \textcolor{comment}{// distribution.}}
\DoxyCodeLine{14 \textcolor{comment}{//     * Neither the name of Google Inc. nor the names of its}}
\DoxyCodeLine{15 \textcolor{comment}{// contributors may be used to endorse or promote products derived from}}
\DoxyCodeLine{16 \textcolor{comment}{// this software without specific prior written permission.}}
\DoxyCodeLine{17 \textcolor{comment}{//}}
\DoxyCodeLine{18 \textcolor{comment}{// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS}}
\DoxyCodeLine{19 \textcolor{comment}{// "{}AS IS"{} AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT}}
\DoxyCodeLine{20 \textcolor{comment}{// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR}}
\DoxyCodeLine{21 \textcolor{comment}{// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT}}
\DoxyCodeLine{22 \textcolor{comment}{// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,}}
\DoxyCodeLine{23 \textcolor{comment}{// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT}}
\DoxyCodeLine{24 \textcolor{comment}{// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,}}
\DoxyCodeLine{25 \textcolor{comment}{// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY}}
\DoxyCodeLine{26 \textcolor{comment}{// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT}}
\DoxyCodeLine{27 \textcolor{comment}{// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE}}
\DoxyCodeLine{28 \textcolor{comment}{// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{comment}{// Implements class templates NiceMock, NaggyMock, and StrictMock.}}
\DoxyCodeLine{31 \textcolor{comment}{//}}
\DoxyCodeLine{32 \textcolor{comment}{// Given a mock class MockFoo that is created using Google Mock,}}
\DoxyCodeLine{33 \textcolor{comment}{// NiceMock<MockFoo> is a subclass of MockFoo that allows}}
\DoxyCodeLine{34 \textcolor{comment}{// uninteresting calls (i.e. calls to mock methods that have no}}
\DoxyCodeLine{35 \textcolor{comment}{// EXPECT\_CALL specs), NaggyMock<MockFoo> is a subclass of MockFoo}}
\DoxyCodeLine{36 \textcolor{comment}{// that prints a warning when an uninteresting call occurs, and}}
\DoxyCodeLine{37 \textcolor{comment}{// StrictMock<MockFoo> is a subclass of MockFoo that treats all}}
\DoxyCodeLine{38 \textcolor{comment}{// uninteresting calls as errors.}}
\DoxyCodeLine{39 \textcolor{comment}{//}}
\DoxyCodeLine{40 \textcolor{comment}{// Currently a mock is naggy by default, so MockFoo and}}
\DoxyCodeLine{41 \textcolor{comment}{// NaggyMock<MockFoo> behave like the same.  However, we will soon}}
\DoxyCodeLine{42 \textcolor{comment}{// switch the default behavior of mocks to be nice, as that in general}}
\DoxyCodeLine{43 \textcolor{comment}{// leads to more maintainable tests.  When that happens, MockFoo will}}
\DoxyCodeLine{44 \textcolor{comment}{// stop behaving like NaggyMock<MockFoo> and start behaving like}}
\DoxyCodeLine{45 \textcolor{comment}{// NiceMock<MockFoo>.}}
\DoxyCodeLine{46 \textcolor{comment}{//}}
\DoxyCodeLine{47 \textcolor{comment}{// NiceMock, NaggyMock, and StrictMock "{}inherit"{} the constructors of}}
\DoxyCodeLine{48 \textcolor{comment}{// their respective base class.  Therefore you can write}}
\DoxyCodeLine{49 \textcolor{comment}{// NiceMock<MockFoo>(5, "{}a"{}) to construct a nice mock where MockFoo}}
\DoxyCodeLine{50 \textcolor{comment}{// has a constructor that accepts (int, const char*), for example.}}
\DoxyCodeLine{51 \textcolor{comment}{//}}
\DoxyCodeLine{52 \textcolor{comment}{// A known limitation is that NiceMock<MockFoo>, NaggyMock<MockFoo>,}}
\DoxyCodeLine{53 \textcolor{comment}{// and StrictMock<MockFoo> only works for mock methods defined using}}
\DoxyCodeLine{54 \textcolor{comment}{// the MOCK\_METHOD* family of macros DIRECTLY in the MockFoo class.}}
\DoxyCodeLine{55 \textcolor{comment}{// If a mock method is defined in a base class of MockFoo, the "{}nice"{}}}
\DoxyCodeLine{56 \textcolor{comment}{// or "{}strict"{} modifier may not affect it, depending on the compiler.}}
\DoxyCodeLine{57 \textcolor{comment}{// In particular, nesting NiceMock, NaggyMock, and StrictMock is NOT}}
\DoxyCodeLine{58 \textcolor{comment}{// supported.}}
\DoxyCodeLine{59 }
\DoxyCodeLine{60 \textcolor{comment}{// IWYU pragma: private, include "{}gmock/gmock.h"{}}}
\DoxyCodeLine{61 \textcolor{comment}{// IWYU pragma: friend gmock/.*}}
\DoxyCodeLine{62 }
\DoxyCodeLine{63 \textcolor{preprocessor}{\#ifndef GOOGLEMOCK\_INCLUDE\_GMOCK\_GMOCK\_NICE\_STRICT\_H\_}}
\DoxyCodeLine{64 \textcolor{preprocessor}{\#define GOOGLEMOCK\_INCLUDE\_GMOCK\_GMOCK\_NICE\_STRICT\_H\_}}
\DoxyCodeLine{65 }
\DoxyCodeLine{66 \textcolor{preprocessor}{\#include <cstdint>}}
\DoxyCodeLine{67 \textcolor{preprocessor}{\#include <type\_traits>}}
\DoxyCodeLine{68 }
\DoxyCodeLine{69 \textcolor{preprocessor}{\#include "{}gmock/gmock-\/spec-\/builders.h"{}}}
\DoxyCodeLine{70 \textcolor{preprocessor}{\#include "{}gmock/internal/gmock-\/port.h"{}}}
\DoxyCodeLine{71 }
\DoxyCodeLine{72 \textcolor{keyword}{namespace }testing \{}
\DoxyCodeLine{73 \textcolor{keyword}{template} <\textcolor{keyword}{class} MockClass>}
\DoxyCodeLine{74 \textcolor{keyword}{class }NiceMock;}
\DoxyCodeLine{75 \textcolor{keyword}{template} <\textcolor{keyword}{class} MockClass>}
\DoxyCodeLine{76 \textcolor{keyword}{class }NaggyMock;}
\DoxyCodeLine{77 \textcolor{keyword}{template} <\textcolor{keyword}{class} MockClass>}
\DoxyCodeLine{78 \textcolor{keyword}{class }StrictMock;}
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{81 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{82 std::true\_type StrictnessModifierProbe(\textcolor{keyword}{const} NiceMock<T>\&);}
\DoxyCodeLine{83 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{84 std::true\_type StrictnessModifierProbe(\textcolor{keyword}{const} NaggyMock<T>\&);}
\DoxyCodeLine{85 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{86 std::true\_type StrictnessModifierProbe(\textcolor{keyword}{const} StrictMock<T>\&);}
\DoxyCodeLine{87 std::false\_type StrictnessModifierProbe(...);}
\DoxyCodeLine{88 }
\DoxyCodeLine{89 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{90 \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} HasStrictnessModifier() \{}
\DoxyCodeLine{91   \textcolor{keywordflow}{return} \textcolor{keyword}{decltype}(StrictnessModifierProbe(std::declval<const T\&>()))::value;}
\DoxyCodeLine{92 \}}
\DoxyCodeLine{93 }
\DoxyCodeLine{94 \textcolor{comment}{// Base classes that register and deregister with testing::Mock to alter the}}
\DoxyCodeLine{95 \textcolor{comment}{// default behavior around uninteresting calls. Inheriting from one of these}}
\DoxyCodeLine{96 \textcolor{comment}{// classes first and then MockClass ensures the MockClass constructor is run}}
\DoxyCodeLine{97 \textcolor{comment}{// after registration, and that the MockClass destructor runs before}}
\DoxyCodeLine{98 \textcolor{comment}{// deregistration. This guarantees that MockClass's constructor and destructor}}
\DoxyCodeLine{99 \textcolor{comment}{// run with the same level of strictness as its instance methods.}}
\DoxyCodeLine{100 }
\DoxyCodeLine{101 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS \&\& !GTEST\_OS\_WINDOWS\_MINGW \&\& \(\backslash\)}}
\DoxyCodeLine{102 \textcolor{preprocessor}{    (defined(\_MSC\_VER) || defined(\_\_clang\_\_))}}
\DoxyCodeLine{103 \textcolor{comment}{// We need to mark these classes with this declspec to ensure that}}
\DoxyCodeLine{104 \textcolor{comment}{// the empty base class optimization is performed.}}
\DoxyCodeLine{105 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_EMPTY\_BASE\_CLASS \_\_declspec(empty\_bases)}}
\DoxyCodeLine{106 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{107 \textcolor{preprocessor}{\#define GTEST\_INTERNAL\_EMPTY\_BASE\_CLASS}}
\DoxyCodeLine{108 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{109 }
\DoxyCodeLine{110 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Base>}
\DoxyCodeLine{111 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1NiceMockImpl}{NiceMockImpl}} \{}
\DoxyCodeLine{112  \textcolor{keyword}{public}:}
\DoxyCodeLine{113   \mbox{\hyperlink{classtesting_1_1internal_1_1NiceMockImpl}{NiceMockImpl}}() \{}
\DoxyCodeLine{114     ::testing::Mock::AllowUninterestingCalls(\textcolor{keyword}{reinterpret\_cast<}uintptr\_t\textcolor{keyword}{>}(\textcolor{keyword}{this}));}
\DoxyCodeLine{115   \}}
\DoxyCodeLine{116 }
\DoxyCodeLine{117   \mbox{\hyperlink{classtesting_1_1internal_1_1NiceMockImpl}{\string~NiceMockImpl}}() \{}
\DoxyCodeLine{118     ::testing::Mock::UnregisterCallReaction(\textcolor{keyword}{reinterpret\_cast<}uintptr\_t\textcolor{keyword}{>}(\textcolor{keyword}{this}));}
\DoxyCodeLine{119   \}}
\DoxyCodeLine{120 \};}
\DoxyCodeLine{121 }
\DoxyCodeLine{122 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Base>}
\DoxyCodeLine{123 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1NaggyMockImpl}{NaggyMockImpl}} \{}
\DoxyCodeLine{124  \textcolor{keyword}{public}:}
\DoxyCodeLine{125   \mbox{\hyperlink{classtesting_1_1internal_1_1NaggyMockImpl}{NaggyMockImpl}}() \{}
\DoxyCodeLine{126     ::testing::Mock::WarnUninterestingCalls(\textcolor{keyword}{reinterpret\_cast<}uintptr\_t\textcolor{keyword}{>}(\textcolor{keyword}{this}));}
\DoxyCodeLine{127   \}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129   \mbox{\hyperlink{classtesting_1_1internal_1_1NaggyMockImpl}{\string~NaggyMockImpl}}() \{}
\DoxyCodeLine{130     ::testing::Mock::UnregisterCallReaction(\textcolor{keyword}{reinterpret\_cast<}uintptr\_t\textcolor{keyword}{>}(\textcolor{keyword}{this}));}
\DoxyCodeLine{131   \}}
\DoxyCodeLine{132 \};}
\DoxyCodeLine{133 }
\DoxyCodeLine{134 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Base>}
\DoxyCodeLine{135 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1StrictMockImpl}{StrictMockImpl}} \{}
\DoxyCodeLine{136  \textcolor{keyword}{public}:}
\DoxyCodeLine{137   \mbox{\hyperlink{classtesting_1_1internal_1_1StrictMockImpl}{StrictMockImpl}}() \{}
\DoxyCodeLine{138     ::testing::Mock::FailUninterestingCalls(\textcolor{keyword}{reinterpret\_cast<}uintptr\_t\textcolor{keyword}{>}(\textcolor{keyword}{this}));}
\DoxyCodeLine{139   \}}
\DoxyCodeLine{140 }
\DoxyCodeLine{141   \mbox{\hyperlink{classtesting_1_1internal_1_1StrictMockImpl}{\string~StrictMockImpl}}() \{}
\DoxyCodeLine{142     ::testing::Mock::UnregisterCallReaction(\textcolor{keyword}{reinterpret\_cast<}uintptr\_t\textcolor{keyword}{>}(\textcolor{keyword}{this}));}
\DoxyCodeLine{143   \}}
\DoxyCodeLine{144 \};}
\DoxyCodeLine{145 }
\DoxyCodeLine{146 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{147 }
\DoxyCodeLine{148 \textcolor{keyword}{template} <\textcolor{keyword}{class} MockClass>}
\DoxyCodeLine{149 \textcolor{keyword}{class }GTEST\_INTERNAL\_EMPTY\_BASE\_CLASS \mbox{\hyperlink{classtesting_1_1NiceMock}{NiceMock}}}
\DoxyCodeLine{150     : \textcolor{keyword}{private} \mbox{\hyperlink{classtesting_1_1internal_1_1NiceMockImpl}{internal::NiceMockImpl}}<MockClass>,}
\DoxyCodeLine{151       \textcolor{keyword}{public} MockClass \{}
\DoxyCodeLine{152  \textcolor{keyword}{public}:}
\DoxyCodeLine{153   \textcolor{keyword}{static\_assert}(!internal::HasStrictnessModifier<MockClass>(),}
\DoxyCodeLine{154                 \textcolor{stringliteral}{"{}Can't apply NiceMock to a class hierarchy that already has a "{}}}
\DoxyCodeLine{155                 \textcolor{stringliteral}{"{}strictness modifier. See "{}}}
\DoxyCodeLine{156                 \textcolor{stringliteral}{"{}https://google.github.io/googletest/"{}}}
\DoxyCodeLine{157                 \textcolor{stringliteral}{"{}gmock\_cook\_book.html\#NiceStrictNaggy"{}});}
\DoxyCodeLine{158   \mbox{\hyperlink{classtesting_1_1NiceMock}{NiceMock}}() : MockClass() \{}
\DoxyCodeLine{159     \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(*this) == \textcolor{keyword}{sizeof}(MockClass),}
\DoxyCodeLine{160                   \textcolor{stringliteral}{"{}The impl subclass shouldn't introduce any padding"{}});}
\DoxyCodeLine{161   \}}
\DoxyCodeLine{162 }
\DoxyCodeLine{163   \textcolor{comment}{// Ideally, we would inherit base class's constructors through a using}}
\DoxyCodeLine{164   \textcolor{comment}{// declaration, which would preserve their visibility. However, many existing}}
\DoxyCodeLine{165   \textcolor{comment}{// tests rely on the fact that current implementation reexports protected}}
\DoxyCodeLine{166   \textcolor{comment}{// constructors as public. These tests would need to be cleaned up first.}}
\DoxyCodeLine{167 }
\DoxyCodeLine{168   \textcolor{comment}{// Single argument constructor is special-\/cased so that it can be}}
\DoxyCodeLine{169   \textcolor{comment}{// made explicit.}}
\DoxyCodeLine{170   \textcolor{keyword}{template} <\textcolor{keyword}{typename} A>}
\DoxyCodeLine{171   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1NiceMock}{NiceMock}}(A\&\& arg) : MockClass(std::forward<A>(arg)) \{}
\DoxyCodeLine{172     \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(*this) == \textcolor{keyword}{sizeof}(MockClass),}
\DoxyCodeLine{173                   \textcolor{stringliteral}{"{}The impl subclass shouldn't introduce any padding"{}});}
\DoxyCodeLine{174   \}}
\DoxyCodeLine{175 }
\DoxyCodeLine{176   \textcolor{keyword}{template} <\textcolor{keyword}{typename} TArg1, \textcolor{keyword}{typename} TArg2, \textcolor{keyword}{typename}... An>}
\DoxyCodeLine{177   \mbox{\hyperlink{classtesting_1_1NiceMock}{NiceMock}}(TArg1\&\& arg1, TArg2\&\& arg2, An\&\&... args)}
\DoxyCodeLine{178       : MockClass(std::forward<TArg1>(arg1), std::forward<TArg2>(arg2),}
\DoxyCodeLine{179                   std::forward<An>(args)...) \{}
\DoxyCodeLine{180     \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(*this) == \textcolor{keyword}{sizeof}(MockClass),}
\DoxyCodeLine{181                   \textcolor{stringliteral}{"{}The impl subclass shouldn't introduce any padding"{}});}
\DoxyCodeLine{182   \}}
\DoxyCodeLine{183 }
\DoxyCodeLine{184  \textcolor{keyword}{private}:}
\DoxyCodeLine{185   \mbox{\hyperlink{classtesting_1_1NiceMock}{NiceMock}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1NiceMock}{NiceMock}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{186   \mbox{\hyperlink{classtesting_1_1NiceMock}{NiceMock}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1NiceMock}{NiceMock}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{187 \};}
\DoxyCodeLine{188 }
\DoxyCodeLine{189 \textcolor{keyword}{template} <\textcolor{keyword}{class} MockClass>}
\DoxyCodeLine{190 \textcolor{keyword}{class }GTEST\_INTERNAL\_EMPTY\_BASE\_CLASS \mbox{\hyperlink{classtesting_1_1NaggyMock}{NaggyMock}}}
\DoxyCodeLine{191     : \textcolor{keyword}{private} \mbox{\hyperlink{classtesting_1_1internal_1_1NaggyMockImpl}{internal::NaggyMockImpl}}<MockClass>,}
\DoxyCodeLine{192       \textcolor{keyword}{public} MockClass \{}
\DoxyCodeLine{193   \textcolor{keyword}{static\_assert}(!internal::HasStrictnessModifier<MockClass>(),}
\DoxyCodeLine{194                 \textcolor{stringliteral}{"{}Can't apply NaggyMock to a class hierarchy that already has a "{}}}
\DoxyCodeLine{195                 \textcolor{stringliteral}{"{}strictness modifier. See "{}}}
\DoxyCodeLine{196                 \textcolor{stringliteral}{"{}https://google.github.io/googletest/"{}}}
\DoxyCodeLine{197                 \textcolor{stringliteral}{"{}gmock\_cook\_book.html\#NiceStrictNaggy"{}});}
\DoxyCodeLine{198 }
\DoxyCodeLine{199  \textcolor{keyword}{public}:}
\DoxyCodeLine{200   \mbox{\hyperlink{classtesting_1_1NaggyMock}{NaggyMock}}() : MockClass() \{}
\DoxyCodeLine{201     \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(*this) == \textcolor{keyword}{sizeof}(MockClass),}
\DoxyCodeLine{202                   \textcolor{stringliteral}{"{}The impl subclass shouldn't introduce any padding"{}});}
\DoxyCodeLine{203   \}}
\DoxyCodeLine{204 }
\DoxyCodeLine{205   \textcolor{comment}{// Ideally, we would inherit base class's constructors through a using}}
\DoxyCodeLine{206   \textcolor{comment}{// declaration, which would preserve their visibility. However, many existing}}
\DoxyCodeLine{207   \textcolor{comment}{// tests rely on the fact that current implementation reexports protected}}
\DoxyCodeLine{208   \textcolor{comment}{// constructors as public. These tests would need to be cleaned up first.}}
\DoxyCodeLine{209 }
\DoxyCodeLine{210   \textcolor{comment}{// Single argument constructor is special-\/cased so that it can be}}
\DoxyCodeLine{211   \textcolor{comment}{// made explicit.}}
\DoxyCodeLine{212   \textcolor{keyword}{template} <\textcolor{keyword}{typename} A>}
\DoxyCodeLine{213   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1NaggyMock}{NaggyMock}}(A\&\& arg) : MockClass(std::forward<A>(arg)) \{}
\DoxyCodeLine{214     \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(*this) == \textcolor{keyword}{sizeof}(MockClass),}
\DoxyCodeLine{215                   \textcolor{stringliteral}{"{}The impl subclass shouldn't introduce any padding"{}});}
\DoxyCodeLine{216   \}}
\DoxyCodeLine{217 }
\DoxyCodeLine{218   \textcolor{keyword}{template} <\textcolor{keyword}{typename} TArg1, \textcolor{keyword}{typename} TArg2, \textcolor{keyword}{typename}... An>}
\DoxyCodeLine{219   \mbox{\hyperlink{classtesting_1_1NaggyMock}{NaggyMock}}(TArg1\&\& arg1, TArg2\&\& arg2, An\&\&... args)}
\DoxyCodeLine{220       : MockClass(std::forward<TArg1>(arg1), std::forward<TArg2>(arg2),}
\DoxyCodeLine{221                   std::forward<An>(args)...) \{}
\DoxyCodeLine{222     \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(*this) == \textcolor{keyword}{sizeof}(MockClass),}
\DoxyCodeLine{223                   \textcolor{stringliteral}{"{}The impl subclass shouldn't introduce any padding"{}});}
\DoxyCodeLine{224   \}}
\DoxyCodeLine{225 }
\DoxyCodeLine{226  \textcolor{keyword}{private}:}
\DoxyCodeLine{227   \mbox{\hyperlink{classtesting_1_1NaggyMock}{NaggyMock}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1NaggyMock}{NaggyMock}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{228   \mbox{\hyperlink{classtesting_1_1NaggyMock}{NaggyMock}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1NaggyMock}{NaggyMock}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{229 \};}
\DoxyCodeLine{230 }
\DoxyCodeLine{231 \textcolor{keyword}{template} <\textcolor{keyword}{class} MockClass>}
\DoxyCodeLine{232 \textcolor{keyword}{class }GTEST\_INTERNAL\_EMPTY\_BASE\_CLASS \mbox{\hyperlink{classtesting_1_1StrictMock}{StrictMock}}}
\DoxyCodeLine{233     : \textcolor{keyword}{private} \mbox{\hyperlink{classtesting_1_1internal_1_1StrictMockImpl}{internal::StrictMockImpl}}<MockClass>,}
\DoxyCodeLine{234       \textcolor{keyword}{public} MockClass \{}
\DoxyCodeLine{235  \textcolor{keyword}{public}:}
\DoxyCodeLine{236   \textcolor{keyword}{static\_assert}(}
\DoxyCodeLine{237       !internal::HasStrictnessModifier<MockClass>(),}
\DoxyCodeLine{238       \textcolor{stringliteral}{"{}Can't apply StrictMock to a class hierarchy that already has a "{}}}
\DoxyCodeLine{239       \textcolor{stringliteral}{"{}strictness modifier. See "{}}}
\DoxyCodeLine{240       \textcolor{stringliteral}{"{}https://google.github.io/googletest/"{}}}
\DoxyCodeLine{241       \textcolor{stringliteral}{"{}gmock\_cook\_book.html\#NiceStrictNaggy"{}});}
\DoxyCodeLine{242   \mbox{\hyperlink{classtesting_1_1StrictMock}{StrictMock}}() : MockClass() \{}
\DoxyCodeLine{243     \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(*this) == \textcolor{keyword}{sizeof}(MockClass),}
\DoxyCodeLine{244                   \textcolor{stringliteral}{"{}The impl subclass shouldn't introduce any padding"{}});}
\DoxyCodeLine{245   \}}
\DoxyCodeLine{246 }
\DoxyCodeLine{247   \textcolor{comment}{// Ideally, we would inherit base class's constructors through a using}}
\DoxyCodeLine{248   \textcolor{comment}{// declaration, which would preserve their visibility. However, many existing}}
\DoxyCodeLine{249   \textcolor{comment}{// tests rely on the fact that current implementation reexports protected}}
\DoxyCodeLine{250   \textcolor{comment}{// constructors as public. These tests would need to be cleaned up first.}}
\DoxyCodeLine{251 }
\DoxyCodeLine{252   \textcolor{comment}{// Single argument constructor is special-\/cased so that it can be}}
\DoxyCodeLine{253   \textcolor{comment}{// made explicit.}}
\DoxyCodeLine{254   \textcolor{keyword}{template} <\textcolor{keyword}{typename} A>}
\DoxyCodeLine{255   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1StrictMock}{StrictMock}}(A\&\& arg) : MockClass(std::forward<A>(arg)) \{}
\DoxyCodeLine{256     \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(*this) == \textcolor{keyword}{sizeof}(MockClass),}
\DoxyCodeLine{257                   \textcolor{stringliteral}{"{}The impl subclass shouldn't introduce any padding"{}});}
\DoxyCodeLine{258   \}}
\DoxyCodeLine{259 }
\DoxyCodeLine{260   \textcolor{keyword}{template} <\textcolor{keyword}{typename} TArg1, \textcolor{keyword}{typename} TArg2, \textcolor{keyword}{typename}... An>}
\DoxyCodeLine{261   \mbox{\hyperlink{classtesting_1_1StrictMock}{StrictMock}}(TArg1\&\& arg1, TArg2\&\& arg2, An\&\&... args)}
\DoxyCodeLine{262       : MockClass(std::forward<TArg1>(arg1), std::forward<TArg2>(arg2),}
\DoxyCodeLine{263                   std::forward<An>(args)...) \{}
\DoxyCodeLine{264     \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(*this) == \textcolor{keyword}{sizeof}(MockClass),}
\DoxyCodeLine{265                   \textcolor{stringliteral}{"{}The impl subclass shouldn't introduce any padding"{}});}
\DoxyCodeLine{266   \}}
\DoxyCodeLine{267 }
\DoxyCodeLine{268  \textcolor{keyword}{private}:}
\DoxyCodeLine{269   \mbox{\hyperlink{classtesting_1_1StrictMock}{StrictMock}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1StrictMock}{StrictMock}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{270   \mbox{\hyperlink{classtesting_1_1StrictMock}{StrictMock}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1StrictMock}{StrictMock}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{271 \};}
\DoxyCodeLine{272 }
\DoxyCodeLine{273 \textcolor{preprocessor}{\#undef GTEST\_INTERNAL\_EMPTY\_BASE\_CLASS}}
\DoxyCodeLine{274 }
\DoxyCodeLine{275 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{276 }
\DoxyCodeLine{277 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GOOGLEMOCK\_INCLUDE\_GMOCK\_GMOCK\_NICE\_STRICT\_H\_}}

\end{DoxyCode}
